var ze=Object.defineProperty,$n=Object.prototype.hasOwnProperty,k=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),pr=e=>ze(e,"__esModule",{value:!0}),Mn=(e,t)=>{pr(e);for(var r in t)ze(e,r,{get:t[r],enumerable:!0})},jn=(e,t)=>{if(pr(e),typeof t=="object"||typeof t=="function")for(let r in t)!$n.call(e,r)&&r!=="default"&&ze(e,r,{get:()=>t[r],enumerable:!0});return e},q=e=>e&&e.__esModule?e:jn(ze({},"default",{value:e,enumerable:!0}),e);var ke=k((al,dr)=>{"use strict";const Wn=require("path"),ie="\\\\/",mr=`[^${ie}]`,ue="\\.",Bn="\\+",Gn="\\?",Ke="\\/",qn="(?=.)",gr="[^/]",dt=`(?:${Ke}|$)`,br=`(?:^|${Ke})`,mt=`${ue}{1,2}${dt}`,Un=`(?!${ue})`,zn=`(?!${br}${mt})`,Kn=`(?!${ue}{0,1}${dt})`,Yn=`(?!${mt})`,Vn=`[^.${Ke}]`,Qn=`${gr}*?`,yr={DOT_LITERAL:ue,PLUS_LITERAL:Bn,QMARK_LITERAL:Gn,SLASH_LITERAL:Ke,ONE_CHAR:qn,QMARK:gr,END_ANCHOR:dt,DOTS_SLASH:mt,NO_DOT:Un,NO_DOTS:zn,NO_DOT_SLASH:Kn,NO_DOTS_SLASH:Yn,QMARK_NO_DOT:Vn,STAR:Qn,START_ANCHOR:br},Xn={...yr,SLASH_LITERAL:`[${ie}]`,QMARK:mr,STAR:`${mr}*?`,DOTS_SLASH:`${ue}{1,2}(?:[${ie}]|$)`,NO_DOT:`(?!${ue})`,NO_DOTS:`(?!(?:^|[${ie}])${ue}{1,2}(?:[${ie}]|$))`,NO_DOT_SLASH:`(?!${ue}{0,1}(?:[${ie}]|$))`,NO_DOTS_SLASH:`(?!${ue}{1,2}(?:[${ie}]|$))`,QMARK_NO_DOT:`[^.${ie}]`,START_ANCHOR:`(?:^|[${ie}])`,END_ANCHOR:`(?:[${ie}]|$)`},Zn={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};dr.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Zn,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Wn.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Xn:yr}}});var Ye=k(K=>{"use strict";const Jn=require("path"),ei=process.platform==="win32",{REGEX_BACKSLASH:ti,REGEX_REMOVE_BACKSLASH:ri,REGEX_SPECIAL_CHARS:si,REGEX_SPECIAL_CHARS_GLOBAL:ni}=ke();K.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);K.hasRegexChars=e=>si.test(e);K.isRegexChar=e=>e.length===1&&K.hasRegexChars(e);K.escapeRegex=e=>e.replace(ni,"\\$1");K.toPosixSlashes=e=>e.replace(ti,"/");K.removeBackslashes=e=>e.replace(ri,t=>t==="\\"?"":t);K.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};K.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:ei===!0||Jn.sep==="\\";K.escapeLast=(e,t,r)=>{const s=e.lastIndexOf(t,r);return s===-1?e:e[s-1]==="\\"?K.escapeLast(e,t,s-1):`${e.slice(0,s)}\\${e.slice(s)}`};K.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};K.wrapOutput=(e,t={},r={})=>{const s=r.contains?"":"^",n=r.contains?"":"$";let a=`${s}(?:${e})${n}`;return t.negated===!0&&(a=`(?:^(?!${a}).*$)`),a}});var Tr=k((ll,wr)=>{"use strict";const _r=Ye(),{CHAR_ASTERISK:gt,CHAR_AT:ii,CHAR_BACKWARD_SLASH:Pe,CHAR_COMMA:ai,CHAR_DOT:bt,CHAR_EXCLAMATION_MARK:Er,CHAR_FORWARD_SLASH:xr,CHAR_LEFT_CURLY_BRACE:yt,CHAR_LEFT_PARENTHESES:wt,CHAR_LEFT_SQUARE_BRACKET:oi,CHAR_PLUS:li,CHAR_QUESTION_MARK:Sr,CHAR_RIGHT_CURLY_BRACE:ci,CHAR_RIGHT_PARENTHESES:vr,CHAR_RIGHT_SQUARE_BRACKET:ui}=ke(),Rr=e=>e===xr||e===Pe,Ar=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},hi=(e,t)=>{const r=t||{},s=e.length-1,n=r.parts===!0||r.scanToEnd===!0,a=[],i=[],o=[];let l=e,u=-1,c=0,h=0,f=!1,_=!1,E=!1,w=!1,S=!1,R=!1,F=!1,L=!1,D=!1,le=0,fe,x,A={value:"",depth:0,isGlob:!1};const se=()=>u>=s,z=()=>l.charCodeAt(u+1),m=()=>(fe=x,l.charCodeAt(++u));for(;u<s;){x=m();let p;if(x===Pe){F=A.backslashes=!0,x=m(),x===yt&&(R=!0);continue}if(R===!0||x===yt){for(le++;se()!==!0&&(x=m());){if(x===Pe){F=A.backslashes=!0,m();continue}if(x===yt){le++;continue}if(R!==!0&&x===bt&&(x=m())===bt){if(f=A.isBrace=!0,E=A.isGlob=!0,D=!0,n===!0)continue;break}if(R!==!0&&x===ai){if(f=A.isBrace=!0,E=A.isGlob=!0,D=!0,n===!0)continue;break}if(x===ci&&(le--,le===0)){R=!1,f=A.isBrace=!0,D=!0;break}}if(n===!0)continue;break}if(x===xr){if(a.push(u),i.push(A),A={value:"",depth:0,isGlob:!1},D===!0)continue;if(fe===bt&&u===c+1){c+=2;continue}h=u+1;continue}if(r.noext!==!0){const N=x===li||x===ii||x===gt||x===Sr||x===Er;if(N===!0&&z()===wt){if(E=A.isGlob=!0,w=A.isExtglob=!0,D=!0,n===!0){for(;se()!==!0&&(x=m());){if(x===Pe){F=A.backslashes=!0,x=m();continue}if(x===vr){E=A.isGlob=!0,D=!0;break}}continue}break}}if(x===gt){if(fe===gt&&(S=A.isGlobstar=!0),E=A.isGlob=!0,D=!0,n===!0)continue;break}if(x===Sr){if(E=A.isGlob=!0,D=!0,n===!0)continue;break}if(x===oi)for(;se()!==!0&&(p=m());){if(p===Pe){F=A.backslashes=!0,m();continue}if(p===ui){if(_=A.isBracket=!0,E=A.isGlob=!0,D=!0,n===!0)continue;break}}if(r.nonegate!==!0&&x===Er&&u===c){L=A.negated=!0,c++;continue}if(r.noparen!==!0&&x===wt){if(E=A.isGlob=!0,n===!0){for(;se()!==!0&&(x=m());){if(x===wt){F=A.backslashes=!0,x=m();continue}if(x===vr){D=!0;break}}continue}break}if(E===!0){if(D=!0,n===!0)continue;break}}r.noext===!0&&(w=!1,E=!1);let C=l,X="",J="";c>0&&(X=l.slice(0,c),l=l.slice(c),h-=c),C&&E===!0&&h>0?(C=l.slice(0,h),J=l.slice(h)):E===!0?(C="",J=l):C=l,C&&C!==""&&C!=="/"&&C!==l&&(Rr(C.charCodeAt(C.length-1))&&(C=C.slice(0,-1))),r.unescape===!0&&(J&&(J=_r.removeBackslashes(J)),C&&F===!0&&(C=_r.removeBackslashes(C)));const d={prefix:X,input:e,start:c,base:C,glob:J,isBrace:f,isBracket:_,isGlob:E,isExtglob:w,isGlobstar:S,negated:L};if(r.tokens===!0&&(d.maxDepth=0,Rr(x)||i.push(A),d.tokens=i),r.parts===!0||r.tokens===!0){let p;for(let N=0;N<a.length;N++){const $=p?p+1:c,ee=a[N],ne=e.slice($,ee);r.tokens&&(N===0&&c!==0?(i[N].isPrefix=!0,i[N].value=X):i[N].value=ne,Ar(i[N]),d.maxDepth+=i[N].depth),(N!==0||ne!=="")&&o.push(ne),p=ee}if(p&&p+1<e.length){const N=e.slice(p+1);o.push(N),r.tokens&&(i[i.length-1].value=N,Ar(i[i.length-1]),d.maxDepth+=i[i.length-1].depth)}d.slashes=a,d.parts=o}return d};wr.exports=hi});var Or=k((cl,Cr)=>{"use strict";const Ve=ke(),Y=Ye(),{MAX_LENGTH:Qe,POSIX_REGEX_SOURCE:fi,REGEX_NON_SPECIAL_CHARS:pi,REGEX_SPECIAL_CHARS_BACKREF:di,REPLACEMENTS:kr}=Ve,mi=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();const r=`[${e.join("-")}]`;try{new RegExp(r)}catch(s){return e.map(n=>Y.escapeRegex(n)).join("..")}return r},_e=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Pr=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=kr[e]||e;const r={...t},s=typeof r.maxLength=="number"?Math.min(Qe,r.maxLength):Qe;let n=e.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);const a={type:"bos",value:"",output:r.prepend||""},i=[a],o=r.capture?"":"?:",l=Y.isWindows(t),u=Ve.globChars(l),c=Ve.extglobChars(u),{DOT_LITERAL:h,PLUS_LITERAL:f,SLASH_LITERAL:_,ONE_CHAR:E,DOTS_SLASH:w,NO_DOT:S,NO_DOT_SLASH:R,NO_DOTS_SLASH:F,QMARK:L,QMARK_NO_DOT:D,STAR:le,START_ANCHOR:fe}=u,x=b=>`(${o}(?:(?!${fe}${b.dot?w:h}).)*?)`,A=r.dot?"":S,se=r.dot?L:D;let z=r.bash===!0?x(r):le;r.capture&&(z=`(${z})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);const m={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};e=Y.removePrefix(e,m),n=e.length;const C=[],X=[],J=[];let d=a,p;const N=()=>m.index===n-1,$=m.peek=(b=1)=>e[m.index+b],ee=m.advance=()=>e[++m.index],ne=()=>e.slice(m.index+1),ce=(b="",O=0)=>{m.consumed+=b,m.index+=O},Be=b=>{m.output+=b.output!=null?b.output:b.value,ce(b.value)},In=()=>{let b=1;for(;$()==="!"&&($(2)!=="("||$(3)==="?");)ee(),m.start++,b++;return b%2===0?!1:(m.negated=!0,m.start++,!0)},Ge=b=>{m[b]++,J.push(b)},pe=b=>{m[b]--,J.pop()},v=b=>{if(d.type==="globstar"){const O=m.braces>0&&(b.type==="comma"||b.type==="brace"),g=b.extglob===!0||C.length&&(b.type==="pipe"||b.type==="paren");b.type!=="slash"&&b.type!=="paren"&&!O&&!g&&(m.output=m.output.slice(0,-d.output.length),d.type="star",d.value="*",d.output=z,m.output+=d.output)}if(C.length&&b.type!=="paren"&&!c[b.value]&&(C[C.length-1].inner+=b.value),(b.value||b.output)&&Be(b),d&&d.type==="text"&&b.type==="text"){d.value+=b.value,d.output=(d.output||"")+b.value;return}b.prev=d,i.push(b),d=b},qe=(b,O)=>{const g={...c[O],conditions:1,inner:""};g.prev=d,g.parens=m.parens,g.output=m.output;const T=(r.capture?"(":"")+g.open;Ge("parens"),v({type:b,value:O,output:m.output?"":E}),v({type:"paren",extglob:!0,value:ee(),output:T}),C.push(g)},Dn=b=>{let O=b.close+(r.capture?")":"");if(b.type==="negate"){let g=z;b.inner&&b.inner.length>1&&b.inner.includes("/")&&(g=x(r)),(g!==z||N()||/^\)+$/.test(ne()))&&(O=b.close=`)$))${g}`),b.prev.type==="bos"&&N()&&(m.negatedExtglob=!0)}v({type:"paren",extglob:!0,value:p,output:O}),pe("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let b=!1,O=e.replace(di,(g,T,H,G,M,pt)=>G==="\\"?(b=!0,g):G==="?"?T?T+G+(M?L.repeat(M.length):""):pt===0?se+(M?L.repeat(M.length):""):L.repeat(H.length):G==="."?h.repeat(H.length):G==="*"?T?T+G+(M?z:""):z:T?g:`\\${g}`);return b===!0&&(r.unescape===!0?O=O.replace(/\\/g,""):O=O.replace(/\\+/g,g=>g.length%2===0?"\\\\":g?"\\":"")),O===e&&r.contains===!0?(m.output=e,m):(m.output=Y.wrapOutput(O,m,t),m)}for(;!N();){if(p=ee(),p==="\0")continue;if(p==="\\"){const g=$();if(g==="/"&&r.bash!==!0)continue;if(g==="."||g===";")continue;if(!g){p+="\\",v({type:"text",value:p});continue}const T=/^\\+/.exec(ne());let H=0;if(T&&T[0].length>2&&(H=T[0].length,m.index+=H,H%2!==0&&(p+="\\")),r.unescape===!0?p=ee()||"":p+=ee()||"",m.brackets===0){v({type:"text",value:p});continue}}if(m.brackets>0&&(p!=="]"||d.value==="["||d.value==="[^")){if(r.posix!==!1&&p===":"){const g=d.value.slice(1);if(g.includes("[")&&(d.posix=!0,g.includes(":"))){const T=d.value.lastIndexOf("["),H=d.value.slice(0,T),G=d.value.slice(T+2),M=fi[G];if(M){d.value=H+M,m.backtrack=!0,ee(),!a.output&&i.indexOf(d)===1&&(a.output=E);continue}}}(p==="["&&$()!==":"||p==="-"&&$()==="]")&&(p=`\\${p}`),p==="]"&&(d.value==="["||d.value==="[^")&&(p=`\\${p}`),r.posix===!0&&p==="!"&&d.value==="["&&(p="^"),d.value+=p,Be({value:p});continue}if(m.quotes===1&&p!=='"'){p=Y.escapeRegex(p),d.value+=p,Be({value:p});continue}if(p==='"'){m.quotes=m.quotes===1?0:1,r.keepQuotes===!0&&v({type:"text",value:p});continue}if(p==="("){Ge("parens"),v({type:"paren",value:p});continue}if(p===")"){if(m.parens===0&&r.strictBrackets===!0)throw new SyntaxError(_e("opening","("));const g=C[C.length-1];if(g&&m.parens===g.parens+1){Dn(C.pop());continue}v({type:"paren",value:p,output:m.parens?")":"\\)"}),pe("parens");continue}if(p==="["){if(r.nobracket===!0||!ne().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(_e("closing","]"));p=`\\${p}`}else Ge("brackets");v({type:"bracket",value:p});continue}if(p==="]"){if(r.nobracket===!0||d&&d.type==="bracket"&&d.value.length===1){v({type:"text",value:p,output:`\\${p}`});continue}if(m.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(_e("opening","["));v({type:"text",value:p,output:`\\${p}`});continue}pe("brackets");const g=d.value.slice(1);if(d.posix!==!0&&g[0]==="^"&&!g.includes("/")&&(p=`/${p}`),d.value+=p,Be({value:p}),r.literalBrackets===!1||Y.hasRegexChars(g))continue;const T=Y.escapeRegex(d.value);if(m.output=m.output.slice(0,-d.value.length),r.literalBrackets===!0){m.output+=T,d.value=T;continue}d.value=`(${o}${T}|${d.value})`,m.output+=d.value;continue}if(p==="{"&&r.nobrace!==!0){Ge("braces");const g={type:"brace",value:p,output:"(",outputIndex:m.output.length,tokensIndex:m.tokens.length};X.push(g),v(g);continue}if(p==="}"){const g=X[X.length-1];if(r.nobrace===!0||!g){v({type:"text",value:p,output:p});continue}let T=")";if(g.dots===!0){const H=i.slice(),G=[];for(let M=H.length-1;M>=0&&!(i.pop(),H[M].type==="brace");M--)H[M].type!=="dots"&&G.unshift(H[M].value);T=mi(G,r),m.backtrack=!0}if(g.comma!==!0&&g.dots!==!0){const H=m.output.slice(0,g.outputIndex),G=m.tokens.slice(g.tokensIndex);g.value=g.output="\\{",p=T="\\}",m.output=H;for(const M of G)m.output+=M.output||M.value}v({type:"brace",value:p,output:T}),pe("braces"),X.pop();continue}if(p==="|"){C.length>0&&C[C.length-1].conditions++,v({type:"text",value:p});continue}if(p===","){let g=p;const T=X[X.length-1];T&&J[J.length-1]==="braces"&&(T.comma=!0,g="|"),v({type:"comma",value:p,output:g});continue}if(p==="/"){if(d.type==="dot"&&m.index===m.start+1){m.start=m.index+1,m.consumed="",m.output="",i.pop(),d=a;continue}v({type:"slash",value:p,output:_});continue}if(p==="."){if(m.braces>0&&d.type==="dot"){d.value==="."&&(d.output=h);const g=X[X.length-1];d.type="dots",d.output+=p,d.value+=p,g.dots=!0;continue}if(m.braces+m.parens===0&&d.type!=="bos"&&d.type!=="slash"){v({type:"text",value:p,output:h});continue}v({type:"dot",value:p,output:h});continue}if(p==="?"){const g=d&&d.value==="(";if(!g&&r.noextglob!==!0&&$()==="("&&$(2)!=="?"){qe("qmark",p);continue}if(d&&d.type==="paren"){const T=$();let H=p;if(T==="<"&&!Y.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(d.value==="("&&!/[!=<:]/.test(T)||T==="<"&&!/<([!=]|\w+>)/.test(ne()))&&(H=`\\${p}`),v({type:"text",value:p,output:H});continue}if(r.dot!==!0&&(d.type==="slash"||d.type==="bos")){v({type:"qmark",value:p,output:D});continue}v({type:"qmark",value:p,output:L});continue}if(p==="!"){if(r.noextglob!==!0&&$()==="("&&($(2)!=="?"||!/[!=<:]/.test($(3)))){qe("negate",p);continue}if(r.nonegate!==!0&&m.index===0){In();continue}}if(p==="+"){if(r.noextglob!==!0&&$()==="("&&$(2)!=="?"){qe("plus",p);continue}if(d&&d.value==="("||r.regex===!1){v({type:"plus",value:p,output:f});continue}if(d&&(d.type==="bracket"||d.type==="paren"||d.type==="brace")||m.parens>0){v({type:"plus",value:p});continue}v({type:"plus",value:f});continue}if(p==="@"){if(r.noextglob!==!0&&$()==="("&&$(2)!=="?"){v({type:"at",extglob:!0,value:p,output:""});continue}v({type:"text",value:p});continue}if(p!=="*"){(p==="$"||p==="^")&&(p=`\\${p}`);const g=pi.exec(ne());g&&(p+=g[0],m.index+=g[0].length),v({type:"text",value:p});continue}if(d&&(d.type==="globstar"||d.star===!0)){d.type="star",d.star=!0,d.value+=p,d.output=z,m.backtrack=!0,m.globstar=!0,ce(p);continue}let b=ne();if(r.noextglob!==!0&&/^\([^?]/.test(b)){qe("star",p);continue}if(d.type==="star"){if(r.noglobstar===!0){ce(p);continue}const g=d.prev,T=g.prev,H=g.type==="slash"||g.type==="bos",G=T&&(T.type==="star"||T.type==="globstar");if(r.bash===!0&&(!H||b[0]&&b[0]!=="/")){v({type:"star",value:p,output:""});continue}const M=m.braces>0&&(g.type==="comma"||g.type==="brace"),pt=C.length&&(g.type==="pipe"||g.type==="paren");if(!H&&g.type!=="paren"&&!M&&!pt){v({type:"star",value:p,output:""});continue}for(;b.slice(0,3)==="/**";){const Ue=e[m.index+4];if(Ue&&Ue!=="/")break;b=b.slice(3),ce("/**",3)}if(g.type==="bos"&&N()){d.type="globstar",d.value+=p,d.output=x(r),m.output=d.output,m.globstar=!0,ce(p);continue}if(g.type==="slash"&&g.prev.type!=="bos"&&!G&&N()){m.output=m.output.slice(0,-(g.output+d.output).length),g.output=`(?:${g.output}`,d.type="globstar",d.output=x(r)+(r.strictSlashes?")":"|$)"),d.value+=p,m.globstar=!0,m.output+=g.output+d.output,ce(p);continue}if(g.type==="slash"&&g.prev.type!=="bos"&&b[0]==="/"){const Ue=b[1]!==void 0?"|$":"";m.output=m.output.slice(0,-(g.output+d.output).length),g.output=`(?:${g.output}`,d.type="globstar",d.output=`${x(r)}${_}|${_}${Ue})`,d.value+=p,m.output+=g.output+d.output,m.globstar=!0,ce(p+ee()),v({type:"slash",value:"/",output:""});continue}if(g.type==="bos"&&b[0]==="/"){d.type="globstar",d.value+=p,d.output=`(?:^|${_}|${x(r)}${_})`,m.output=d.output,m.globstar=!0,ce(p+ee()),v({type:"slash",value:"/",output:""});continue}m.output=m.output.slice(0,-d.output.length),d.type="globstar",d.output=x(r),d.value+=p,m.output+=d.output,m.globstar=!0,ce(p);continue}const O={type:"star",value:p,output:z};if(r.bash===!0){O.output=".*?",(d.type==="bos"||d.type==="slash")&&(O.output=A+O.output),v(O);continue}if(d&&(d.type==="bracket"||d.type==="paren")&&r.regex===!0){O.output=p,v(O);continue}(m.index===m.start||d.type==="slash"||d.type==="dot")&&(d.type==="dot"?(m.output+=R,d.output+=R):r.dot===!0?(m.output+=F,d.output+=F):(m.output+=A,d.output+=A),$()!=="*"&&(m.output+=E,d.output+=E)),v(O)}for(;m.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(_e("closing","]"));m.output=Y.escapeLast(m.output,"["),pe("brackets")}for(;m.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(_e("closing",")"));m.output=Y.escapeLast(m.output,"("),pe("parens")}for(;m.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(_e("closing","}"));m.output=Y.escapeLast(m.output,"{"),pe("braces")}if(r.strictSlashes!==!0&&(d.type==="star"||d.type==="bracket")&&v({type:"maybe_slash",value:"",output:`${_}?`}),m.backtrack===!0){m.output="";for(const b of m.tokens)m.output+=b.output!=null?b.output:b.value,b.suffix&&(m.output+=b.suffix)}return m};Pr.fastpaths=(e,t)=>{const r={...t},s=typeof r.maxLength=="number"?Math.min(Qe,r.maxLength):Qe,n=e.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);e=kr[e]||e;const a=Y.isWindows(t),{DOT_LITERAL:i,SLASH_LITERAL:o,ONE_CHAR:l,DOTS_SLASH:u,NO_DOT:c,NO_DOTS:h,NO_DOTS_SLASH:f,STAR:_,START_ANCHOR:E}=Ve.globChars(a),w=r.dot?h:c,S=r.dot?f:c,R=r.capture?"":"?:",F={negated:!1,prefix:""};let L=r.bash===!0?".*?":_;r.capture&&(L=`(${L})`);const D=A=>A.noglobstar===!0?L:`(${R}(?:(?!${E}${A.dot?u:i}).)*?)`,le=A=>{switch(A){case"*":return`${w}${l}${L}`;case".*":return`${i}${l}${L}`;case"*.*":return`${w}${L}${i}${l}${L}`;case"*/*":return`${w}${L}${o}${l}${S}${L}`;case"**":return w+D(r);case"**/*":return`(?:${w}${D(r)}${o})?${S}${l}${L}`;case"**/*.*":return`(?:${w}${D(r)}${o})?${S}${L}${i}${l}${L}`;case"**/.*":return`(?:${w}${D(r)}${o})?${i}${l}${L}`;default:{const se=/^(.*?)\.(\w+)$/.exec(A);if(!se)return;const z=le(se[1]);return z?z+i+se[2]:void 0}}},fe=Y.removePrefix(e,F);let x=le(fe);return x&&r.strictSlashes!==!0&&(x+=`${o}?`),x};Cr.exports=Pr});var Lr=k((ul,Fr)=>{"use strict";const gi=require("path"),bi=Tr(),_t=Or(),Et=Ye(),yi=ke(),wi=e=>e&&typeof e=="object"&&!Array.isArray(e),I=(e,t,r=!1)=>{if(Array.isArray(e)){const c=e.map(f=>I(f,t,r)),h=f=>{for(const _ of c){const E=_(f);if(E)return E}return!1};return h}const s=wi(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");const n=t||{},a=Et.isWindows(t),i=s?I.compileRe(e,t):I.makeRe(e,t,!1,!0),o=i.state;delete i.state;let l=()=>!1;if(n.ignore){const c={...t,ignore:null,onMatch:null,onResult:null};l=I(n.ignore,c,r)}const u=(c,h=!1)=>{const{isMatch:f,match:_,output:E}=I.test(c,i,t,{glob:e,posix:a}),w={glob:e,state:o,regex:i,posix:a,input:c,output:E,match:_,isMatch:f};return typeof n.onResult=="function"&&n.onResult(w),f===!1?(w.isMatch=!1,h?w:!1):l(c)?(typeof n.onIgnore=="function"&&n.onIgnore(w),w.isMatch=!1,h?w:!1):(typeof n.onMatch=="function"&&n.onMatch(w),h?w:!0)};return r&&(u.state=o),u};I.test=(e,t,r,{glob:s,posix:n}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const a=r||{},i=a.format||(n?Et.toPosixSlashes:null);let o=e===s,l=o&&i?i(e):e;return o===!1&&(l=i?i(e):e,o=l===s),(o===!1||a.capture===!0)&&(a.matchBase===!0||a.basename===!0?o=I.matchBase(e,t,r,n):o=t.exec(l)),{isMatch:Boolean(o),match:o,output:l}};I.matchBase=(e,t,r,s=Et.isWindows(r))=>{const n=t instanceof RegExp?t:I.makeRe(t,r);return n.test(gi.basename(e))};I.isMatch=(e,t,r)=>I(t,r)(e);I.parse=(e,t)=>Array.isArray(e)?e.map(r=>I.parse(r,t)):_t(e,{...t,fastpaths:!1});I.scan=(e,t)=>bi(e,t);I.compileRe=(e,t,r=!1,s=!1)=>{if(r===!0)return e.output;const n=t||{},a=n.contains?"":"^",i=n.contains?"":"$";let o=`${a}(?:${e.output})${i}`;e&&e.negated===!0&&(o=`^(?!${o}).*$`);const l=I.toRegex(o,t);return s===!0&&(l.state=e),l};I.makeRe=(e,t,r=!1,s=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");const n=t||{};let a={negated:!1,fastpaths:!0},i="",o;return e.startsWith("./")&&(e=e.slice(2),i=a.prefix="./"),n.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(o=_t.fastpaths(e,t)),o===void 0?(a=_t(e,t),a.prefix=i+(a.prefix||"")):a.output=o,I.compileRe(a,t,r,s)};I.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};I.constants=yi;Fr.exports=I});var xt=k((hl,Nr)=>{"use strict";Nr.exports=Lr()});var Wr=k((fl,Hr)=>{"use strict";const Oe=require("fs"),{Readable:_i}=require("stream"),Xe=require("path"),{promisify:Ze}=require("util"),St=xt(),Ei=Ze(Oe.readdir),Ir=Ze(Oe.stat),Dr=Ze(Oe.lstat),xi=Ze(Oe.realpath),Si="!",vi=new Set(["ENOENT","EPERM","EACCES","ELOOP"]),vt="files",$r="directories",Je="files_directories",et="all",Mr=[vt,$r,Je,et],Ri=e=>vi.has(e.code),jr=e=>{if(e===void 0)return;if(typeof e=="function")return e;if(typeof e=="string"){const t=St(e.trim());return r=>t(r.basename)}if(Array.isArray(e)){const t=[],r=[];for(const s of e){const n=s.trim();n.charAt(0)===Si?r.push(St(n.slice(1))):t.push(St(n))}return r.length>0?t.length>0?s=>t.some(n=>n(s.basename))&&!r.some(n=>n(s.basename)):s=>!r.some(n=>n(s.basename)):s=>t.some(n=>n(s.basename))}};class Rt extends _i{static get defaultOptions(){return{root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:vt,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});const t={...Rt.defaultOptions,...e},{root:r,type:s}=t;this._fileFilter=jr(t.fileFilter),this._directoryFilter=jr(t.directoryFilter);const n=t.lstat?Dr:Ir;process.platform==="win32"&&Ir.length===3?this._stat=a=>n(a,{bigint:!0}):this._stat=n,this._maxDepth=t.depth,this._wantsDir=[$r,Je,et].includes(s),this._wantsFile=[vt,Je,et].includes(s),this._wantsEverything=s===et,this._root=Xe.resolve(r),this._isDirent="Dirent"in Oe&&!t.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(r,1)],this.reading=!1,this.parent=void 0}async _read(e){if(this.reading)return;this.reading=!0;try{for(;!this.destroyed&&e>0;){const{path:t,depth:r,files:s=[]}=this.parent||{};if(s.length>0){const n=s.splice(0,e).map(a=>this._formatEntry(a,t));for(const a of await Promise.all(n)){if(this.destroyed)return;const i=await this._getEntryType(a);i==="directory"&&this._directoryFilter(a)?(r<=this._maxDepth&&this.parents.push(this._exploreDir(a.fullPath,r+1)),this._wantsDir&&(this.push(a),e--)):(i==="file"||this._includeAsFile(a))&&this._fileFilter(a)&&(this._wantsFile&&(this.push(a),e--))}}else{const n=this.parents.pop();if(!n){this.push(null);break}if(this.parent=await n,this.destroyed)return}}}catch(t){this.destroy(t)}finally{this.reading=!1}}async _exploreDir(e,t){let r;try{r=await Ei(e,this._rdOptions)}catch(s){this._onError(s)}return{files:r,depth:t,path:e}}async _formatEntry(e,t){let r;try{const s=this._isDirent?e.name:e,n=Xe.resolve(Xe.join(t,s));r={path:Xe.relative(this._root,n),fullPath:n,basename:s},r[this._statsProp]=this._isDirent?e:await this._stat(n)}catch(s){this._onError(s)}return r}_onError(e){Ri(e)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}async _getEntryType(e){const t=e&&e[this._statsProp];if(!t)return;if(t.isFile())return"file";if(t.isDirectory())return"directory";if(t&&t.isSymbolicLink())try{const r=await xi(e.fullPath),s=await Dr(r);if(s.isFile())return"file";if(s.isDirectory())return"directory"}catch(r){this._onError(r)}}_includeAsFile(e){const t=e&&e[this._statsProp];return t&&this._wantsEverything&&!t.isDirectory()}}const Ee=(e,t={})=>{let r=t.entryType||t.type;if(r==="both"&&(r=Je),r&&(t.type=r),e){if(typeof e!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(r&&!Mr.includes(r))throw new Error(`readdirp: Invalid type passed. Use one of ${Mr.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return t.root=e,new Rt(t)},Ai=(e,t={})=>new Promise((r,s)=>{const n=[];Ee(e,t).on("data",a=>n.push(a)).on("end",()=>r(n)).on("error",a=>s(a))});Ee.promise=Ai;Ee.ReaddirpStream=Rt;Ee.default=Ee;Hr.exports=Ee});var At=k((pl,Br)=>{Br.exports=function(e,t){if(typeof e!="string")throw new TypeError("expected path to be a string");if(e==="\\"||e==="/")return"/";var r=e.length;if(r<=1)return e;var s="";if(r>4&&e[3]==="\\"){var n=e[2];(n==="?"||n===".")&&e.slice(0,2)==="\\\\"&&(e=e.slice(2),s="//")}var a=e.split(/[/\\]+/);return t!==!1&&a[a.length-1]===""&&a.pop(),s+a.join("/")}});var Kr=k((Gr,qr)=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});const Ur=xt(),Ti=At(),Ci="!",ki={returnIndex:!1},Pi=e=>Array.isArray(e)?e:[e],Oi=(e,t)=>{if(typeof e=="function")return e;if(typeof e=="string"){const r=Ur(e,t);return s=>e===s||r(s)}return e instanceof RegExp?r=>e.test(r):r=>!1},zr=(e,t,r,s)=>{const n=Array.isArray(r),a=n?r[0]:r;if(!n&&typeof a!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(a));const i=Ti(a);for(let l=0;l<t.length;l++){const u=t[l];if(u(i))return s?-1:!1}const o=n&&[i].concat(r.slice(1));for(let l=0;l<e.length;l++){const u=e[l];if(n?u(...o):u(i))return s?l:!0}return s?-1:!1},Tt=(e,t,r=ki)=>{if(e==null)throw new TypeError("anymatch: specify first argument");const s=typeof r=="boolean"?{returnIndex:r}:r,n=s.returnIndex||!1,a=Pi(e),i=a.filter(l=>typeof l=="string"&&l.charAt(0)===Ci).map(l=>l.slice(1)).map(l=>Ur(l,s)),o=a.map(l=>Oi(l,s));return t==null?(l,u=!1)=>{const c=typeof u=="boolean"?u:!1;return zr(o,i,l,c)}:zr(o,i,t,n)};Tt.default=Tt;qr.exports=Tt});var Vr=k((dl,Yr)=>{Yr.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var Ct=k((ml,Qr)=>{var Fi=Vr(),Li={"{":"}","(":")","[":"]"},Ni=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,Hi=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;Qr.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(Fi(t))return!0;var s=Ni,n;for(r&&r.strict===!1&&(s=Hi);n=s.exec(t);){if(n[2])return!0;var a=n.index+n[0].length,i=n[1],o=i?Li[i]:null;if(i&&o){var l=t.indexOf(o,a);l!==-1&&(a=l+1)}t=t.slice(a)}return!1}});var Zr=k((gl,Xr)=>{"use strict";var Ii=Ct(),Di=require("path").posix.dirname,$i=require("os").platform()==="win32",kt="/",Mi=/\\/g,ji=/[\{\[].*[\/]*.*[\}\]]$/,Wi=/(^|[^\\])([\{\[]|\([^\)]+$)/,Bi=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Xr.exports=function(t,r){var s=Object.assign({flipBackslashes:!0},r);s.flipBackslashes&&$i&&t.indexOf(kt)<0&&(t=t.replace(Mi,kt)),ji.test(t)&&(t+=kt),t+="a";do t=Di(t);while(Ii(t)||Wi.test(t));return t.replace(Bi,"$1")}});var tt=k(Z=>{"use strict";Z.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;Z.find=(e,t)=>e.nodes.find(r=>r.type===t);Z.exceedsLimit=(e,t,r=1,s)=>s===!1||(!Z.isInteger(e)||!Z.isInteger(t))?!1:(Number(t)-Number(e))/Number(r)>=s;Z.escapeNode=(e,t=0,r)=>{let s=e.nodes[t];if(!s)return;(r&&s.type===r||s.type==="open"||s.type==="close")&&(s.escaped!==!0&&(s.value="\\"+s.value,s.escaped=!0))};Z.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;Z.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||(e.open!==!0||e.close!==!0)?(e.invalid=!0,!0):!1;Z.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;Z.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);Z.flatten=(...e)=>{const t=[],r=s=>{for(let n=0;n<s.length;n++){let a=s[n];Array.isArray(a)?r(a,t):a!==void 0&&t.push(a)}return t};return r(e),t}});var rt=k((yl,Jr)=>{"use strict";const es=tt();Jr.exports=(e,t={})=>{let r=(s,n={})=>{let a=t.escapeInvalid&&es.isInvalidBrace(n),i=s.invalid===!0&&t.escapeInvalid===!0,o="";if(s.value)return(a||i)&&es.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(let l of s.nodes)o+=r(l);return o};return r(e)}});var rs=k((wl,ts)=>{"use strict";ts.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var hs=k((_l,ss)=>{"use strict";const ns=rs(),de=(e,t,r)=>{if(ns(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(ns(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...r};typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let n=String(s.relaxZeros),a=String(s.shorthand),i=String(s.capture),o=String(s.wrap),l=e+":"+t+"="+n+a+i+o;if(de.cache.hasOwnProperty(l))return de.cache[l].result;let u=Math.min(e,t),c=Math.max(e,t);if(Math.abs(u-c)===1){let w=e+"|"+t;return s.capture?`(${w})`:s.wrap===!1?w:`(?:${w})`}let h=as(e)||as(t),f={min:e,max:t,a:u,b:c},_=[],E=[];if(h&&(f.isPadded=h,f.maxLen=String(f.max).length),u<0){let w=c<0?Math.abs(c):1;E=is(w,Math.abs(u),f,s),u=f.a=0}return c>=0&&(_=is(u,c,f,s)),f.negatives=E,f.positives=_,f.result=Gi(E,_,s),s.capture===!0?f.result=`(${f.result})`:s.wrap!==!1&&_.length+E.length>1&&(f.result=`(?:${f.result})`),de.cache[l]=f,f.result};function Gi(e,t,r){let s=Pt(e,t,"-",!1,r)||[],n=Pt(t,e,"",!1,r)||[],a=Pt(e,t,"-?",!0,r)||[],i=s.concat(a).concat(n);return i.join("|")}function Ui(e,t){let r=1,s=1,n=os(e,r),a=new Set([t]);for(;e<=n&&n<=t;)a.add(n),r+=1,n=os(e,r);for(n=ls(t+1,s)-1;e<n&&n<=t;)a.add(n),s+=1,n=ls(t+1,s)-1;return a=[...a],a.sort(qi),a}function Yi(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let s=zi(e,t),n=s.length,a="",i=0;for(let o=0;o<n;o++){let[l,u]=s[o];l===u?a+=l:l!=="0"||u!=="9"?a+=Ki(l,u,r):i++}return i&&(a+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:a,count:[i],digits:n}}function is(e,t,r,s){let n=Ui(e,t),a=[],i=e,o;for(let l=0;l<n.length;l++){let u=n[l],c=Yi(String(i),String(u),s),h="";if(!r.isPadded&&o&&o.pattern===c.pattern){o.count.length>1&&o.count.pop(),o.count.push(c.count[0]),o.string=o.pattern+cs(o.count),i=u+1;continue}r.isPadded&&(h=Vi(u,r,s)),c.string=h+c.pattern+cs(c.count),a.push(c),i=u+1,o=c}return a}function Pt(e,t,r,s,n){let a=[];for(let i of e){let{string:o}=i;!s&&!us(t,"string",o)&&a.push(r+o),s&&us(t,"string",o)&&a.push(r+o)}return a}function zi(e,t){let r=[];for(let s=0;s<e.length;s++)r.push([e[s],t[s]]);return r}function qi(e,t){return e>t?1:t>e?-1:0}function us(e,t,r){return e.some(s=>s[t]===r)}function os(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function ls(e,t){return e-e%Math.pow(10,t)}function cs(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function Ki(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function as(e){return/^-?(0+)\d/.test(e)}function Vi(e,t,r){if(!t.isPadded)return e;let s=Math.abs(t.maxLen-String(e).length),n=r.relaxZeros!==!1;switch(s){case 0:return"";case 1:return n?"0?":"0";case 2:return n?"0{0,2}":"00";default:return n?`0{0,${s}}`:`0{${s}}`}}de.cache={};de.clearCache=()=>de.cache={};ss.exports=de});var Lt=k((El,fs)=>{"use strict";const Qi=require("util"),ps=hs(),ds=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),Xi=e=>t=>e===!0?Number(t):String(t),Ot=e=>typeof e=="number"||typeof e=="string"&&e!=="",Fe=e=>Number.isInteger(+e),Ft=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},Zi=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,Ji=(e,t,r)=>{if(t>0){let s=e[0]==="-"?"-":"";s&&(e=e.slice(1)),e=s+e.padStart(s?t-1:t,"0")}return r===!1?String(e):e},ms=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},ea=(e,t)=>{e.negatives.sort((i,o)=>i<o?-1:i>o?1:0),e.positives.sort((i,o)=>i<o?-1:i>o?1:0);let r=t.capture?"":"?:",s="",n="",a;return e.positives.length&&(s=e.positives.join("|")),e.negatives.length&&(n=`-(${r}${e.negatives.join("|")})`),s&&n?a=`${s}|${n}`:a=s||n,t.wrap?`(${r}${a})`:a},gs=(e,t,r,s)=>{if(r)return ps(e,t,{wrap:!1,...s});let n=String.fromCharCode(e);if(e===t)return n;let a=String.fromCharCode(t);return`[${n}-${a}]`},bs=(e,t,r)=>{if(Array.isArray(e)){let s=r.wrap===!0,n=r.capture?"":"?:";return s?`(${n}${e.join("|")})`:e.join("|")}return ps(e,t,r)},ys=(...e)=>new RangeError("Invalid range arguments: "+Qi.inspect(...e)),ws=(e,t,r)=>{if(r.strictRanges===!0)throw ys([e,t]);return[]},ta=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},ra=(e,t,r=1,s={})=>{let n=Number(e),a=Number(t);if(!Number.isInteger(n)||!Number.isInteger(a)){if(s.strictRanges===!0)throw ys([e,t]);return[]}n===0&&(n=0),a===0&&(a=0);let i=n>a,o=String(e),l=String(t),u=String(r);r=Math.max(Math.abs(r),1);let c=Ft(o)||Ft(l)||Ft(u),h=c?Math.max(o.length,l.length,u.length):0,f=c===!1&&Zi(e,t,s)===!1,_=s.transform||Xi(f);if(s.toRegex&&r===1)return gs(ms(e,h),ms(t,h),!0,s);let E={negatives:[],positives:[]},w=F=>E[F<0?"negatives":"positives"].push(Math.abs(F)),S=[],R=0;for(;i?n>=a:n<=a;)s.toRegex===!0&&r>1?w(n):S.push(Ji(_(n,R),h,f)),n=i?n-r:n+r,R++;return s.toRegex===!0?r>1?ea(E,s):bs(S,null,{wrap:!1,...s}):S},sa=(e,t,r=1,s={})=>{if(!Fe(e)&&e.length>1||!Fe(t)&&t.length>1)return ws(e,t,s);let n=s.transform||(f=>String.fromCharCode(f)),a=`${e}`.charCodeAt(0),i=`${t}`.charCodeAt(0),o=a>i,l=Math.min(a,i),u=Math.max(a,i);if(s.toRegex&&r===1)return gs(l,u,!1,s);let c=[],h=0;for(;o?a>=i:a<=i;)c.push(n(a,h)),a=o?a-r:a+r,h++;return s.toRegex===!0?bs(c,null,{wrap:!1,options:s}):c},st=(e,t,r,s={})=>{if(t==null&&Ot(e))return[e];if(!Ot(e)||!Ot(t))return ws(e,t,s);if(typeof r=="function")return st(e,t,1,{transform:r});if(ds(r))return st(e,t,0,r);let n={...s};return n.capture===!0&&(n.wrap=!0),r=r||n.step||1,Fe(r)?Fe(e)&&Fe(t)?ra(e,t,r,n):sa(e,t,Math.max(Math.abs(r),1),n):r!=null&&!ds(r)?ta(r,n):st(e,t,1,r)};fs.exports=st});var xs=k((xl,_s)=>{"use strict";const na=Lt(),Es=tt(),ia=(e,t={})=>{let r=(s,n={})=>{let a=Es.isInvalidBrace(n),i=s.invalid===!0&&t.escapeInvalid===!0,o=a===!0||i===!0,l=t.escapeInvalid===!0?"\\":"",u="";if(s.isOpen===!0)return l+s.value;if(s.isClose===!0)return l+s.value;if(s.type==="open")return o?l+s.value:"(";if(s.type==="close")return o?l+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":o?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let c=Es.reduce(s.nodes),h=na(...c,{...t,wrap:!1,toRegex:!0});if(h.length!==0)return c.length>1&&h.length>1?`(${h})`:h}if(s.nodes)for(let c of s.nodes)u+=r(c,s);return u};return r(e)};_s.exports=ia});var Rs=k((Sl,Ss)=>{"use strict";const aa=Lt(),vs=rt(),xe=tt(),me=(e="",t="",r=!1)=>{let s=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?xe.flatten(t).map(n=>`{${n}}`):t;for(let n of e)if(Array.isArray(n))for(let a of n)s.push(me(a,t,r));else for(let a of t)r===!0&&typeof a=="string"&&(a=`{${a}}`),s.push(Array.isArray(a)?me(n,a,r):n+a);return xe.flatten(s)},oa=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,s=(n,a={})=>{n.queue=[];let i=a,o=a.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,o=i.queue;if(n.invalid||n.dollar){o.push(me(o.pop(),vs(n,t)));return}if(n.type==="brace"&&n.invalid!==!0&&n.nodes.length===2){o.push(me(o.pop(),["{}"]));return}if(n.nodes&&n.ranges>0){let h=xe.reduce(n.nodes);if(xe.exceedsLimit(...h,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=aa(...h,t);f.length===0&&(f=vs(n,t)),o.push(me(o.pop(),f)),n.nodes=[];return}let l=xe.encloseBrace(n),u=n.queue,c=n;for(;c.type!=="brace"&&c.type!=="root"&&c.parent;)c=c.parent,u=c.queue;for(let h=0;h<n.nodes.length;h++){let f=n.nodes[h];if(f.type==="comma"&&n.type==="brace"){h===1&&u.push(""),u.push("");continue}if(f.type==="close"){o.push(me(o.pop(),u,l));continue}if(f.value&&f.type!=="open"){u.push(me(u.pop(),f.value));continue}f.nodes&&s(f,n)}return u};return xe.flatten(s(e))};Ss.exports=oa});var Ts=k((vl,As)=>{"use strict";As.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"﻿"}});var Fs=k((Rl,Cs)=>{"use strict";const la=rt(),{MAX_LENGTH:ks,CHAR_BACKSLASH:Nt,CHAR_BACKTICK:ca,CHAR_COMMA:ua,CHAR_DOT:ha,CHAR_LEFT_PARENTHESES:fa,CHAR_RIGHT_PARENTHESES:pa,CHAR_LEFT_CURLY_BRACE:da,CHAR_RIGHT_CURLY_BRACE:ma,CHAR_LEFT_SQUARE_BRACKET:Ps,CHAR_RIGHT_SQUARE_BRACKET:Os,CHAR_DOUBLE_QUOTE:ga,CHAR_SINGLE_QUOTE:ba,CHAR_NO_BREAK_SPACE:ya,CHAR_ZERO_WIDTH_NOBREAK_SPACE:wa}=Ts(),_a=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},s=typeof r.maxLength=="number"?Math.min(ks,r.maxLength):ks;if(e.length>s)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${s})`);let n={type:"root",input:e,nodes:[]},a=[n],i=n,o=n,l=0,u=e.length,c=0,h=0,f,_={};const E=()=>e[c++],w=S=>{if(S.type==="text"&&o.type==="dot"&&(o.type="text"),o&&o.type==="text"&&S.type==="text"){o.value+=S.value;return}return i.nodes.push(S),S.parent=i,S.prev=o,o=S,S};for(w({type:"bos"});c<u;){if(i=a[a.length-1],f=E(),f===wa||f===ya)continue;if(f===Nt){w({type:"text",value:(t.keepEscaping?f:"")+E()});continue}if(f===Os){w({type:"text",value:"\\"+f});continue}if(f===Ps){l++;let S=!0,R;for(;c<u&&(R=E());){if(f+=R,R===Ps){l++;continue}if(R===Nt){f+=E();continue}if(R===Os&&(l--,l===0))break}w({type:"text",value:f});continue}if(f===fa){i=w({type:"paren",nodes:[]}),a.push(i),w({type:"text",value:f});continue}if(f===pa){if(i.type!=="paren"){w({type:"text",value:f});continue}i=a.pop(),w({type:"text",value:f}),i=a[a.length-1];continue}if(f===ga||f===ba||f===ca){let S=f,R;for(t.keepQuotes!==!0&&(f="");c<u&&(R=E());){if(R===Nt){f+=R+E();continue}if(R===S){t.keepQuotes===!0&&(f+=R);break}f+=R}w({type:"text",value:f});continue}if(f===da){h++;let S=o.value&&o.value.slice(-1)==="$"||i.dollar===!0,R={type:"brace",open:!0,close:!1,dollar:S,depth:h,commas:0,ranges:0,nodes:[]};i=w(R),a.push(i),w({type:"open",value:f});continue}if(f===ma){if(i.type!=="brace"){w({type:"text",value:f});continue}let S="close";i=a.pop(),i.close=!0,w({type:S,value:f}),h--,i=a[a.length-1];continue}if(f===ua&&h>0){if(i.ranges>0){i.ranges=0;let S=i.nodes.shift();i.nodes=[S,{type:"text",value:la(i)}]}w({type:"comma",value:f}),i.commas++;continue}if(f===ha&&h>0&&i.commas===0){let S=i.nodes;if(h===0||S.length===0){w({type:"text",value:f});continue}if(o.type==="dot"){if(i.range=[],o.value+=f,o.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,o.type="text";continue}i.ranges++,i.args=[];continue}if(o.type==="range"){S.pop();let R=S[S.length-1];R.value+=o.value+f,o=R,i.ranges--;continue}w({type:"dot",value:f});continue}w({type:"text",value:f})}do if(i=a.pop(),i.type!=="root"){i.nodes.forEach(F=>{F.nodes||(F.type==="open"&&(F.isOpen=!0),F.type==="close"&&(F.isClose=!0),F.nodes||(F.type="text"),F.invalid=!0)});let S=a[a.length-1],R=S.nodes.indexOf(i);S.nodes.splice(R,1,...i.nodes)}while(a.length>0);return w({type:"eos"}),n};Cs.exports=_a});var Hs=k((Al,Ls)=>{"use strict";const Ns=rt(),Ea=xs(),xa=Rs(),Sa=Fs(),V=(e,t={})=>{let r=[];if(Array.isArray(e))for(let s of e){let n=V.create(s,t);Array.isArray(n)?r.push(...n):r.push(n)}else r=[].concat(V.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};V.parse=(e,t={})=>Sa(e,t);V.stringify=(e,t={})=>typeof e=="string"?Ns(V.parse(e,t),t):Ns(e,t);V.compile=(e,t={})=>(typeof e=="string"&&(e=V.parse(e,t)),Ea(e,t));V.expand=(e,t={})=>{typeof e=="string"&&(e=V.parse(e,t));let r=xa(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};V.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?V.compile(e,t):V.expand(e,t);Ls.exports=V});var Ds=k((Tl,Is)=>{Is.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","oga","ogg","ogv","otf","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]});var Ms=k((Cl,$s)=>{$s.exports=Ds()});var Ws=k((kl,js)=>{"use strict";const va=require("path"),Ra=Ms(),Aa=new Set(Ra);js.exports=e=>Aa.has(va.extname(e).slice(1).toLowerCase())});var nt=k(y=>{"use strict";const{sep:Ta}=require("path"),{platform:Ht}=process;y.EV_ALL="all";y.EV_READY="ready";y.EV_ADD="add";y.EV_CHANGE="change";y.EV_ADD_DIR="addDir";y.EV_UNLINK="unlink";y.EV_UNLINK_DIR="unlinkDir";y.EV_RAW="raw";y.EV_ERROR="error";y.STR_DATA="data";y.STR_END="end";y.STR_CLOSE="close";y.FSEVENT_CREATED="created";y.FSEVENT_MODIFIED="modified";y.FSEVENT_DELETED="deleted";y.FSEVENT_MOVED="moved";y.FSEVENT_CLONED="cloned";y.FSEVENT_UNKNOWN="unknown";y.FSEVENT_TYPE_FILE="file";y.FSEVENT_TYPE_DIRECTORY="directory";y.FSEVENT_TYPE_SYMLINK="symlink";y.KEY_LISTENERS="listeners";y.KEY_ERR="errHandlers";y.KEY_RAW="rawEmitters";y.HANDLER_KEYS=[y.KEY_LISTENERS,y.KEY_ERR,y.KEY_RAW];y.DOT_SLASH=`.${Ta}`;y.BACK_SLASH_RE=/\\/g;y.DOUBLE_SLASH_RE=/\/\//;y.SLASH_OR_BACK_SLASH_RE=/[/\\]/;y.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/;y.REPLACER_RE=/^\.[/\\]/;y.SLASH="/";y.SLASH_SLASH="//";y.BRACE_START="{";y.BANG="!";y.ONE_DOT=".";y.TWO_DOTS="..";y.STAR="*";y.GLOBSTAR="**";y.ROOT_GLOBSTAR="/**/*";y.SLASH_GLOBSTAR="/**";y.DIR_SUFFIX="Dir";y.ANYMATCH_OPTS={dot:!0};y.STRING_TYPE="string";y.FUNCTION_TYPE="function";y.EMPTY_STR="";y.EMPTY_FN=()=>{};y.IDENTITY_FN=e=>e;y.isWindows=Ht==="win32";y.isMacos=Ht==="darwin";y.isLinux=Ht==="linux"});var Ks=k((Ol,Bs)=>{"use strict";const he=require("fs"),W=require("path"),{promisify:Le}=require("util"),Ca=Ws(),{isWindows:ka,isLinux:Pa,EMPTY_FN:Oa,EMPTY_STR:Fa,KEY_LISTENERS:Se,KEY_ERR:It,KEY_RAW:Ne,HANDLER_KEYS:La,EV_CHANGE:it,EV_ADD:at,EV_ADD_DIR:Na,EV_ERROR:Gs,STR_DATA:Ha,STR_END:Ia,BRACE_START:Da,STAR:$a}=nt(),Ma="watch",ja=Le(he.open),qs=Le(he.stat),Wa=Le(he.lstat),Ba=Le(he.close),Dt=Le(he.realpath),Ga={lstat:Wa,stat:qs},$t=(e,t)=>{e instanceof Set?e.forEach(t):t(e)},He=(e,t,r)=>{let s=e[t];s instanceof Set||(e[t]=s=new Set([s])),s.add(r)},qa=e=>t=>{const r=e[t];r instanceof Set?r.clear():delete e[t]},Ie=(e,t,r)=>{const s=e[t];s instanceof Set?s.delete(r):s===r&&delete e[t]},Us=e=>e instanceof Set?e.size===0:!e,ot=new Map;function zs(e,t,r,s,n){const a=(i,o)=>{r(e),n(i,o,{watchedPath:e}),o&&e!==o&&lt(W.resolve(e,o),Se,W.join(e,o))};try{return he.watch(e,t,a)}catch(i){s(i)}}const lt=(e,t,r,s,n)=>{const a=ot.get(e);if(!a)return;$t(a[t],i=>{i(r,s,n)})},Ua=(e,t,r,s)=>{const{listener:n,errHandler:a,rawEmitter:i}=s;let o=ot.get(t),l;if(!r.persistent)return l=zs(e,r,n,a,i),l.close.bind(l);if(o)He(o,Se,n),He(o,It,a),He(o,Ne,i);else{if(l=zs(e,r,lt.bind(null,t,Se),a,lt.bind(null,t,Ne)),!l)return;l.on(Gs,async u=>{const c=lt.bind(null,t,It);if(o.watcherUnusable=!0,ka&&u.code==="EPERM")try{const h=await ja(e,"r");await Ba(h),c(u)}catch(h){}else c(u)}),o={listeners:n,errHandlers:a,rawEmitters:i,watcher:l},ot.set(t,o)}return()=>{Ie(o,Se,n),Ie(o,It,a),Ie(o,Ne,i),Us(o.listeners)&&(o.watcher.close(),ot.delete(t),La.forEach(qa(o)),o.watcher=void 0,Object.freeze(o))}},Mt=new Map,za=(e,t,r,s)=>{const{listener:n,rawEmitter:a}=s;let i=Mt.get(t),o=new Set,l=new Set;const u=i&&i.options;return u&&(u.persistent<r.persistent||u.interval>r.interval)&&(o=i.listeners,l=i.rawEmitters,he.unwatchFile(t),i=void 0),i?(He(i,Se,n),He(i,Ne,a)):(i={listeners:n,rawEmitters:a,options:r,watcher:he.watchFile(t,r,(c,h)=>{$t(i.rawEmitters,_=>{_(it,t,{curr:c,prev:h})});const f=c.mtimeMs;(c.size!==h.size||f>h.mtimeMs||f===0)&&$t(i.listeners,_=>_(e,c))})},Mt.set(t,i)),()=>{Ie(i,Se,n),Ie(i,Ne,a),Us(i.listeners)&&(Mt.delete(t),he.unwatchFile(t),i.options=i.watcher=void 0,Object.freeze(i))}};class Ka{constructor(e){this.fsw=e,this._boundHandleError=t=>e._handleError(t)}_watchWithNodeFs(e,t){const r=this.fsw.options,s=W.dirname(e),n=W.basename(e),a=this.fsw._getWatchedDir(s);a.add(n);const i=W.resolve(e),o={persistent:r.persistent};t||(t=Oa);let l;return r.usePolling?(o.interval=r.enableBinaryInterval&&Ca(n)?r.binaryInterval:r.interval,l=za(e,i,o,{listener:t,rawEmitter:this.fsw._emitRaw})):l=Ua(e,i,o,{listener:t,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),l}_handleFile(e,t,r){if(this.fsw.closed)return;const s=W.dirname(e),n=W.basename(e),a=this.fsw._getWatchedDir(s);let i=t;if(a.has(n))return;const o=async(u,c)=>{if(!this.fsw._throttle(Ma,e,5))return;if(!c||c.mtimeMs===0)try{const h=await qs(e);if(this.fsw.closed)return;const f=h.atimeMs,_=h.mtimeMs;(!f||f<=_||_!==i.mtimeMs)&&this.fsw._emit(it,e,h),Pa&&i.ino!==h.ino?(this.fsw._closeFile(u),i=h,this.fsw._addPathCloser(u,this._watchWithNodeFs(e,o))):i=h}catch(h){this.fsw._remove(s,n)}else if(a.has(n)){const h=c.atimeMs,f=c.mtimeMs;(!h||h<=f||f!==i.mtimeMs)&&this.fsw._emit(it,e,c),i=c}},l=this._watchWithNodeFs(e,o);if(!(r&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(at,e,0))return;this.fsw._emit(at,e,t)}return l}async _handleSymlink(e,t,r,s){if(this.fsw.closed)return;const n=e.fullPath,a=this.fsw._getWatchedDir(t);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();const i=await Dt(r);return this.fsw.closed?void 0:(a.has(s)?this.fsw._symlinkPaths.get(n)!==i&&(this.fsw._symlinkPaths.set(n,i),this.fsw._emit(it,r,e.stats)):(a.add(s),this.fsw._symlinkPaths.set(n,i),this.fsw._emit(at,r,e.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(n))return!0;this.fsw._symlinkPaths.set(n,!0)}_handleRead(e,t,r,s,n,a,i){if(e=W.join(e,Fa),!r.hasGlob&&(i=this.fsw._throttle("readdir",e,1e3),!i))return;const o=this.fsw._getWatchedDir(r.path),l=new Set;let u=this.fsw._readdirp(e,{fileFilter:c=>r.filterPath(c),directoryFilter:c=>r.filterDir(c),depth:0}).on(Ha,async c=>{if(this.fsw.closed){u=void 0;return}const h=c.path;let f=W.join(e,h);if(l.add(h),c.stats.isSymbolicLink()&&await this._handleSymlink(c,e,f,h))return;if(this.fsw.closed){u=void 0;return}(h===s||!s&&!o.has(h))&&(this.fsw._incrReadyCount(),f=W.join(n,W.relative(n,f)),this._addToNodeFs(f,t,r,a+1))}).on(Gs,this._boundHandleError);return new Promise(c=>u.once(Ia,()=>{if(this.fsw.closed){u=void 0;return}const h=i?i.clear():!1;c(),o.getChildren().filter(f=>f!==e&&!l.has(f)&&(!r.hasGlob||r.filterPath({fullPath:W.resolve(e,f)}))).forEach(f=>{this.fsw._remove(e,f)}),u=void 0,h&&this._handleRead(e,!1,r,s,n,a,i)}))}async _handleDir(e,t,r,s,n,a,i){const o=this.fsw._getWatchedDir(W.dirname(e)),l=o.has(W.basename(e));!(r&&this.fsw.options.ignoreInitial)&&!n&&!l&&((!a.hasGlob||a.globFilter(e))&&this.fsw._emit(Na,e,t)),o.add(W.basename(e)),this.fsw._getWatchedDir(e);let u,c;const h=this.fsw.options.depth;if((h==null||s<=h)&&!this.fsw._symlinkPaths.has(i)){if(!n&&(await this._handleRead(e,r,a,n,e,s,u),this.fsw.closed))return;c=this._watchWithNodeFs(e,(f,_)=>{if(_&&_.mtimeMs===0)return;this._handleRead(f,!1,a,n,e,s,u)})}return c}async _addToNodeFs(e,t,r,s,n){const a=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return a(),!1;const i=this.fsw._getWatchHelpers(e,s);!i.hasGlob&&r&&(i.hasGlob=r.hasGlob,i.globFilter=r.globFilter,i.filterPath=o=>r.filterPath(o),i.filterDir=o=>r.filterDir(o));try{const o=await Ga[i.statMethod](i.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(i.watchPath,o))return a(),!1;const l=this.fsw.options.followSymlinks&&!e.includes($a)&&!e.includes(Da);let u;if(o.isDirectory()){const c=l?await Dt(e):e;if(this.fsw.closed)return;if(u=await this._handleDir(i.watchPath,o,t,s,n,i,c),this.fsw.closed)return;e!==c&&c!==void 0&&this.fsw._symlinkPaths.set(c,!0)}else if(o.isSymbolicLink()){const c=l?await Dt(e):e;if(this.fsw.closed)return;const h=W.dirname(i.watchPath);if(this.fsw._getWatchedDir(h).add(i.watchPath),this.fsw._emit(at,i.watchPath,o),u=await this._handleDir(h,o,t,s,e,i,c),this.fsw.closed)return;c!==void 0&&this.fsw._symlinkPaths.set(W.resolve(e),c)}else u=this._handleFile(i.watchPath,o,t);return a(),this.fsw._addPathCloser(e,u),!1}catch(o){if(this.fsw._handleError(o))return a(),e}}}Bs.exports=Ka});var en=k((Fl,jt)=>{"use strict";const Wt=require("fs"),j=require("path"),{promisify:Bt}=require("util");let ve;try{ve=require("fsevents")}catch(e){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(e)}if(ve){const e=process.version.match(/v(\d+)\.(\d+)/);if(e&&e[1]&&e[2]){const t=Number.parseInt(e[1],10),r=Number.parseInt(e[2],10);t===8&&r<16&&(ve=void 0)}}const{EV_ADD:Gt,EV_CHANGE:Ya,EV_ADD_DIR:Ys,EV_UNLINK:ct,EV_ERROR:Va,STR_DATA:Qa,STR_END:Xa,FSEVENT_CREATED:Za,FSEVENT_MODIFIED:Ja,FSEVENT_DELETED:eo,FSEVENT_MOVED:to,FSEVENT_UNKNOWN:ro,FSEVENT_TYPE_FILE:so,FSEVENT_TYPE_DIRECTORY:De,FSEVENT_TYPE_SYMLINK:Vs,ROOT_GLOBSTAR:Qs,DIR_SUFFIX:no,DOT_SLASH:Xs,FUNCTION_TYPE:qt,EMPTY_FN:io,IDENTITY_FN:ao}=nt(),oo=e=>isNaN(e)?{}:{depth:e},Ut=Bt(Wt.stat),lo=Bt(Wt.lstat),Zs=Bt(Wt.realpath),co={stat:Ut,lstat:lo},ge=new Map,uo=10,ho=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),fo=(e,t)=>{const r=ve.watch(e,t);return{stop:r}};function mo(e,t,r,s){let n=j.extname(e)?j.dirname(e):e;const a=j.dirname(n);let i=ge.get(n);po(a)&&(n=a);const o=j.resolve(e),l=o!==t,u=(h,f,_)=>{l&&(h=h.replace(t,o)),(h===o||!h.indexOf(o+j.sep))&&r(h,f,_)};let c=!1;for(const h of ge.keys())if(t.indexOf(j.resolve(h)+j.sep)===0){n=h,i=ge.get(n),c=!0;break}return i||c?i.listeners.add(u):(i={listeners:new Set([u]),rawEmitter:s,watcher:fo(n,(h,f)=>{if(!i.listeners.size)return;const _=ve.getInfo(h,f);i.listeners.forEach(E=>{E(h,f,_)}),i.rawEmitter(_.event,h,_)})},ge.set(n,i)),()=>{const h=i.listeners;if(h.delete(u),!h.size&&(ge.delete(n),i.watcher))return i.watcher.stop().then(()=>{i.rawEmitter=i.watcher=void 0,Object.freeze(i)})}}const po=e=>{let t=0;for(const r of ge.keys())if(r.indexOf(e)===0&&(t++,t>=uo))return!0;return!1},go=()=>ve&&ge.size<128,zt=(e,t)=>{let r=0;for(;!e.indexOf(t)&&(e=j.dirname(e))!==t;)r++;return r},Js=(e,t)=>e.type===De&&t.isDirectory()||e.type===Vs&&t.isSymbolicLink()||e.type===so&&t.isFile();class bo{constructor(e){this.fsw=e}checkIgnored(e,t){const r=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,t))return r.add(e),t&&t.isDirectory()&&r.add(e+Qs),!0;r.delete(e),r.delete(e+Qs)}addOrChange(e,t,r,s,n,a,i,o){const l=n.has(a)?Ya:Gt;this.handleEvent(l,e,t,r,s,n,a,i,o)}async checkExists(e,t,r,s,n,a,i,o){try{const l=await Ut(e);if(this.fsw.closed)return;Js(i,l)?this.addOrChange(e,t,r,s,n,a,i,o):this.handleEvent(ct,e,t,r,s,n,a,i,o)}catch(l){l.code==="EACCES"?this.addOrChange(e,t,r,s,n,a,i,o):this.handleEvent(ct,e,t,r,s,n,a,i,o)}}handleEvent(e,t,r,s,n,a,i,o,l){if(this.fsw.closed||this.checkIgnored(t))return;if(e===ct){const u=o.type===De;(u||a.has(i))&&this.fsw._remove(n,i,u)}else{if(e===Gt){if(o.type===De&&this.fsw._getWatchedDir(t),o.type===Vs&&l.followSymlinks){const c=l.depth===void 0?void 0:zt(r,s)+1;return this._addToFsEvents(t,!1,!0,c)}this.fsw._getWatchedDir(n).add(i)}const u=o.type===De?e+no:e;this.fsw._emit(u,t),u===Ys&&this._addToFsEvents(t,!1,!0)}}_watchWithFsEvents(e,t,r,s){if(this.fsw.closed)return;if(this.fsw._isIgnored(e))return;const n=this.fsw.options,a=async(o,l,u)=>{if(this.fsw.closed)return;if(n.depth!==void 0&&zt(o,t)>n.depth)return;const c=r(j.join(e,j.relative(e,o)));if(s&&!s(c))return;const h=j.dirname(c),f=j.basename(c),_=this.fsw._getWatchedDir(u.type===De?c:h);if(ho.has(l)||u.event===ro)if(typeof n.ignored===qt){let E;try{E=await Ut(c)}catch(w){}if(this.fsw.closed)return;if(this.checkIgnored(c,E))return;Js(u,E)?this.addOrChange(c,o,t,h,_,f,u,n):this.handleEvent(ct,c,o,t,h,_,f,u,n)}else this.checkExists(c,o,t,h,_,f,u,n);else switch(u.event){case Za:case Ja:return this.addOrChange(c,o,t,h,_,f,u,n);case eo:case to:return this.checkExists(c,o,t,h,_,f,u,n)}},i=mo(e,t,a,this.fsw._emitRaw);return this.fsw._emitReady(),i}async _handleFsEventsSymlink(e,t,r,s){if(this.fsw.closed||this.fsw._symlinkPaths.has(t))return;this.fsw._symlinkPaths.set(t,!0),this.fsw._incrReadyCount();try{const n=await Zs(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(n))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(n||e,a=>{let i=e;return n&&n!==Xs?i=a.replace(n,e):a!==Xs&&(i=j.join(e,a)),r(i)},!1,s)}catch(n){if(this.fsw._handleError(n))return this.fsw._emitReady()}}emitAdd(e,t,r,s,n){const a=r(e),i=t.isDirectory(),o=this.fsw._getWatchedDir(j.dirname(a)),l=j.basename(a);if(i&&this.fsw._getWatchedDir(a),o.has(l))return;o.add(l),(!s.ignoreInitial||n===!0)&&this.fsw._emit(i?Ys:Gt,a,t)}initWatch(e,t,r,s){if(this.fsw.closed)return;const n=this._watchWithFsEvents(r.watchPath,j.resolve(e||r.watchPath),s,r.globFilter);this.fsw._addPathCloser(t,n)}async _addToFsEvents(e,t,r,s){if(this.fsw.closed)return;const n=this.fsw.options,a=typeof t===qt?t:ao,i=this.fsw._getWatchHelpers(e);try{const o=await co[i.statMethod](i.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(i.watchPath,o))throw null;if(o.isDirectory()){if(i.globFilter||this.emitAdd(a(e),o,a,n,r),s&&s>n.depth)return;this.fsw._readdirp(i.watchPath,{fileFilter:l=>i.filterPath(l),directoryFilter:l=>i.filterDir(l),...oo(n.depth-(s||0))}).on(Qa,l=>{if(this.fsw.closed)return;if(l.stats.isDirectory()&&!i.filterPath(l))return;const u=j.join(i.watchPath,l.path),{fullPath:c}=l;if(i.followSymlinks&&l.stats.isSymbolicLink()){const h=n.depth===void 0?void 0:zt(u,j.resolve(i.watchPath))+1;this._handleFsEventsSymlink(u,c,a,h)}else this.emitAdd(u,l.stats,a,n,r)}).on(Va,io).on(Xa,()=>{this.fsw._emitReady()})}else this.emitAdd(i.watchPath,o,a,n,r),this.fsw._emitReady()}catch(o){(!o||this.fsw._handleError(o))&&(this.fsw._emitReady(),this.fsw._emitReady())}if(n.persistent&&r!==!0)if(typeof t===qt)this.initWatch(void 0,e,i,a);else{let o;try{o=await Zs(i.watchPath)}catch(l){}this.initWatch(o,e,i,a)}}}jt.exports=bo;jt.exports.canUse=go});var pn=k(Kt=>{"use strict";const{EventEmitter:yo}=require("events"),Yt=require("fs"),P=require("path"),{promisify:tn}=require("util"),wo=Wr(),Vt=Kr().default,_o=Zr(),Qt=Ct(),Eo=Hs(),xo=At(),So=Ks(),rn=en(),{EV_ALL:Xt,EV_READY:vo,EV_ADD:ut,EV_CHANGE:$e,EV_UNLINK:sn,EV_ADD_DIR:Ro,EV_UNLINK_DIR:Ao,EV_RAW:To,EV_ERROR:Zt,STR_CLOSE:Co,STR_END:ko,BACK_SLASH_RE:Po,DOUBLE_SLASH_RE:nn,SLASH_OR_BACK_SLASH_RE:Oo,DOT_RE:Fo,REPLACER_RE:Lo,SLASH:Jt,SLASH_SLASH:No,BRACE_START:Ho,BANG:er,ONE_DOT:an,TWO_DOTS:Io,GLOBSTAR:Do,SLASH_GLOBSTAR:tr,ANYMATCH_OPTS:rr,STRING_TYPE:sr,FUNCTION_TYPE:$o,EMPTY_STR:nr,EMPTY_FN:Mo,isWindows:jo,isMacos:Wo}=nt(),Bo=tn(Yt.stat),Go=tn(Yt.readdir),ir=(e=[])=>Array.isArray(e)?e:[e],on=(e,t=[])=>(e.forEach(r=>{Array.isArray(r)?on(r,t):t.push(r)}),t),cn=e=>{const t=on(ir(e));if(!t.every(r=>typeof r===sr))throw new TypeError(`Non-string provided as watch path: ${t}`);return t.map(ln)},un=e=>{let t=e.replace(Po,Jt),r=!1;for(t.startsWith(No)&&(r=!0);t.match(nn);)t=t.replace(nn,Jt);return r&&(t=Jt+t),t},ln=e=>un(P.normalize(un(e))),hn=(e=nr)=>t=>typeof t!==sr?t:ln(P.isAbsolute(t)?t:P.join(e,t)),qo=(e,t)=>P.isAbsolute(e)?e:e.startsWith(er)?er+P.join(t,e.slice(1)):P.join(t,e),te=(e,t)=>e[t]===void 0;class Uo{constructor(e,t){this.path=e,this._removeWatcher=t,this.items=new Set}add(e){const{items:t}=this;if(!t)return;e!==an&&e!==Io&&t.add(e)}async remove(e){const{items:t}=this;if(!t)return;if(t.delete(e),t.size>0)return;const r=this.path;try{await Go(r)}catch(s){this._removeWatcher&&this._removeWatcher(P.dirname(r),P.basename(r))}}has(e){const{items:t}=this;return t?t.has(e):void 0}getChildren(){const{items:e}=this;return e?[...e.values()]:void 0}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}}const zo="stat",Ko="lstat";class Yo{constructor(e,t,r,s){this.fsw=s,this.path=e=e.replace(Lo,nr),this.watchPath=t,this.fullWatchPath=P.resolve(t),this.hasGlob=t!==e,e===nr&&(this.hasGlob=!1),this.globSymlink=this.hasGlob&&r?void 0:!1,this.globFilter=this.hasGlob?Vt(e,void 0,rr):!1,this.dirParts=this.getDirParts(e),this.dirParts.forEach(n=>{n.length>1&&n.pop()}),this.followSymlinks=r,this.statMethod=r?zo:Ko}checkGlobSymlink(e){return this.globSymlink===void 0&&(this.globSymlink=e.fullParentDir===this.fullWatchPath?!1:{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return P.join(this.watchPath,P.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){const{stats:t}=e;if(t&&t.isSymbolicLink())return this.filterDir(e);const r=this.entryPath(e),s=this.hasGlob&&typeof this.globFilter===$o?this.globFilter(r):!0;return s&&this.fsw._isntIgnored(r,t)&&this.fsw._hasReadPermissions(t)}getDirParts(e){if(!this.hasGlob)return[];const t=[],r=e.includes(Ho)?Eo.expand(e):[e];return r.forEach(s=>{t.push(P.relative(this.watchPath,s).split(Oo))}),t}filterDir(e){if(this.hasGlob){const t=this.getDirParts(this.checkGlobSymlink(e));let r=!1;this.unmatchedGlob=!this.dirParts.some(s=>s.every((n,a)=>(n===Do&&(r=!0),r||!t[0][a]||Vt(n,t[0][a],rr))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}}class fn extends yo{constructor(e){super();const t={};e&&Object.assign(t,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,te(t,"persistent")&&(t.persistent=!0),te(t,"ignoreInitial")&&(t.ignoreInitial=!1),te(t,"ignorePermissionErrors")&&(t.ignorePermissionErrors=!1),te(t,"interval")&&(t.interval=100),te(t,"binaryInterval")&&(t.binaryInterval=300),te(t,"disableGlobbing")&&(t.disableGlobbing=!1),t.enableBinaryInterval=t.binaryInterval!==t.interval,te(t,"useFsEvents")&&(t.useFsEvents=!t.usePolling);const r=rn.canUse();r||(t.useFsEvents=!1),te(t,"usePolling")&&!t.useFsEvents&&(t.usePolling=Wo);const s=process.env.CHOKIDAR_USEPOLLING;if(s!==void 0){const o=s.toLowerCase();o==="false"||o==="0"?t.usePolling=!1:o==="true"||o==="1"?t.usePolling=!0:t.usePolling=!!o}const n=process.env.CHOKIDAR_INTERVAL;n&&(t.interval=Number.parseInt(n,10)),te(t,"atomic")&&(t.atomic=!t.usePolling&&!t.useFsEvents),t.atomic&&(this._pendingUnlinks=new Map),te(t,"followSymlinks")&&(t.followSymlinks=!0),te(t,"awaitWriteFinish")&&(t.awaitWriteFinish=!1),t.awaitWriteFinish===!0&&(t.awaitWriteFinish={});const a=t.awaitWriteFinish;a&&(a.stabilityThreshold||(a.stabilityThreshold=2e3),a.pollInterval||(a.pollInterval=100),this._pendingWrites=new Map),t.ignored&&(t.ignored=ir(t.ignored));let i=0;this._emitReady=()=>{i++,i>=this._readyCount&&(this._emitReady=Mo,this._readyEmitted=!0,process.nextTick(()=>this.emit(vo)))},this._emitRaw=(...o)=>this.emit(To,...o),this._readyEmitted=!1,this.options=t,t.useFsEvents?this._fsEventsHandler=new rn(this):this._nodeFsHandler=new So(this),Object.freeze(t)}add(e,t,r){const{cwd:s,disableGlobbing:n}=this.options;this.closed=!1;let a=cn(e);return s&&(a=a.map(i=>{const o=qo(i,s);return n||!Qt(i)?o:xo(o)})),a=a.filter(i=>i.startsWith(er)?(this._ignoredPaths.add(i.slice(1)),!1):(this._ignoredPaths.delete(i),this._ignoredPaths.delete(i+tr),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=a.length),this.options.persistent&&(this._readyCount*=2),a.forEach(i=>this._fsEventsHandler._addToFsEvents(i))):(this._readyCount||(this._readyCount=0),this._readyCount+=a.length,Promise.all(a.map(async i=>{const o=await this._nodeFsHandler._addToNodeFs(i,!r,0,0,t);return o&&this._emitReady(),o})).then(i=>{if(this.closed)return;i.filter(o=>o).forEach(o=>{this.add(P.dirname(o),P.basename(t||o))})})),this}unwatch(e){if(this.closed)return this;const t=cn(e),{cwd:r}=this.options;return t.forEach(s=>{!P.isAbsolute(s)&&!this._closers.has(s)&&(r&&(s=P.join(r,s)),s=P.resolve(s)),this._closePath(s),this._ignoredPaths.add(s),this._watched.has(s)&&this._ignoredPaths.add(s+tr),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();const e=[];return this._closers.forEach(t=>t.forEach(r=>{const s=r();s instanceof Promise&&e.push(s)})),this._streams.forEach(t=>t.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(t=>t.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(t=>{this[`_${t}`].clear()}),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){const e={};return this._watched.forEach((t,r)=>{const s=this.options.cwd?P.relative(this.options.cwd,r):r;e[s||an]=t.getChildren().sort()}),e}emitWithAll(e,t){this.emit(...t),e!==Zt&&this.emit(Xt,...t)}async _emit(e,t,r,s,n){if(this.closed)return;const a=this.options;jo&&(t=P.normalize(t)),a.cwd&&(t=P.relative(a.cwd,t));const i=[e,t];n!==void 0?i.push(r,s,n):s!==void 0?i.push(r,s):r!==void 0&&i.push(r);const o=a.awaitWriteFinish;let l;if(o&&(l=this._pendingWrites.get(t)))return l.lastChange=new Date,this;if(a.atomic){if(e===sn)return this._pendingUnlinks.set(t,i),setTimeout(()=>{this._pendingUnlinks.forEach((u,c)=>{this.emit(...u),this.emit(Xt,...u),this._pendingUnlinks.delete(c)})},typeof a.atomic=="number"?a.atomic:100),this;e===ut&&this._pendingUnlinks.has(t)&&(e=i[0]=$e,this._pendingUnlinks.delete(t))}if(o&&(e===ut||e===$e)&&this._readyEmitted){const u=(c,h)=>{c?(e=i[0]=Zt,i[1]=c,this.emitWithAll(e,i)):h&&(i.length>2?i[2]=h:i.push(h),this.emitWithAll(e,i))};return this._awaitWriteFinish(t,o.stabilityThreshold,e,u),this}if(e===$e){const u=!this._throttle($e,t,50);if(u)return this}if(a.alwaysStat&&r===void 0&&(e===ut||e===Ro||e===$e)){const u=a.cwd?P.join(a.cwd,t):t;let c;try{c=await Bo(u)}catch(h){}if(!c||this.closed)return;i.push(c)}return this.emitWithAll(e,i),this}_handleError(e){const t=e&&e.code;return e&&t!=="ENOENT"&&t!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||t!=="EPERM"&&t!=="EACCES")&&this.emit(Zt,e),e||this.closed}_throttle(e,t,r){this._throttled.has(e)||this._throttled.set(e,new Map);const s=this._throttled.get(e),n=s.get(t);if(n)return n.count++,!1;let a;const i=()=>{const l=s.get(t),u=l?l.count:0;return s.delete(t),clearTimeout(a),l&&clearTimeout(l.timeoutObject),u};a=setTimeout(i,r);const o={timeoutObject:a,clear:i,count:0};return s.set(t,o),o}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,t,r,s){let n,a=e;this.options.cwd&&!P.isAbsolute(e)&&(a=P.join(this.options.cwd,e));const i=new Date,o=l=>{Yt.stat(a,(u,c)=>{if(u||!this._pendingWrites.has(e)){u&&u.code!=="ENOENT"&&s(u);return}const h=Number(new Date);l&&c.size!==l.size&&(this._pendingWrites.get(e).lastChange=h);const f=this._pendingWrites.get(e),_=h-f.lastChange;_>=t?(this._pendingWrites.delete(e),s(void 0,c)):n=setTimeout(o,this.options.awaitWriteFinish.pollInterval,c)})};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:i,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(n),r)}),n=setTimeout(o,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(e,t){if(this.options.atomic&&Fo.test(e))return!0;if(!this._userIgnored){const{cwd:r}=this.options,s=this.options.ignored,n=s&&s.map(hn(r)),a=ir(n).filter(o=>typeof o===sr&&!Qt(o)).map(o=>o+tr),i=this._getGlobIgnored().map(hn(r)).concat(n,a);this._userIgnored=Vt(i,void 0,rr)}return this._userIgnored([e,t])}_isntIgnored(e,t){return!this._isIgnored(e,t)}_getWatchHelpers(e,t){const r=t||this.options.disableGlobbing||!Qt(e)?e:_o(e),s=this.options.followSymlinks;return new Yo(e,r,s,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));const t=P.resolve(e);return this._watched.has(t)||this._watched.set(t,new Uo(t,this._boundRemove)),this._watched.get(t)}_hasReadPermissions(e){if(this.options.ignorePermissionErrors)return!0;const t=e&&Number.parseInt(e.mode,10),r=t&511,s=Number.parseInt(r.toString(8)[0],10);return Boolean(4&s)}_remove(e,t,r){const s=P.join(e,t),n=P.resolve(s);if(r=r!=null?r:this._watched.has(s)||this._watched.has(n),!this._throttle("remove",s,100))return;!r&&!this.options.useFsEvents&&this._watched.size===1&&this.add(e,t,!0);const a=this._getWatchedDir(s),i=a.getChildren();i.forEach(h=>this._remove(s,h));const o=this._getWatchedDir(e),l=o.has(t);o.remove(t);let u=s;if(this.options.cwd&&(u=P.relative(this.options.cwd,s)),this.options.awaitWriteFinish&&this._pendingWrites.has(u)){const h=this._pendingWrites.get(u).cancelWait();if(h===ut)return}this._watched.delete(s),this._watched.delete(n);const c=r?Ao:sn;l&&!this._isIgnored(s)&&this._emit(c,s),this.options.useFsEvents||this._closePath(s)}_closePath(e){this._closeFile(e);const t=P.dirname(e);this._getWatchedDir(t).remove(P.basename(e))}_closeFile(e){const t=this._closers.get(e);if(!t)return;t.forEach(r=>r()),this._closers.delete(e)}_addPathCloser(e,t){if(!t)return;let r=this._closers.get(e);r||(r=[],this._closers.set(e,r)),r.push(t)}_readdirp(e,t){if(this.closed)return;const r={type:Xt,alwaysStat:!0,lstat:!0,...t};let s=wo(e,r);return this._streams.add(s),s.once(Co,()=>{s=void 0}),s.once(ko,()=>{s&&(this._streams.delete(s),s=void 0)}),s}}Kt.FSWatcher=fn;const Vo=(e,t)=>{const r=new fn(t);return r.add(e),r};Kt.watch=Vo});function dn(e,t){let r=0;if(t===!0){let s=process.env.TERM||"";r=s&&["xterm","screen","vt100"].some(n=>s.indexOf(n)!=-1)?s.indexOf("256color")!=-1?8:4:2}else t!==!1&&e.isTTY&&(r=e.getColorDepth());return r}function gn(e,t){return mn(dn(e,t),t)}function mn(e,t){const r=a=>`[${a}m`,s=e>0||t?(a,i)=>{const o=r(a),l=r(i);return u=>o+u+l}:a=>i=>i,n=e>=8?(a,i,o)=>{let l="["+i+"m",u="["+o+"m";return c=>l+c+u}:e>0?(a,i,o)=>{let l="["+a+"m",u="["+o+"m";return c=>l+c+u}:(a,i,o)=>l=>l;return{_hint:t,ncolors:e,reset:t||e>0?"e[0m":"",bold:s("1","22"),italic:s("3","23"),underline:s("4","24"),inverse:s("7","27"),white:n("37","38;2;255;255;255","39"),grey:n("90","38;5;244","39"),black:n("30","38;5;16","39"),blue:n("34","38;5;75","39"),cyan:n("36","38;5;87","39"),green:n("32","38;5;84","39"),magenta:n("35","38;5;213","39"),purple:n("35","38;5;141","39"),pink:n("35","38;5;211","39"),red:n("31","38;2;255;110;80","39"),yellow:n("33","38;5;227","39"),lightyellow:n("93","38;5;229","39"),orange:n("33","38;5;215","39"),reconfigure(a,i){const o=dn(a,i);return o!=this.ncolors&&i!=this._hint&&Object.assign(this,mn(o,i)),this}}}const be=gn(process.stdout),ar=gn(process.stderr);const Me=q(require("fs")),Re=q(require("path")),bn=q(require("os")),yn=q(require("perf_hooks")),wn=q(require("util")),je=(e,t,r)=>JSON.stringify(e,r,t),Ae=()=>yn.performance.now(),Dl=Symbol("TYPE"),_n=eval("require");function En(e,t){let r={colors:be.ncolors>0};return typeof t=="object"?r={...t}:t!==void 0&&(r.compact=!t),wn.inspect(e,r)}function xn(e){return e>=59500?(e/6e4).toFixed(0)+"min":e>=999.5?(e/1e3).toFixed(1)+"s":e.toFixed(2)+"ms"}function Sn(e){const t=Re.resolve(e),r=bn.homedir();return t.startsWith(r)?"~"+t.substr(r.length):t}const ye=q(require("fs")),vn=String.fromCharCode,Qo=(e,t)=>e.charCodeAt(t||0);function Rn(e,t){return new Promise((r,s)=>{if(typeof t=="number")return ye.chmod(e,t,n=>{n?s(n):r(t)});ye.stat(e,(n,a)=>{if(n)return s(n);let i=or(a.mode,t);if(a.mode==i)return r(i);ye.chmod(e,i,o=>{o?s(o):r(i)})})})}function or(e,t){const r="Expected format: [ugoa]*[+-=][rwx]+",s=(a,i)=>new Error(`${a} in modifier ${je(i)}. ${r}`);let n=[];for(let a of Array.isArray(t)?t:[t])n=n.concat(a.trim().split(/\s*,+\s*/));for(let a of n){let i=[],o=!1,l=0,u=0;for(let h=0;h<a.length;h++){let f=Qo(a,h);if(l==0)switch(f){case 117:case 103:case 111:o||i.push(f);break;case 97:i=[117,103,111],o=!0;break;case 43:case 45:case 61:l=f;break;default:if(l==0)throw s(`Invalid target or operation ${je(vn(f))}`,a);break}else switch(f){case 114:u|=4;break;case 119:u|=2;break;case 120:u|=1;break;default:throw s(`Invalid permission ${je(vn(f))}`,a)}}if(l==0)throw s("Missing operation",a);i.length==0&&(i=[117]),u==0&&(u=4|2|1);let c=0;for(let h of i)switch(h){case 117:c|=u<<6;break;case 103:c|=u<<3;break;case 111:c|=u;break}switch(l){case 43:e|=c;break;case 45:e&=~c;break;case 61:e=c;break}}return e}const Q=q(require("path")),lr=(()=>{const e=process.env._,t=process.argv[1];if(!t)return e||process.argv[0];if(e&&!Q.isAbsolute(e))return e;let r="";if(e){const s=Q.basename(process.execPath);e.endsWith(Q.sep+s)&&(r=s+" ")}if(t.startsWith(process.cwd())){let s=Q.relative(process.cwd(),t);if(!s.startsWith("node_modules"+Q.sep)&&s.indexOf(Q.sep+"node_modules"+Q.sep)==-1)return Q.sep=="/"&&(s="./"+s),s}return r+Q.basename(t)})();const An=q(require("path"));let Xo=__dirname;function Tn(e){let t=null;return function(){return t||(B.debug(`loading ${e} module`),t=_n(An.join(Xo,e))),t}}const cr=Tn("debug.js"),Ul=Tn("watch.js");class Yl extends Error{constructor(e){super(e);this.name="UserError"}}function Cn(e,t){return cr().printErrorAndExit(e,t)}function kn(e,t){Error.prepareStackTrace=void 0;try{if(cr().installSourceMapSupport(),Error.prepareStackTrace!==kn)return Error.prepareStackTrace(e,t)}catch(r){}return e.stack||String(e)}Error.prepareStackTrace=kn;process.on("uncaughtException",Cn);process.on("unhandledRejection",(e,t)=>{Cn(e||"PromiseRejection","unhandledRejection")});const Pn=q(require("console"));var ae;(function(e){e[e.Error=0]="Error",e[e.Warn=1]="Warn",e[e.Info=2]="Info",e[e.Debug=3]="Debug"})(ae||(ae={}));let Te=console,ur;const ht=new class{constructor(){this.ERROR=0;this.WARN=1;this.INFO=2;this.DEBUG=3;this.level=2;this.infoOnce=this.info;this.debug=Zo}error(...t){ft(t),Te.error(ar.red(`${lr}:`),...t)}warn(...t){ht.level>=1&&(ft(t),Te.error(ar.magenta(`${lr}:`),...t))}info(...t){ht.level>=2&&(ft(t),Te.log(...t))}get colorMode(){return ur}set colorMode(t){if(ur===t)return;ur=t,t===void 0?Te=console:Te=new Pn.Console({stdout:process.stdout,stderr:process.stderr,colorMode:t})}};var B=ht;function ft(e){typeof e[0]=="function"&&(e[0]=e[0]())}function Zo(...e){if(ht.level>=3){let t="";if(ft(e),e.length==0||e.length==1&&(e[0]===""||e[0]===void 0))return;Te.log(be.bold(be.blue(`[DEBUG${t}]`)),...e)}}const we=q(require("fs")),oe=q(require("path")),On=q(require("crypto")),re=we.promises,Fn={};function Ce(e){Fn[oe.resolve(String(e))]=Ae()}function Ln(e){const t=3e4,r=Fn[oe.resolve(e)];return r!==void 0&&Ae()-r<=t}function U(e,t){return re.readFile(e,t)}U.editMode=or;U.chmod=(e,t)=>(Ce(e),Rn(e,t));function Jo(e,t){return re.readFile(e,t)}U.read=Jo;U.stat=re.stat;function el(...e){return Promise.all(e.map(t=>re.stat(t).then(r=>r.mtimeMs).catch(r=>null))).then(t=>t.length==1?t[0]:t)}U.mtime=el;U.readall=(...e)=>Promise.all(e.map(t=>re.readFile(t)));U.readallText=(e,...t)=>Promise.all(t.map(r=>re.readFile(r,{encoding:e||"utf8"})));U.write=async(e,t,r)=>{Ce(e);const s=r&&typeof r=="object"?r:{};try{await re.writeFile(e,t,r)}catch(n){if(!s.mkdirOff&&n.code=="ENOENT")await U.mkdirs(oe.dirname(String(e)),s.mkdirMode),await re.writeFile(e,t,r);else throw n}if(s.log){let n=oe.relative(process.cwd(),String(e));n.startsWith(".."+oe.sep)&&(n=Sn(e)),B.info(be.green(`Wrote ${n}`))}};function tl(e,t){return new Promise((r,s)=>{const n=we.createReadStream(e),a=On.createHash("sha1");n.on("error",s),n.on("end",()=>{a.end(),r(t?a.digest(t):a.digest())}),n.pipe(a)})}U.sha1=tl;U.copy=(e,t,r)=>{let s=we.constants.COPYFILE_FICLONE;return r&&(s|=we.constants.COPYFILE_EXCL),Ce(t),re.copyFile(e,t,s)};U.move=(e,t)=>(Ce(t),re.rename(e,t));U.mkdirs=(e,t)=>re.mkdir(e,{recursive:!0,mode:t}).then(r=>!!r&&r.length>0);const We=q(require("path")),Nn=q(pn());class hr{constructor(e){this.basedir="";this._resolve=(e,t)=>{};this._cancelled=!1;this._watcher=null;this._fileset=new Set;this.options=e,this.promise=new Promise(t=>{this._resolve=t}),this.promise.cancel=()=>{this._cancelled=!0}}setFiles(e){const t=new Set(e);if(!this._watcher){this._fileset=t,this._start();return}let r=[];for(let n of this._fileset)t.has(n)||r.push(n);let s=[];for(let n of t)this._fileset.has(n)||s.push(n);this._fileset=t,r.length>0&&(B.debug(()=>`fswatch stop watching files ${this._relnames(r)}`),this._watcher.unwatch(r)),s.length>0&&(B.debug(()=>`fswatch start watching files ${this._relnames(s)}`),this._watcher.add(s))}close(){return this._watcher?(B.debug(()=>"fswatch closing"),this._watcher.close().then(()=>this._resolve()).catch(e=>this._resolve(void 0,e)),this._watcher=null,this.promise):Promise.resolve()}_relnames(e){return e.length==1?this._relname(e[0]):e.map(t=>`
  `+this._relname(t)).join("")}_relname(e){return this.basedir?We.relative(this.basedir,e):We.relative(process.cwd(),e)}_start(){if(this._cancelled)return;const e=Array.from(this._fileset);if(e.length==0)return;this.basedir&&(this.basedir=We.resolve(this.basedir));let t=50,r=null;const s={...this.options};typeof s.latency=="number"&&(t=s.latency,delete s.latency),s.filter&&(r=s.filter,delete s.filter);const n={disableGlobbing:!0,followSymlinks:!1,awaitWriteFinish:{stabilityThreshold:20,pollInterval:100},...s,persistent:!0,ignoreInitial:!0},a=new Set;let i=null;const o=()=>{i=null;const c=this.onChange?this.onChange(Array.from(a)):null;a.clear(),c instanceof Promise&&(c.then(()=>{i=null,a.size>0&&o()}).catch(h=>{this.promise.cancel(h)}),i=1)},l=(c,h)=>{if(Ln(h)){B.debug(()=>`fswatch ignoring self-originating event ${c} ${h}`);return}if(r&&!r.test(h)){B.debug(()=>`fswatch ignoring ${c} ${h} (filter)`);return}B.debug(()=>`fsevent ${c} ${En(h)}`),a.add(h),i===null&&(i=setTimeout(o,t))};this.promise.cancel=c=>{B.debug("fswatcher is being cancelled"),clearTimeout(i),this._cancelled||(this._cancelled=!0,this.close()),c&&this._resolve(void 0,c)};const u=Ae();this._watcher=Nn.watch(e,n).on("all",l).on("error",c=>B.warn(`fswatch ${c}`)).on("ready",()=>{B.debug(()=>`fswatch initial scan complete (${xn(Ae()-u)})`),this.onStart&&this.onStart()})}}Mn(exports,{watch:()=>nl,watchFiles:()=>sl});const fr=q(require("path"));let Hn=new Map;async function rl(e){const t=await U.read(e,"utf8");try{return JSON.parse(t)}catch(r){throw new Error(`failed to parse esbuild metafile ${e}: ${r.message||r}`)}}async function sl(e,t,r,s){const n=e.projectID;let a=Hn.get(n);if(!a){const o=e.watch&&typeof e.watch=="object"?e.watch:{};a=new hr(o),Hn.set(n,a),a.basedir=e.cwd,a.onChange=l=>s(l).then(i),r.addCancelCallback(()=>{a.promise.cancel()}),B.debug(`fswatch started for project#${n}`)}async function i(){const o=await rl(t),l=Object.keys(o.inputs),u=o.outputs;B.debug(()=>`esbuild reported ${l.length} source files and ${Object.keys(u).length} output files`);const c=fr.sep+"node_modules"+fr.sep;for(let f of Object.keys(u))Ce(f);const h=[];for(let f of l){if(f in u)continue;if(l.length>100&&f.includes(c))continue;h.push(f)}a.setFiles(h)}return await i(),a.promise}function nl(e,t,r){r||(r=t,t={});const s=new hr({persistent:!0,ignoreInitial:!0,ignored:/(^|[\/\\])\../,disableGlobbing:!0,followSymlinks:!1,...t||{}});return s.basedir=process.cwd(),s.onChange=r,s.setFiles(Array.isArray(e)?e:[e]),s.promise}
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
//# sourceMappingURL=watch.js.map
