#!/usr/bin/env node
let Kb=Object.defineProperty,Dc=Object.prototype.hasOwnProperty,la=a=>{let j;return()=>(j||(j={exports:{}},a(j.exports,j)),j.exports)},Fa=a=>{if(a&&a.__esModule)return a;let j={};Kb(j,"default",{value:a,enumerable:!0});for(let q in a)Dc.call(a,q)&&q!=="default"&&Kb(j,q,{get:()=>a[q],enumerable:!0});return j};var Hc=la((a,q)=>{!function(e,g){"object"==typeof a&&"undefined"!=typeof q?g(a):"function"==typeof define&&define.amd?define(["exports"],g):g(e.miniglob={})}(a,function(e){"use strict";const{readdirSync:g,statSync:n}=require("fs"),s=(()=>{try{return require("path").sep}catch(b){return"/"}})(),A=s.charCodeAt(0),t=":"==s?/\:+/g:"\\"==s?/\\+/g:/\/+/g,h="win32"==process.platform;class o extends Error{constructor(){super("bad pattern")}}const v=h?b=>{if(b.length<2)return 0;let d=b[0];return":"==b[1]&&("a"<=d&&d<="z"||"A"<=d&&d<="Z")?2:0}:b=>0,u=h?(b,d)=>{const r=d(b);return""==b?[0,"."]:r+1==b.length&&C(b,b.length-1)?[r+1,b]:r==b.length&&2==b.length?[r,b+"."]:(r>=b.length&&(r=b.length-1),[r,b.substr(0,b.length-1)])}:(b,d)=>""==b?[d,"."]:b==s?[d,b]:[d,b.substr(0,b.length-1)];function C(b,d){return b.charCodeAt(d)===A}function K(b,d){b=function(w){let L=w.length-1,D=L;for(;D&&w.charCodeAt(D)===A;)--D;return D!=L&&(w=w.substr(0,D+1)),w.split(t).join(s)}(b);let r=n(b);r.isDirectory()&&function w(L,D,M){for(let G of g(L)){let I=m(L,G),Y=H(I),Z=D(I,Y);(Z||void 0===Z)&&Y&&Y.isDirectory()&&!M.has(Y.ino)&&(M.add(Y.ino),w(I,D,M))}}(b,d,new Set([r.ino]))}function p(b){let d=[];if(!Q(b))return H(b)?[b]:d;let r=v(b),w=b.length-1;for(;w>=r&&!C(b,w);)w--;let L=b.substr(0,w+1),D=b.substr(w+1);if([r,L]=u(L,r),Q(L.substr(r))){if(L==b)throw new o();const M=p(L);for(let G of M)aa(G,D,d)}else aa(L,D,d);return d}function aa(b,d,r){const w=H(b);if(null===w)return;if(!w.isDirectory())return;let L;try{L=g(b)}catch(D){return}L.sort();for(let D of L)E(d,D)&&r.push(m(b,D))}function Q(b){for(let d=0;d<b.length;++d)switch(b.charCodeAt(d)){case 42:case 63:case 91:case 123:return!0}return!1}function ba(b,d){for(let r=0;r<b.length;++r)if(b.charCodeAt(r)===d)return!0;return!1}function E(b,d){Ga:for(;b.length>0;){let r=!1,w="";if([r,w,b]=F(b),r&&""==w)return!ba(d,A);let[L,D]=V(w,d);if(!D||!(0==L.length||b.length>0)){if(r){for(let M=0;M<d.length&&d.charCodeAt(M)!=A;M++)if([L,D]=V(w,d.substr(M+1)),D){if(0==b.length&&L.length>0)continue;d=L;continue Ga}}return!1}d=L}return 0==d.length}function F(b){let d=!1;for(;b.length>0&&42==b.charCodeAt(0);)b=b.substr(1),d=!0;let r=!1,w=0;Ga:for(;w<b.length;w++)switch(b.charCodeAt(w)){case 92:h||w+1<b.length&&w++;break;case 91:r=!0;break;case 93:r=!1;break;case 42:if(!r)break Ga}return[d,b.substr(0,w),b.substr(w)]}function V(b,d){for(;b.length>0;){if(0==d.length)return["",!1];switch(b.charCodeAt(0)){case 91:{let w=d.codePointAt(0),L=w<=65535?1:2;if(d=d.substr(L),b=b.substr(1),w.toString(16),0==b.length)throw new o();let D=94==b.charCodeAt(0);D&&(b=b.substr(1));let M=!1,G=0;for(;;){if(b.length>0&&93==b.charCodeAt(0)&&G>0){b=b.substr(1);break}let I,Y;if([Y,b,I]=l(b),!I)return["",!1];let Z=Y;if(45==b.charCodeAt(0)&&([Z,b,I]=l(b.substr(1)),!I))return["",!1];Y<=w&&w<=Z&&(M=!0),G++}if(M==D)return["",!1];break}case 63:if(d.charCodeAt(0)==A)return["",!1];let r=d.codePointAt(0)<=65535?1:2;d=d.substr(r),b=b.substr(1);break;case 92:if(!h&&0==(b=b.substr(1)).length)throw new o();default:if(b.charCodeAt(0)!=d.charCodeAt(0))return b[0],d[0],b.charCodeAt(0).toString(16),d.charCodeAt(0).toString(16),["",!1];d=d.substr(1),b=b.substr(1)}}return[d,!0]}function l(b){let d=0,r="",w=b.charCodeAt(0);if(0==b.length||45==w||93==w)throw new o();if(92==w&&!h&&0==(b=b.substr(1)).length)throw new o();let L=(d=b.codePointAt(0))<=65535?1:2;if(65535==d&&1==L)throw new o();if(0==(r=b.substr(L)).length)throw new o();return[d,r,!0]}function H(b){try{return n(b)}catch(d){}return null}function m(b,d){return"."==b||""==b?d:b+s+d}e.PatternError=o,e.glob=function(b){if(b.indexOf("**")<0)return p(b);let d=[],r=new Set();return function w(L,D,M,G,I){M>=D.length&&(M=D.length-1);let Y=D[M],Z=Y;function S(x){return!I.has(x)&&(I.add(x),!0)}function da(x){let B=x,R=B.lastIndexOf(s);-1!=R&&(B=B.substr(R+1));let y=Math.min(M+1,D.length-1),f=D.slice(y).join("*");f.charCodeAt(0)==A?f=function(c){let O=0;for(;c.charCodeAt(O)===A;)O++;return 0!=O?c.substr(O):c}(f):"*"!=f[0]&&(f="*"+f),E(f,B)&&G.push(x)}0===M?Y.charCodeAt(Y.length-1)!=A&&(Z+="*"):M===D.length-1?Y.charCodeAt(0)!=A&&(Z="*"+Z):(Y.charCodeAt(0)!=A&&(Z="*"+Z),Y.charCodeAt(Y.length-1)!=A&&(Z+="*")),L&&(Z=Z[0]!=s?L+s+Z:L+Z);let ia=!1;Z.charCodeAt(Z.length-1)===A&&(ia=!0,Z=function(x){let B=x.length-1,R=B;for(;x.charCodeAt(R)===A;)R--;return R!=B?x.substr(0,R+1):x}(Z));let ka=p(Z);for(let x of ka){let B=n(x);B.isDirectory()?S(x)&&K(x,(R,y)=>{S(R)&&(y.isDirectory()?w(R,D,M+1,G,I):da(R))}):!ia&&S(x)&&da(x)}return G}("",b.split(/\*{2,}/),0,d,r),d},e.match=E,Object.defineProperty(e,"__esModule",{value:!0})})});var Ka=la((a,q)=>{"use strict";const e=require("path"),g="\\\\/",n=`[^${g}]`,s="\\.",A="\\+",t="\\?",h="\\/",o="(?=.)",v="[^/]",u=`(?:${h}|$)`,C=`(?:^|${h})`,K=`${s}{1,2}${u}`,p=`(?!${s})`,aa=`(?!${C}${K})`,Q=`(?!${s}{0,1}${u})`,ba=`(?!${K})`,E=`[^.${h}]`,F=`${v}*?`,V={DOT_LITERAL:s,PLUS_LITERAL:A,QMARK_LITERAL:t,SLASH_LITERAL:h,ONE_CHAR:o,QMARK:v,END_ANCHOR:u,DOTS_SLASH:K,NO_DOT:p,NO_DOTS:aa,NO_DOT_SLASH:Q,NO_DOTS_SLASH:ba,QMARK_NO_DOT:E,STAR:F,START_ANCHOR:C},l={...V,SLASH_LITERAL:`[${g}]`,QMARK:n,STAR:`${n}*?`,DOTS_SLASH:`${s}{1,2}(?:[${g}]|$)`,NO_DOT:`(?!${s})`,NO_DOTS:`(?!(?:^|[${g}])${s}{1,2}(?:[${g}]|$))`,NO_DOT_SLASH:`(?!${s}{0,1}(?:[${g}]|$))`,NO_DOTS_SLASH:`(?!${s}{1,2}(?:[${g}]|$))`,QMARK_NO_DOT:`[^.${g}]`,START_ANCHOR:`(?:^|[${g}])`,END_ANCHOR:`(?:[${g}]|$)`},H={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};q.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:H,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:e.sep,extglobChars(m){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${m.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(m){return m===!0?l:V}}});var Ua=la(a=>{"use strict";const e=require("path"),g=process.platform==="win32",{REGEX_BACKSLASH:n,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:A,REGEX_SPECIAL_CHARS_GLOBAL:t}=Ka();a.isObject=h=>h!==null&&typeof h==="object"&&!Array.isArray(h);a.hasRegexChars=h=>A.test(h);a.isRegexChar=h=>h.length===1&&a.hasRegexChars(h);a.escapeRegex=h=>h.replace(t,"\\$1");a.toPosixSlashes=h=>h.replace(n,"/");a.removeBackslashes=h=>h.replace(s,o=>o==="\\"?"":o);a.supportsLookbehinds=()=>{const h=process.version.slice(1).split(".").map(Number);return h.length===3&&h[0]>=9||h[0]===8&&h[1]>=10?!0:!1};a.isWindows=h=>h&&typeof h.windows==="boolean"?h.windows:g===!0||e.sep==="\\";a.escapeLast=(h,o,v)=>{const u=h.lastIndexOf(o,v);return u===-1?h:h[u-1]==="\\"?a.escapeLast(h,o,u-1):`${h.slice(0,u)}\\${h.slice(u)}`};a.removePrefix=(h,o={})=>{let v=h;return v.startsWith("./")&&(v=v.slice(2),o.prefix="./"),v};a.wrapOutput=(h,o={},v={})=>{const u=v.contains?"":"^",C=v.contains?"":"$";let K=`${u}(?:${h})${C}`;return o.negated===!0&&(K=`(?:^(?!${K}).*$)`),K}});var _b=la((a,q)=>{"use strict";const e=Ua(),{CHAR_ASTERISK:g,CHAR_AT:n,CHAR_BACKWARD_SLASH:s,CHAR_COMMA:A,CHAR_DOT:t,CHAR_EXCLAMATION_MARK:h,CHAR_FORWARD_SLASH:o,CHAR_LEFT_CURLY_BRACE:v,CHAR_LEFT_PARENTHESES:u,CHAR_LEFT_SQUARE_BRACKET:C,CHAR_PLUS:K,CHAR_QUESTION_MARK:p,CHAR_RIGHT_CURLY_BRACE:aa,CHAR_RIGHT_PARENTHESES:Q,CHAR_RIGHT_SQUARE_BRACKET:ba}=Ka(),E=l=>l===o||l===s,F=l=>{l.isPrefix!==!0&&(l.depth=l.isGlobstar?Infinity:1)},V=(l,H)=>{const m=H||{},b=l.length-1,d=m.parts===!0||m.scanToEnd===!0,r=[],w=[],L=[];let D=l,M=-1,G=0,I=0,Y=!1,Z=!1,S=!1,da=!1,ia=!1,ka=!1,x=!1,B=!1,R=!1,y=0,f,c,O={value:"",depth:0,isGlob:!1};const z=()=>M>=b,N=()=>D.charCodeAt(M+1),T=()=>(f=c,D.charCodeAt(++M));for(;M<b;){c=T();let fa;if(c===s){x=O.backslashes=!0,c=T(),c===v&&(ka=!0);continue}if(ka===!0||c===v){for(y++;z()!==!0&&(c=T());){if(c===s){x=O.backslashes=!0,T();continue}if(c===v){y++;continue}if(ka!==!0&&c===t&&(c=T())===t){Y=O.isBrace=!0,S=O.isGlob=!0,R=!0;if(d===!0)continue;break}if(ka!==!0&&c===A){Y=O.isBrace=!0,S=O.isGlob=!0,R=!0;if(d===!0)continue;break}if(c===aa){y--;if(y===0){ka=!1,Y=O.isBrace=!0,R=!0;break}}}if(d===!0)continue;break}if(c===o){r.push(M),w.push(O),O={value:"",depth:0,isGlob:!1};if(R===!0)continue;if(f===t&&M===G+1){G+=2;continue}I=M+1;continue}if(m.noext!==!0){const _=c===K||c===n||c===g||c===p||c===h;if(_===!0&&N()===u){S=O.isGlob=!0,da=O.isExtglob=!0,R=!0;if(d===!0){for(;z()!==!0&&(c=T());){if(c===s){x=O.backslashes=!0,c=T();continue}if(c===Q){S=O.isGlob=!0,R=!0;break}}continue}break}}if(c===g){f===g&&(ia=O.isGlobstar=!0),S=O.isGlob=!0,R=!0;if(d===!0)continue;break}if(c===p){S=O.isGlob=!0,R=!0;if(d===!0)continue;break}if(c===C)for(;z()!==!0&&(fa=T());){if(fa===s){x=O.backslashes=!0,T();continue}if(fa===ba){Z=O.isBracket=!0,S=O.isGlob=!0,R=!0;if(d===!0)continue;break}}if(m.nonegate!==!0&&c===h&&M===G){B=O.negated=!0,G++;continue}if(m.noparen!==!0&&c===u){S=O.isGlob=!0;if(d===!0){for(;z()!==!0&&(c=T());){if(c===u){x=O.backslashes=!0,c=T();continue}if(c===Q){R=!0;break}}continue}break}if(S===!0){R=!0;if(d===!0)continue;break}}m.noext===!0&&(da=!1,S=!1);let J=D,W="",ca="";G>0&&(W=D.slice(0,G),D=D.slice(G),I-=G),J&&S===!0&&I>0?(J=D.slice(0,I),ca=D.slice(I)):S===!0?(J="",ca=D):J=D,J&&J!==""&&J!=="/"&&J!==D&&(E(J.charCodeAt(J.length-1))&&(J=J.slice(0,-1))),m.unescape===!0&&(ca&&(ca=e.removeBackslashes(ca)),J&&x===!0&&(J=e.removeBackslashes(J)));const ea={prefix:W,input:l,start:G,base:J,glob:ca,isBrace:Y,isBracket:Z,isGlob:S,isExtglob:da,isGlobstar:ia,negated:B};m.tokens===!0&&(ea.maxDepth=0,E(c)||w.push(O),ea.tokens=w);if(m.parts===!0||m.tokens===!0){let fa;for(let _=0;_<r.length;_++){const oa=fa?fa+1:G,qa=r[_],$=l.slice(oa,qa);m.tokens&&(_===0&&G!==0?(w[_].isPrefix=!0,w[_].value=W):w[_].value=$,F(w[_]),ea.maxDepth+=w[_].depth),(_!==0||$!=="")&&L.push($),fa=qa}if(fa&&fa+1<l.length){const _=l.slice(fa+1);L.push(_),m.tokens&&(w[w.length-1].value=_,F(w[w.length-1]),ea.maxDepth+=w[w.length-1].depth)}ea.slashes=r,ea.parts=L}return ea};q.exports=V});var Yb=la((a,q)=>{"use strict";const e=Ka(),g=Ua(),{MAX_LENGTH:n,POSIX_REGEX_SOURCE:s,REGEX_NON_SPECIAL_CHARS:A,REGEX_SPECIAL_CHARS_BACKREF:t,REPLACEMENTS:h}=e,o=(C,K)=>{if(typeof K.expandRange==="function")return K.expandRange(...C,K);C.sort();const p=`[${C.join("-")}]`;try{new RegExp(p)}catch(aa){return C.map(Q=>g.escapeRegex(Q)).join("..")}return p},v=(C,K)=>`Missing ${C}: "${K}" - use "\\\\${K}" to match literal characters`,u=(C,K)=>{if(typeof C!=="string")throw new TypeError("Expected a string");C=h[C]||C;const p={...K},aa=typeof p.maxLength==="number"?Math.min(n,p.maxLength):n;let Q=C.length;if(Q>aa)throw new SyntaxError(`Input length: ${Q}, exceeds maximum allowed length: ${aa}`);const ba={type:"bos",value:"",output:p.prepend||""},E=[ba],F=p.capture?"":"?:",V=g.isWindows(K),l=e.globChars(V),H=e.extglobChars(l),{DOT_LITERAL:m,PLUS_LITERAL:b,SLASH_LITERAL:d,ONE_CHAR:r,DOTS_SLASH:w,NO_DOT:L,NO_DOT_SLASH:D,NO_DOTS_SLASH:M,QMARK:G,QMARK_NO_DOT:I,STAR:Y,START_ANCHOR:Z}=l,S=$=>`(${F}(?:(?!${Z}${$.dot?w:m}).)*?)`,da=p.dot?"":L,ia=p.dot?G:I;let ka=p.bash===!0?S(p):Y;p.capture&&(ka=`(${ka})`),typeof p.noext==="boolean"&&(p.noextglob=p.noext);const x={input:C,index:-1,start:0,dot:p.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:E};C=g.removePrefix(C,x),Q=C.length;const B=[],R=[],y=[];let f=ba,c;const O=()=>x.index===Q-1,z=x.peek=($=1)=>C[x.index+$],N=x.advance=()=>C[++x.index],T=()=>C.slice(x.index+1),J=($="",na=0)=>{x.consumed+=$,x.index+=na},W=$=>{x.output+=$.output!=null?$.output:$.value,J($.value)},ca=()=>{let $=1;for(;z()==="!"&&(z(2)!=="("||z(3)==="?");)N(),x.start++,$++;return $%2===0?!1:(x.negated=!0,x.start++,!0)},ea=$=>{x[$]++,y.push($)},fa=$=>{x[$]--,y.pop()},_=$=>{if(f.type==="globstar"){const na=x.braces>0&&($.type==="comma"||$.type==="brace"),X=$.extglob===!0||B.length&&($.type==="pipe"||$.type==="paren");$.type!=="slash"&&$.type!=="paren"&&!na&&!X&&(x.output=x.output.slice(0,-f.output.length),f.type="star",f.value="*",f.output=ka,x.output+=f.output)}B.length&&$.type!=="paren"&&!H[$.value]&&(B[B.length-1].inner+=$.value),($.value||$.output)&&W($);if(f&&f.type==="text"&&$.type==="text"){f.value+=$.value,f.output=(f.output||"")+$.value;return}$.prev=f,E.push($),f=$},oa=($,na)=>{const X={...H[na],conditions:1,inner:""};X.prev=f,X.parens=x.parens,X.output=x.output;const k=(p.capture?"(":"")+X.open;ea("parens"),_({type:$,value:na,output:x.output?"":r}),_({type:"paren",extglob:!0,value:N(),output:k}),B.push(X)},qa=$=>{let na=$.close+(p.capture?")":"");if($.type==="negate"){let X=ka;$.inner&&$.inner.length>1&&$.inner.includes("/")&&(X=S(p)),(X!==ka||O()||/^\)+$/.test(T()))&&(na=$.close=`)$))${X}`),$.prev.type==="bos"&&O()&&(x.negatedExtglob=!0)}_({type:"paren",extglob:!0,value:c,output:na}),fa("parens")};if(p.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(C)){let $=!1,na=C.replace(t,(X,k,i,U,P,ma)=>U==="\\"?($=!0,X):U==="?"?k?k+U+(P?G.repeat(P.length):""):ma===0?ia+(P?G.repeat(P.length):""):G.repeat(i.length):U==="."?m.repeat(i.length):U==="*"?k?k+U+(P?ka:""):ka:k?X:`\\${X}`);return $===!0&&(p.unescape===!0?na=na.replace(/\\/g,""):na=na.replace(/\\+/g,X=>X.length%2===0?"\\\\":X?"\\":"")),na===C&&p.contains===!0?(x.output=C,x):(x.output=g.wrapOutput(na,x,K),x)}for(;!O();){c=N();if(c==="\0")continue;if(c==="\\"){const X=z();if(X==="/"&&p.bash!==!0)continue;if(X==="."||X===";")continue;if(!X){c+="\\",_({type:"text",value:c});continue}const k=/^\\+/.exec(T());let i=0;k&&k[0].length>2&&(i=k[0].length,x.index+=i,i%2!==0&&(c+="\\")),p.unescape===!0?c=N()||"":c+=N()||"";if(x.brackets===0){_({type:"text",value:c});continue}}if(x.brackets>0&&(c!=="]"||f.value==="["||f.value==="[^")){if(p.posix!==!1&&c===":"){const X=f.value.slice(1);if(X.includes("[")){f.posix=!0;if(X.includes(":")){const k=f.value.lastIndexOf("["),i=f.value.slice(0,k),U=f.value.slice(k+2),P=s[U];if(P){f.value=i+P,x.backtrack=!0,N(),!ba.output&&E.indexOf(f)===1&&(ba.output=r);continue}}}}(c==="["&&z()!==":"||c==="-"&&z()==="]")&&(c=`\\${c}`),c==="]"&&(f.value==="["||f.value==="[^")&&(c=`\\${c}`),p.posix===!0&&c==="!"&&f.value==="["&&(c="^"),f.value+=c,W({value:c});continue}if(x.quotes===1&&c!=='"'){c=g.escapeRegex(c),f.value+=c,W({value:c});continue}if(c==='"'){x.quotes=x.quotes===1?0:1,p.keepQuotes===!0&&_({type:"text",value:c});continue}if(c==="("){ea("parens"),_({type:"paren",value:c});continue}if(c===")"){if(x.parens===0&&p.strictBrackets===!0)throw new SyntaxError(v("opening","("));const X=B[B.length-1];if(X&&x.parens===X.parens+1){qa(B.pop());continue}_({type:"paren",value:c,output:x.parens?")":"\\)"}),fa("parens");continue}if(c==="["){if(p.nobracket===!0||!T().includes("]")){if(p.nobracket!==!0&&p.strictBrackets===!0)throw new SyntaxError(v("closing","]"));c=`\\${c}`}else ea("brackets");_({type:"bracket",value:c});continue}if(c==="]"){if(p.nobracket===!0||f&&f.type==="bracket"&&f.value.length===1){_({type:"text",value:c,output:`\\${c}`});continue}if(x.brackets===0){if(p.strictBrackets===!0)throw new SyntaxError(v("opening","["));_({type:"text",value:c,output:`\\${c}`});continue}fa("brackets");const X=f.value.slice(1);f.posix!==!0&&X[0]==="^"&&!X.includes("/")&&(c=`/${c}`),f.value+=c,W({value:c});if(p.literalBrackets===!1||g.hasRegexChars(X))continue;const k=g.escapeRegex(f.value);x.output=x.output.slice(0,-f.value.length);if(p.literalBrackets===!0){x.output+=k,f.value=k;continue}f.value=`(${F}${k}|${f.value})`,x.output+=f.value;continue}if(c==="{"&&p.nobrace!==!0){ea("braces");const X={type:"brace",value:c,output:"(",outputIndex:x.output.length,tokensIndex:x.tokens.length};R.push(X),_(X);continue}if(c==="}"){const X=R[R.length-1];if(p.nobrace===!0||!X){_({type:"text",value:c,output:c});continue}let k=")";if(X.dots===!0){const i=E.slice(),U=[];for(let P=i.length-1;P>=0;P--){E.pop();if(i[P].type==="brace")break;i[P].type!=="dots"&&U.unshift(i[P].value)}k=o(U,p),x.backtrack=!0}if(X.comma!==!0&&X.dots!==!0){const i=x.output.slice(0,X.outputIndex),U=x.tokens.slice(X.tokensIndex);X.value=X.output="\\{",c=k="\\}",x.output=i;for(const P of U)x.output+=P.output||P.value}_({type:"brace",value:c,output:k}),fa("braces"),R.pop();continue}if(c==="|"){B.length>0&&B[B.length-1].conditions++,_({type:"text",value:c});continue}if(c===","){let X=c;const k=R[R.length-1];k&&y[y.length-1]==="braces"&&(k.comma=!0,X="|"),_({type:"comma",value:c,output:X});continue}if(c==="/"){if(f.type==="dot"&&x.index===x.start+1){x.start=x.index+1,x.consumed="",x.output="",E.pop(),f=ba;continue}_({type:"slash",value:c,output:d});continue}if(c==="."){if(x.braces>0&&f.type==="dot"){f.value==="."&&(f.output=m);const X=R[R.length-1];f.type="dots",f.output+=c,f.value+=c,X.dots=!0;continue}if(x.braces+x.parens===0&&f.type!=="bos"&&f.type!=="slash"){_({type:"text",value:c,output:m});continue}_({type:"dot",value:c,output:m});continue}if(c==="?"){const X=f&&f.value==="(";if(!X&&p.noextglob!==!0&&z()==="("&&z(2)!=="?"){oa("qmark",c);continue}if(f&&f.type==="paren"){const k=z();let i=c;if(k==="<"&&!g.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(f.value==="("&&!/[!=<:]/.test(k)||k==="<"&&!/<([!=]|\w+>)/.test(T()))&&(i=`\\${c}`),_({type:"text",value:c,output:i});continue}if(p.dot!==!0&&(f.type==="slash"||f.type==="bos")){_({type:"qmark",value:c,output:I});continue}_({type:"qmark",value:c,output:G});continue}if(c==="!"){if(p.noextglob!==!0&&z()==="("){if(z(2)!=="?"||!/[!=<:]/.test(z(3))){oa("negate",c);continue}}if(p.nonegate!==!0&&x.index===0){ca();continue}}if(c==="+"){if(p.noextglob!==!0&&z()==="("&&z(2)!=="?"){oa("plus",c);continue}if(f&&f.value==="("||p.regex===!1){_({type:"plus",value:c,output:b});continue}if(f&&(f.type==="bracket"||f.type==="paren"||f.type==="brace")||x.parens>0){_({type:"plus",value:c});continue}_({type:"plus",value:b});continue}if(c==="@"){if(p.noextglob!==!0&&z()==="("&&z(2)!=="?"){_({type:"at",extglob:!0,value:c,output:""});continue}_({type:"text",value:c});continue}if(c!=="*"){(c==="$"||c==="^")&&(c=`\\${c}`);const X=A.exec(T());X&&(c+=X[0],x.index+=X[0].length),_({type:"text",value:c});continue}if(f&&(f.type==="globstar"||f.star===!0)){f.type="star",f.star=!0,f.value+=c,f.output=ka,x.backtrack=!0,x.globstar=!0,J(c);continue}let $=T();if(p.noextglob!==!0&&/^\([^?]/.test($)){oa("star",c);continue}if(f.type==="star"){if(p.noglobstar===!0){J(c);continue}const X=f.prev,k=X.prev,i=X.type==="slash"||X.type==="bos",U=k&&(k.type==="star"||k.type==="globstar");if(p.bash===!0&&(!i||$[0]&&$[0]!=="/")){_({type:"star",value:c,output:""});continue}const P=x.braces>0&&(X.type==="comma"||X.type==="brace"),ma=B.length&&(X.type==="pipe"||X.type==="paren");if(!i&&X.type!=="paren"&&!P&&!ma){_({type:"star",value:c,output:""});continue}for(;$.slice(0,3)==="/**";){const ga=C[x.index+4];if(ga&&ga!=="/")break;$=$.slice(3),J("/**",3)}if(X.type==="bos"&&O()){f.type="globstar",f.value+=c,f.output=S(p),x.output=f.output,x.globstar=!0,J(c);continue}if(X.type==="slash"&&X.prev.type!=="bos"&&!U&&O()){x.output=x.output.slice(0,-(X.output+f.output).length),X.output=`(?:${X.output}`,f.type="globstar",f.output=S(p)+(p.strictSlashes?")":"|$)"),f.value+=c,x.globstar=!0,x.output+=X.output+f.output,J(c);continue}if(X.type==="slash"&&X.prev.type!=="bos"&&$[0]==="/"){const ga=$[1]!==void 0?"|$":"";x.output=x.output.slice(0,-(X.output+f.output).length),X.output=`(?:${X.output}`,f.type="globstar",f.output=`${S(p)}${d}|${d}${ga})`,f.value+=c,x.output+=X.output+f.output,x.globstar=!0,J(c+N()),_({type:"slash",value:"/",output:""});continue}if(X.type==="bos"&&$[0]==="/"){f.type="globstar",f.value+=c,f.output=`(?:^|${d}|${S(p)}${d})`,x.output=f.output,x.globstar=!0,J(c+N()),_({type:"slash",value:"/",output:""});continue}x.output=x.output.slice(0,-f.output.length),f.type="globstar",f.output=S(p),f.value+=c,x.output+=f.output,x.globstar=!0,J(c);continue}const na={type:"star",value:c,output:ka};if(p.bash===!0){na.output=".*?",(f.type==="bos"||f.type==="slash")&&(na.output=da+na.output),_(na);continue}if(f&&(f.type==="bracket"||f.type==="paren")&&p.regex===!0){na.output=c,_(na);continue}(x.index===x.start||f.type==="slash"||f.type==="dot")&&(f.type==="dot"?(x.output+=D,f.output+=D):p.dot===!0?(x.output+=M,f.output+=M):(x.output+=da,f.output+=da),z()!=="*"&&(x.output+=r,f.output+=r)),_(na)}for(;x.brackets>0;){if(p.strictBrackets===!0)throw new SyntaxError(v("closing","]"));x.output=g.escapeLast(x.output,"["),fa("brackets")}for(;x.parens>0;){if(p.strictBrackets===!0)throw new SyntaxError(v("closing",")"));x.output=g.escapeLast(x.output,"("),fa("parens")}for(;x.braces>0;){if(p.strictBrackets===!0)throw new SyntaxError(v("closing","}"));x.output=g.escapeLast(x.output,"{"),fa("braces")}p.strictSlashes!==!0&&(f.type==="star"||f.type==="bracket")&&_({type:"maybe_slash",value:"",output:`${d}?`});if(x.backtrack===!0){x.output="";for(const $ of x.tokens)x.output+=$.output!=null?$.output:$.value,$.suffix&&(x.output+=$.suffix)}return x};u.fastpaths=(C,K)=>{const p={...K},aa=typeof p.maxLength==="number"?Math.min(n,p.maxLength):n,Q=C.length;if(Q>aa)throw new SyntaxError(`Input length: ${Q}, exceeds maximum allowed length: ${aa}`);C=h[C]||C;const ba=g.isWindows(K),{DOT_LITERAL:E,SLASH_LITERAL:F,ONE_CHAR:V,DOTS_SLASH:l,NO_DOT:H,NO_DOTS:m,NO_DOTS_SLASH:b,STAR:d,START_ANCHOR:r}=e.globChars(ba),w=p.dot?m:H,L=p.dot?b:H,D=p.capture?"":"?:",M={negated:!1,prefix:""};let G=p.bash===!0?".*?":d;p.capture&&(G=`(${G})`);const I=da=>da.noglobstar===!0?G:`(${D}(?:(?!${r}${da.dot?l:E}).)*?)`,Y=da=>{switch(da){case"*":return`${w}${V}${G}`;case".*":return`${E}${V}${G}`;case"*.*":return`${w}${G}${E}${V}${G}`;case"*/*":return`${w}${G}${F}${V}${L}${G}`;case"**":return w+I(p);case"**/*":return`(?:${w}${I(p)}${F})?${L}${V}${G}`;case"**/*.*":return`(?:${w}${I(p)}${F})?${L}${G}${E}${V}${G}`;case"**/.*":return`(?:${w}${I(p)}${F})?${E}${V}${G}`;default:{const ia=/^(.*?)\.(\w+)$/.exec(da);if(!ia)return;const ka=Y(ia[1]);return ka?ka+E+ia[2]:void 0}}},Z=g.removePrefix(C,M);let S=Y(Z);return S&&p.strictSlashes!==!0&&(S+=`${F}?`),S};q.exports=u});var Zb=la((a,q)=>{"use strict";const e=require("path"),g=_b(),n=Yb(),s=Ua(),A=Ka(),t=o=>o&&typeof o==="object"&&!Array.isArray(o),h=(o,v,u=!1)=>{if(Array.isArray(o)){const F=o.map(l=>h(l,v,u)),V=l=>{for(const H of F){const m=H(l);if(m)return m}return!1};return V}const C=t(o)&&o.tokens&&o.input;if(o===""||typeof o!=="string"&&!C)throw new TypeError("Expected pattern to be a non-empty string");const K=v||{},p=s.isWindows(v),aa=C?h.compileRe(o,v):h.makeRe(o,v,!1,!0),Q=aa.state;delete aa.state;let ba=()=>!1;if(K.ignore){const F={...v,ignore:null,onMatch:null,onResult:null};ba=h(K.ignore,F,u)}const E=(F,V=!1)=>{const{isMatch:l,match:H,output:m}=h.test(F,aa,v,{glob:o,posix:p}),b={glob:o,state:Q,regex:aa,posix:p,input:F,output:m,match:H,isMatch:l};return typeof K.onResult==="function"&&K.onResult(b),l===!1?(b.isMatch=!1,V?b:!1):ba(F)?(typeof K.onIgnore==="function"&&K.onIgnore(b),b.isMatch=!1,V?b:!1):(typeof K.onMatch==="function"&&K.onMatch(b),V?b:!0)};return u&&(E.state=Q),E};h.test=(o,v,u,{glob:C,posix:K}={})=>{if(typeof o!=="string")throw new TypeError("Expected input to be a string");if(o==="")return{isMatch:!1,output:""};const p=u||{},aa=p.format||(K?s.toPosixSlashes:null);let Q=o===C,ba=Q&&aa?aa(o):o;return Q===!1&&(ba=aa?aa(o):o,Q=ba===C),(Q===!1||p.capture===!0)&&(p.matchBase===!0||p.basename===!0?Q=h.matchBase(o,v,u,K):Q=v.exec(ba)),{isMatch:Boolean(Q),match:Q,output:ba}};h.matchBase=(o,v,u,C=s.isWindows(u))=>{const K=v instanceof RegExp?v:h.makeRe(v,u);return K.test(e.basename(o))};h.isMatch=(o,v,u)=>h(v,u)(o);h.parse=(o,v)=>Array.isArray(o)?o.map(u=>h.parse(u,v)):n(o,{...v,fastpaths:!1});h.scan=(o,v)=>g(o,v);h.compileRe=(o,v,u=!1,C=!1)=>{if(u===!0)return o.output;const K=v||{},p=K.contains?"":"^",aa=K.contains?"":"$";let Q=`${p}(?:${o.output})${aa}`;o&&o.negated===!0&&(Q=`^(?!${Q}).*$`);const ba=h.toRegex(Q,v);return C===!0&&(ba.state=o),ba};h.makeRe=(o,v,u=!1,C=!1)=>{if(!o||typeof o!=="string")throw new TypeError("Expected a non-empty string");const K=v||{};let p={negated:!1,fastpaths:!0},aa="",Q;return o.startsWith("./")&&(o=o.slice(2),aa=p.prefix="./"),K.fastpaths!==!1&&(o[0]==="."||o[0]==="*")&&(Q=n.fastpaths(o,v)),Q===void 0?(p=n(o,v),p.prefix=aa+(p.prefix||"")):p.output=Q,h.compileRe(p,v,u,C)};h.toRegex=(o,v)=>{try{const u=v||{};return new RegExp(o,u.flags||(u.nocase?"i":""))}catch(u){if(v&&v.debug===!0)throw u;return/$^/}};h.constants=A;q.exports=h});var lb=la((a,q)=>{"use strict";q.exports=Zb()});var $b=la((a,q)=>{"use strict";const e=require("fs"),{Readable:g}=require("stream"),n=require("path"),{promisify:s}=require("util"),A=lb(),t=s(e.readdir),h=s(e.stat),o=s(e.lstat),v=s(e.realpath),u="!",C=new Set(["ENOENT","EPERM","EACCES","ELOOP"]),K="files",p="directories",aa="files_directories",Q="all",ba=[K,p,aa,Q],E=m=>C.has(m.code),F=m=>{if(m===void 0)return;if(typeof m==="function")return m;if(typeof m==="string"){const b=A(m.trim());return d=>b(d.basename)}if(Array.isArray(m)){const b=[],d=[];for(const r of m){const w=r.trim();w.charAt(0)===u?d.push(A(w.slice(1))):b.push(A(w))}return d.length>0?b.length>0?r=>b.some(w=>w(r.basename))&&!d.some(w=>w(r.basename)):r=>!d.some(w=>w(r.basename)):r=>b.some(w=>w(r.basename))}};class V extends g{static get defaultOptions(){return{root:".",fileFilter:m=>!0,directoryFilter:m=>!0,type:K,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(m={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:m.highWaterMark||4096});const b={...V.defaultOptions,...m},{root:d,type:r}=b;this._fileFilter=F(b.fileFilter),this._directoryFilter=F(b.directoryFilter);const w=b.lstat?o:h;process.platform==="win32"&&h.length===3?this._stat=L=>w(L,{bigint:!0}):this._stat=w,this._maxDepth=b.depth,this._wantsDir=[p,aa,Q].includes(r),this._wantsFile=[K,aa,Q].includes(r),this._wantsEverything=r===Q,this._root=n.resolve(d),this._isDirent="Dirent"in e&&!b.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(d,1)],this.reading=!1,this.parent=void 0}async _read(m){if(this.reading)return;this.reading=!0;try{for(;!this.destroyed&&m>0;){const{path:b,depth:d,files:r=[]}=this.parent||{};if(r.length>0){const w=r.splice(0,m).map(L=>this._formatEntry(L,b));for(const L of await Promise.all(w)){if(this.destroyed)return;const D=await this._getEntryType(L);D==="directory"&&this._directoryFilter(L)?(d<=this._maxDepth&&this.parents.push(this._exploreDir(L.fullPath,d+1)),this._wantsDir&&(this.push(L),m--)):(D==="file"||this._includeAsFile(L))&&this._fileFilter(L)&&(this._wantsFile&&(this.push(L),m--))}}else{const w=this.parents.pop();if(!w){this.push(null);break}this.parent=await w;if(this.destroyed)return}}}catch(b){this.destroy(b)}finally{this.reading=!1}}async _exploreDir(m,b){let d;try{d=await t(m,this._rdOptions)}catch(r){this._onError(r)}return{files:d,depth:b,path:m}}async _formatEntry(m,b){let d;try{const r=this._isDirent?m.name:m,w=n.resolve(n.join(b,r));d={path:n.relative(this._root,w),fullPath:w,basename:r},d[this._statsProp]=this._isDirent?m:await this._stat(w)}catch(r){this._onError(r)}return d}_onError(m){E(m)&&!this.destroyed?this.emit("warn",m):this.destroy(m)}async _getEntryType(m){const b=m&&m[this._statsProp];if(!b)return;if(b.isFile())return"file";if(b.isDirectory())return"directory";if(b&&b.isSymbolicLink())try{const d=await v(m.fullPath),r=await o(d);if(r.isFile())return"file";if(r.isDirectory())return"directory"}catch(d){this._onError(d)}}_includeAsFile(m){const b=m&&m[this._statsProp];return b&&this._wantsEverything&&!b.isDirectory()}}const l=(m,b={})=>{let d=b.entryType||b.type;d==="both"&&(d=aa),d&&(b.type=d);if(m){if(typeof m!=="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(d&&!ba.includes(d))throw new Error(`readdirp: Invalid type passed. Use one of ${ba.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return b.root=m,new V(b)},H=(m,b={})=>new Promise((d,r)=>{const w=[];l(m,b).on("data",L=>w.push(L)).on("end",()=>d(w)).on("error",L=>r(L))});l.promise=H;l.ReaddirpStream=V;l.default=l;q.exports=l});var kb=la((a,q)=>{q.exports=function(e,g){if(typeof e!=="string")throw new TypeError("expected path to be a string");if(e==="\\"||e==="/")return"/";var n=e.length;if(n<=1)return e;var s="";if(n>4&&e[3]==="\\"){var A=e[2];(A==="?"||A===".")&&e.slice(0,2)==="\\\\"&&(e=e.slice(2),s="//")}var t=e.split(/[/\\]+/);return g!==!1&&t[t.length-1]===""&&t.pop(),s+t.join("/")}});var Ga=la((a,q)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=lb(),g=kb(),n="!",s={returnIndex:!1},A=v=>Array.isArray(v)?v:[v],t=(v,u)=>{if(typeof v==="function")return v;if(typeof v==="string"){const C=e(v,u);return K=>v===K||C(K)}return v instanceof RegExp?C=>v.test(C):C=>!1},h=(v,u,C,K)=>{const p=Array.isArray(C),aa=p?C[0]:C;if(!p&&typeof aa!=="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(aa));const Q=g(aa);for(let E=0;E<u.length;E++){const F=u[E];if(F(Q))return K?-1:!1}const ba=p&&[Q].concat(C.slice(1));for(let E=0;E<v.length;E++){const F=v[E];if(p?F(...ba):F(Q))return K?E:!0}return K?-1:!1},o=(v,u,C=s)=>{if(v==null)throw new TypeError("anymatch: specify first argument");const K=typeof C==="boolean"?{returnIndex:C}:C,p=K.returnIndex||!1,aa=A(v),Q=aa.filter(E=>typeof E==="string"&&E.charAt(0)===n).map(E=>E.slice(1)).map(E=>e(E,K)),ba=aa.map(E=>t(E,K));return u==null?(E,F=!1)=>{const V=typeof F==="boolean"?F:!1;return h(ba,Q,E,V)}:h(ba,Q,u,p)};o.default=o;q.exports=o});var Wb=la((a,q)=>{q.exports=function e(g){if(typeof g!=="string"||g==="")return!1;for(var n;n=/(\\).|([@?!+*]\(.*\))/g.exec(g);){if(n[2])return!0;g=g.slice(n.index+n[0].length)}return!1}});var jb=la((a,q)=>{var e=Wb(),g={"{":"}","(":")","[":"]"},n=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,s=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;q.exports=function A(t,h){if(typeof t!=="string"||t==="")return!1;if(e(t))return!0;var o=n,v;for(h&&h.strict===!1&&(o=s);v=o.exec(t);){if(v[2])return!0;var u=v.index+v[0].length,C=v[1],K=C?g[C]:null;if(C&&K){var p=t.indexOf(K,u);p!==-1&&(u=p+1)}t=t.slice(u)}return!1}});var Ub=la((a,q)=>{"use strict";var e=jb(),g=require("path").posix.dirname,n=require("os").platform()==="win32",s="/",A=/\\/g,t=/[\{\[].*[\/]*.*[\}\]]$/,h=/(^|[^\\])([\{\[]|\([^\)]+$)/,o=/\\([\!\*\?\|\[\]\(\)\{\}])/g;q.exports=function v(u,C){var K=Object.assign({flipBackslashes:!0},C);K.flipBackslashes&&n&&u.indexOf(s)<0&&(u=u.replace(A,s)),t.test(u)&&(u+=s),u+="a";do u=g(u);while(e(u)||h.test(u));return u.replace(o,"$1")}});var Sa=la(a=>{"use strict";a.isInteger=e=>typeof e==="number"?Number.isInteger(e):typeof e==="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;a.find=(e,g)=>e.nodes.find(n=>n.type===g);a.exceedsLimit=(e,g,n=1,s)=>s===!1?!1:!a.isInteger(e)||!a.isInteger(g)?!1:(Number(g)-Number(e))/Number(n)>=s;a.escapeNode=(e,g=0,n)=>{let s=e.nodes[g];if(!s)return;(n&&s.type===n||s.type==="open"||s.type==="close")&&(s.escaped!==!0&&(s.value="\\"+s.value,s.escaped=!0))};a.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;a.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;a.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;a.reduce=e=>e.reduce((g,n)=>(n.type==="text"&&g.push(n.value),n.type==="range"&&(n.type="text"),g),[]);a.flatten=(...e)=>{const g=[],n=s=>{for(let A=0;A<s.length;A++){let t=s[A];Array.isArray(t)?n(t,g):t!==void 0&&g.push(t)}return g};return n(e),g}});var Ra=la((a,q)=>{"use strict";const e=Sa();q.exports=(g,n={})=>{let s=(A,t={})=>{let h=n.escapeInvalid&&e.isInvalidBrace(t),o=A.invalid===!0&&n.escapeInvalid===!0,v="";if(A.value)return(h||o)&&e.isOpenOrClose(A)?"\\"+A.value:A.value;if(A.value)return A.value;if(A.nodes)for(let u of A.nodes)v+=s(u);return v};return s(g)}});var Xb=la((a,q)=>{"use strict";q.exports=function(e){return typeof e==="number"?e-e===0:typeof e==="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var ac=la((a,q)=>{"use strict";const e=Xb(),g=(E,F,V)=>{if(e(E)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(F===void 0||E===F)return String(E);if(e(F)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let l={relaxZeros:!0,...V};typeof l.strictZeros==="boolean"&&(l.relaxZeros=l.strictZeros===!1);let H=String(l.relaxZeros),m=String(l.shorthand),b=String(l.capture),d=String(l.wrap),r=E+":"+F+"="+H+m+b+d;if(g.cache.hasOwnProperty(r))return g.cache[r].result;let w=Math.min(E,F),L=Math.max(E,F);if(Math.abs(w-L)===1){let Y=E+"|"+F;return l.capture?`(${Y})`:l.wrap===!1?Y:`(?:${Y})`}let D=Q(E)||Q(F),M={min:E,max:F,a:w,b:L},G=[],I=[];D&&(M.isPadded=D,M.maxLen=String(M.max).length);if(w<0){let Y=L<0?Math.abs(L):1;I=t(Y,Math.abs(w),M,l),w=M.a=0}return L>=0&&(G=t(w,L,M,l)),M.negatives=I,M.positives=G,M.result=n(I,G,l),l.capture===!0?M.result=`(${M.result})`:l.wrap!==!1&&G.length+I.length>1&&(M.result=`(?:${M.result})`),g.cache[r]=M,M.result};function n(E,F,V){let l=h(E,F,"-",!1,V)||[],H=h(F,E,"",!1,V)||[],m=h(E,F,"-?",!0,V)||[],b=l.concat(m).concat(H);return b.join("|")}function s(E,F){let V=1,l=1,H=C(E,V),m=new Set([F]);for(;E<=H&&H<=F;)m.add(H),V+=1,H=C(E,V);for(H=K(F+1,l)-1;E<H&&H<=F;)m.add(H),l+=1,H=K(F+1,l)-1;return m=[...m],m.sort(v),m}function A(E,F,V){if(E===F)return{pattern:E,count:[],digits:0};let l=o(E,F),H=l.length,m="",b=0;for(let d=0;d<H;d++){let[r,w]=l[d];r===w?m+=r:r!=="0"||w!=="9"?m+=aa(r,w,V):b++}return b&&(m+=V.shorthand===!0?"\\d":"[0-9]"),{pattern:m,count:[b],digits:H}}function t(E,F,V,l){let H=s(E,F),m=[],b=E,d;for(let r=0;r<H.length;r++){let w=H[r],L=A(String(b),String(w),l),D="";if(!V.isPadded&&d&&d.pattern===L.pattern){d.count.length>1&&d.count.pop(),d.count.push(L.count[0]),d.string=d.pattern+p(d.count),b=w+1;continue}V.isPadded&&(D=ba(w,V,l)),L.string=D+L.pattern+p(L.count),m.push(L),b=w+1,d=L}return m}function h(E,F,V,l,H){let m=[];for(let b of E){let{string:d}=b;!l&&!u(F,"string",d)&&m.push(V+d),l&&u(F,"string",d)&&m.push(V+d)}return m}function o(E,F){let V=[];for(let l=0;l<E.length;l++)V.push([E[l],F[l]]);return V}function v(E,F){return E>F?1:F>E?-1:0}function u(E,F,V){return E.some(l=>l[F]===V)}function C(E,F){return Number(String(E).slice(0,-F)+"9".repeat(F))}function K(E,F){return E-E%Math.pow(10,F)}function p(E){let[F=0,V=""]=E;return V||F>1?`{${F+(V?","+V:"")}}`:""}function aa(E,F,V){return`[${E}${F-E===1?"":"-"}${F}]`}function Q(E){return/^-?(0+)\d/.test(E)}function ba(E,F,V){if(!F.isPadded)return E;let l=Math.abs(F.maxLen-String(E).length),H=V.relaxZeros!==!1;switch(l){case 0:return"";case 1:return H?"0?":"0";case 2:return H?"0{0,2}":"00";default:return H?`0{0,${l}}`:`0{${l}}`}}g.cache={};g.clearCache=()=>g.cache={};q.exports=g});var ib=la((a,q)=>{"use strict";const e=require("util"),g=ac(),n=l=>l!==null&&typeof l==="object"&&!Array.isArray(l),s=l=>H=>l===!0?Number(H):String(H),A=l=>typeof l==="number"||typeof l==="string"&&l!=="",t=l=>Number.isInteger(+l),h=l=>{let H=`${l}`,m=-1;H[0]==="-"&&(H=H.slice(1));if(H==="0")return!1;for(;H[++m]==="0";);return m>0},o=(l,H,m)=>typeof l==="string"||typeof H==="string"?!0:m.stringify===!0,v=(l,H,m)=>{if(H>0){let b=l[0]==="-"?"-":"";b&&(l=l.slice(1)),l=b+l.padStart(b?H-1:H,"0")}return m===!1?String(l):l},u=(l,H)=>{let m=l[0]==="-"?"-":"";for(m&&(l=l.slice(1),H--);l.length<H;)l="0"+l;return m?"-"+l:l},C=(l,H)=>{l.negatives.sort((w,L)=>w<L?-1:w>L?1:0),l.positives.sort((w,L)=>w<L?-1:w>L?1:0);let m=H.capture?"":"?:",b="",d="",r;return l.positives.length&&(b=l.positives.join("|")),l.negatives.length&&(d=`-(${m}${l.negatives.join("|")})`),b&&d?r=`${b}|${d}`:r=b||d,H.wrap?`(${m}${r})`:r},K=(l,H,m,b)=>{if(m)return g(l,H,{wrap:!1,...b});let d=String.fromCharCode(l);if(l===H)return d;let r=String.fromCharCode(H);return`[${d}-${r}]`},p=(l,H,m)=>{if(Array.isArray(l)){let b=m.wrap===!0,d=m.capture?"":"?:";return b?`(${d}${l.join("|")})`:l.join("|")}return g(l,H,m)},aa=(...l)=>new RangeError("Invalid range arguments: "+e.inspect(...l)),Q=(l,H,m)=>{if(m.strictRanges===!0)throw aa([l,H]);return[]},ba=(l,H)=>{if(H.strictRanges===!0)throw new TypeError(`Expected step "${l}" to be a number`);return[]},E=(l,H,m=1,b={})=>{let d=Number(l),r=Number(H);if(!Number.isInteger(d)||!Number.isInteger(r)){if(b.strictRanges===!0)throw aa([l,H]);return[]}d===0&&(d=0),r===0&&(r=0);let w=d>r,L=String(l),D=String(H),M=String(m);m=Math.max(Math.abs(m),1);let G=h(L)||h(D)||h(M),I=G?Math.max(L.length,D.length,M.length):0,Y=G===!1&&o(l,H,b)===!1,Z=b.transform||s(Y);if(b.toRegex&&m===1)return K(u(l,I),u(H,I),!0,b);let S={negatives:[],positives:[]},da=x=>S[x<0?"negatives":"positives"].push(Math.abs(x)),ia=[],ka=0;for(;w?d>=r:d<=r;)b.toRegex===!0&&m>1?da(d):ia.push(v(Z(d,ka),I,Y)),d=w?d-m:d+m,ka++;return b.toRegex===!0?m>1?C(S,b):p(ia,null,{wrap:!1,...b}):ia},F=(l,H,m=1,b={})=>{if(!t(l)&&l.length>1||!t(H)&&H.length>1)return Q(l,H,b);let d=b.transform||(Y=>String.fromCharCode(Y)),r=`${l}`.charCodeAt(0),w=`${H}`.charCodeAt(0),L=r>w,D=Math.min(r,w),M=Math.max(r,w);if(b.toRegex&&m===1)return K(D,M,!1,b);let G=[],I=0;for(;L?r>=w:r<=w;)G.push(d(r,I)),r=L?r-m:r+m,I++;return b.toRegex===!0?p(G,null,{wrap:!1,options:b}):G},V=(l,H,m,b={})=>{if(H==null&&A(l))return[l];if(!A(l)||!A(H))return Q(l,H,b);if(typeof m==="function")return V(l,H,1,{transform:m});if(n(m))return V(l,H,0,m);let d={...b};return d.capture===!0&&(d.wrap=!0),m=m||d.step||1,t(m)?t(l)&&t(H)?E(l,H,m,d):F(l,H,Math.max(Math.abs(m),1),d):m!=null&&!n(m)?ba(m,d):V(l,H,1,m)};q.exports=V});var Ob=la((a,q)=>{"use strict";const e=ib(),g=Sa(),n=(s,A={})=>{let t=(h,o={})=>{let v=g.isInvalidBrace(o),u=h.invalid===!0&&A.escapeInvalid===!0,C=v===!0||u===!0,K=A.escapeInvalid===!0?"\\":"",p="";if(h.isOpen===!0)return K+h.value;if(h.isClose===!0)return K+h.value;if(h.type==="open")return C?K+h.value:"(";if(h.type==="close")return C?K+h.value:")";if(h.type==="comma")return h.prev.type==="comma"?"":C?h.value:"|";if(h.value)return h.value;if(h.nodes&&h.ranges>0){let aa=g.reduce(h.nodes),Q=e(...aa,{...A,wrap:!1,toRegex:!0});if(Q.length!==0)return aa.length>1&&Q.length>1?`(${Q})`:Q}if(h.nodes)for(let aa of h.nodes)p+=t(aa,h);return p};return t(s)};q.exports=n});var Qb=la((a,q)=>{"use strict";const e=ib(),g=Ra(),n=Sa(),s=(t="",h="",o=!1)=>{let v=[];t=[].concat(t),h=[].concat(h);if(!h.length)return t;if(!t.length)return o?n.flatten(h).map(u=>`{${u}}`):h;for(let u of t)if(Array.isArray(u))for(let C of u)v.push(s(C,h,o));else for(let C of h)o===!0&&typeof C==="string"&&(C=`{${C}}`),v.push(Array.isArray(C)?s(u,C,o):u+C);return n.flatten(v)},A=(t,h={})=>{let o=h.rangeLimit===void 0?1000:h.rangeLimit,v=(u,C={})=>{u.queue=[];let K=C,p=C.queue;for(;K.type!=="brace"&&K.type!=="root"&&K.parent;)K=K.parent,p=K.queue;if(u.invalid||u.dollar){p.push(s(p.pop(),g(u,h)));return}if(u.type==="brace"&&u.invalid!==!0&&u.nodes.length===2){p.push(s(p.pop(),["{}"]));return}if(u.nodes&&u.ranges>0){let E=n.reduce(u.nodes);if(n.exceedsLimit(...E,h.step,o))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let F=e(...E,h);F.length===0&&(F=g(u,h)),p.push(s(p.pop(),F)),u.nodes=[];return}let aa=n.encloseBrace(u),Q=u.queue,ba=u;for(;ba.type!=="brace"&&ba.type!=="root"&&ba.parent;)ba=ba.parent,Q=ba.queue;for(let E=0;E<u.nodes.length;E++){let F=u.nodes[E];if(F.type==="comma"&&u.type==="brace"){E===1&&Q.push(""),Q.push("");continue}if(F.type==="close"){p.push(s(p.pop(),Q,aa));continue}if(F.value&&F.type!=="open"){Q.push(s(Q.pop(),F.value));continue}F.nodes&&v(F,u)}return Q};return n.flatten(v(t))};q.exports=A});var Pb=la((a,q)=>{"use strict";q.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"﻿"}});var Rb=la((a,q)=>{"use strict";const e=Ra(),{MAX_LENGTH:g,CHAR_BACKSLASH:n,CHAR_BACKTICK:s,CHAR_COMMA:A,CHAR_DOT:t,CHAR_LEFT_PARENTHESES:h,CHAR_RIGHT_PARENTHESES:o,CHAR_LEFT_CURLY_BRACE:v,CHAR_RIGHT_CURLY_BRACE:u,CHAR_LEFT_SQUARE_BRACKET:C,CHAR_RIGHT_SQUARE_BRACKET:K,CHAR_DOUBLE_QUOTE:p,CHAR_SINGLE_QUOTE:aa,CHAR_NO_BREAK_SPACE:Q,CHAR_ZERO_WIDTH_NOBREAK_SPACE:ba}=Pb(),E=(F,V={})=>{if(typeof F!=="string")throw new TypeError("Expected a string");let l=V||{},H=typeof l.maxLength==="number"?Math.min(g,l.maxLength):g;if(F.length>H)throw new SyntaxError(`Input length (${F.length}), exceeds max characters (${H})`);let m={type:"root",input:F,nodes:[]},b=[m],d=m,r=m,w=0,L=F.length,D=0,M=0,G,I={};const Y=()=>F[D++],Z=S=>{S.type==="text"&&r.type==="dot"&&(r.type="text");if(r&&r.type==="text"&&S.type==="text"){r.value+=S.value;return}return d.nodes.push(S),S.parent=d,S.prev=r,r=S,S};for(Z({type:"bos"});D<L;){d=b[b.length-1],G=Y();if(G===ba||G===Q)continue;if(G===n){Z({type:"text",value:(V.keepEscaping?G:"")+Y()});continue}if(G===K){Z({type:"text",value:"\\"+G});continue}if(G===C){w++;let S=!0,da;for(;D<L&&(da=Y());){G+=da;if(da===C){w++;continue}if(da===n){G+=Y();continue}if(da===K){w--;if(w===0)break}}Z({type:"text",value:G});continue}if(G===h){d=Z({type:"paren",nodes:[]}),b.push(d),Z({type:"text",value:G});continue}if(G===o){if(d.type!=="paren"){Z({type:"text",value:G});continue}d=b.pop(),Z({type:"text",value:G}),d=b[b.length-1];continue}if(G===p||G===aa||G===s){let S=G,da;for(V.keepQuotes!==!0&&(G="");D<L&&(da=Y());){if(da===n){G+=da+Y();continue}if(da===S){V.keepQuotes===!0&&(G+=da);break}G+=da}Z({type:"text",value:G});continue}if(G===v){M++;let S=r.value&&r.value.slice(-1)==="$"||d.dollar===!0,da={type:"brace",open:!0,close:!1,dollar:S,depth:M,commas:0,ranges:0,nodes:[]};d=Z(da),b.push(d),Z({type:"open",value:G});continue}if(G===u){if(d.type!=="brace"){Z({type:"text",value:G});continue}let S="close";d=b.pop(),d.close=!0,Z({type:S,value:G}),M--,d=b[b.length-1];continue}if(G===A&&M>0){if(d.ranges>0){d.ranges=0;let S=d.nodes.shift();d.nodes=[S,{type:"text",value:e(d)}]}Z({type:"comma",value:G}),d.commas++;continue}if(G===t&&M>0&&d.commas===0){let S=d.nodes;if(M===0||S.length===0){Z({type:"text",value:G});continue}if(r.type==="dot"){d.range=[],r.value+=G,r.type="range";if(d.nodes.length!==3&&d.nodes.length!==5){d.invalid=!0,d.ranges=0,r.type="text";continue}d.ranges++,d.args=[];continue}if(r.type==="range"){S.pop();let da=S[S.length-1];da.value+=r.value+G,r=da,d.ranges--;continue}Z({type:"dot",value:G});continue}Z({type:"text",value:G})}do{d=b.pop();if(d.type!=="root"){d.nodes.forEach(ia=>{ia.nodes||(ia.type==="open"&&(ia.isOpen=!0),ia.type==="close"&&(ia.isClose=!0),ia.nodes||(ia.type="text"),ia.invalid=!0)});let S=b[b.length-1],da=S.nodes.indexOf(d);S.nodes.splice(da,1,...d.nodes)}}while(b.length>0);return Z({type:"eos"}),m};q.exports=E});var Nb=la((a,q)=>{"use strict";const e=Ra(),g=Ob(),n=Qb(),s=Rb(),A=(t,h={})=>{let o=[];if(Array.isArray(t))for(let v of t){let u=A.create(v,h);Array.isArray(u)?o.push(...u):o.push(u)}else o=[].concat(A.create(t,h));return h&&h.expand===!0&&h.nodupes===!0&&(o=[...new Set(o)]),o};A.parse=(t,h={})=>s(t,h);A.stringify=(t,h={})=>typeof t==="string"?e(A.parse(t,h),h):e(t,h);A.compile=(t,h={})=>(typeof t==="string"&&(t=A.parse(t,h)),g(t,h));A.expand=(t,h={})=>{typeof t==="string"&&(t=A.parse(t,h));let o=n(t,h);return h.noempty===!0&&(o=o.filter(Boolean)),h.nodupes===!0&&(o=[...new Set(o)]),o};A.create=(t,h={})=>t===""||t.length<3?[t]:h.expand!==!0?A.compile(t,h):A.expand(t,h);q.exports=A});var Lb=la((a,q)=>{q.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","oga","ogg","ogv","otf","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rtf","rz","s3m","s7z","scpt","sgi","shar","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]});var Mb=la((a,q)=>{q.exports=Lb()});var Vb=la((a,q)=>{"use strict";const e=require("path"),g=Mb(),n=new Set(g);q.exports=s=>n.has(e.extname(s).slice(1).toLowerCase())});var Ta=la(a=>{"use strict";const{sep:e}=require("path"),{platform:g}=process;a.EV_ALL="all";a.EV_READY="ready";a.EV_ADD="add";a.EV_CHANGE="change";a.EV_ADD_DIR="addDir";a.EV_UNLINK="unlink";a.EV_UNLINK_DIR="unlinkDir";a.EV_RAW="raw";a.EV_ERROR="error";a.STR_DATA="data";a.STR_END="end";a.STR_CLOSE="close";a.FSEVENT_CREATED="created";a.FSEVENT_MODIFIED="modified";a.FSEVENT_DELETED="deleted";a.FSEVENT_MOVED="moved";a.FSEVENT_CLONED="cloned";a.FSEVENT_UNKNOWN="unknown";a.FSEVENT_TYPE_FILE="file";a.FSEVENT_TYPE_DIRECTORY="directory";a.FSEVENT_TYPE_SYMLINK="symlink";a.KEY_LISTENERS="listeners";a.KEY_ERR="errHandlers";a.KEY_RAW="rawEmitters";a.HANDLER_KEYS=[a.KEY_LISTENERS,a.KEY_ERR,a.KEY_RAW];a.DOT_SLASH=`.${e}`;a.BACK_SLASH_RE=/\\/g;a.DOUBLE_SLASH_RE=/\/\//;a.SLASH_OR_BACK_SLASH_RE=/[/\\]/;a.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/;a.REPLACER_RE=/^\.[/\\]/;a.SLASH="/";a.BRACE_START="{";a.BANG="!";a.ONE_DOT=".";a.TWO_DOTS="..";a.STAR="*";a.GLOBSTAR="**";a.ROOT_GLOBSTAR="/**/*";a.SLASH_GLOBSTAR="/**";a.DIR_SUFFIX="Dir";a.ANYMATCH_OPTS={dot:!0};a.STRING_TYPE="string";a.FUNCTION_TYPE="function";a.EMPTY_STR="";a.EMPTY_FN=()=>{};a.IDENTITY_FN=n=>n;a.isWindows=g==="win32";a.isMacos=g==="darwin"});var Tb=la((a,q)=>{"use strict";const e=require("fs"),g=require("path"),{promisify:n}=require("util"),s=Vb(),{isWindows:A,EMPTY_FN:t,EMPTY_STR:h,KEY_LISTENERS:o,KEY_ERR:v,KEY_RAW:u,HANDLER_KEYS:C,EV_CHANGE:K,EV_ADD:p,EV_ADD_DIR:aa,EV_ERROR:Q,STR_DATA:ba,STR_END:E,BRACE_START:F,STAR:V}=Ta(),l="watch",H=n(e.open),m=n(e.stat),b=n(e.lstat),d=n(e.close),r=n(e.realpath),w={lstat:b,stat:m},L=(B,R)=>{B instanceof Set?B.forEach(R):R(B)},D=(B,R,y)=>{let f=B[R];f instanceof Set||(B[R]=f=new Set([f])),f.add(y)},M=B=>R=>{const y=B[R];y instanceof Set?y.clear():delete B[R]},G=(B,R,y)=>{const f=B[R];f instanceof Set?f.delete(y):f===y&&delete B[R]},I=B=>B instanceof Set?B.size===0:!B,Y=new Map();function Z(B,R,y,f,c){const O=(z,N)=>{y(B),c(z,N,{watchedPath:B}),N&&B!==N&&S(g.resolve(B,N),o,g.join(B,N))};try{return e.watch(B,R,O)}catch(z){f(z)}}const S=(B,R,y,f,c)=>{const O=Y.get(B);if(!O)return;L(O[R],z=>{z(y,f,c)})},da=(B,R,y,f)=>{const{listener:c,errHandler:O,rawEmitter:z}=f;let N=Y.get(R),T;if(!y.persistent)return T=Z(B,y,c,O,z),T.close.bind(T);if(N)D(N,o,c),D(N,v,O),D(N,u,z);else{T=Z(B,y,S.bind(null,R,o),O,S.bind(null,R,u));if(!T)return;T.on(Q,async J=>{const W=S.bind(null,R,v);N.watcherUnusable=!0;if(A&&J.code==="EPERM")try{const ca=await H(B,"r");await d(ca),W(J)}catch(ca){}else W(J)}),N={listeners:c,errHandlers:O,rawEmitters:z,watcher:T},Y.set(R,N)}return()=>{G(N,o,c),G(N,v,O),G(N,u,z),I(N.listeners)&&(N.watcher.close(),Y.delete(R),C.forEach(M(N)),N.watcher=void 0,Object.freeze(N))}},ia=new Map(),ka=(B,R,y,f)=>{const{listener:c,rawEmitter:O}=f;let z=ia.get(R),N=new Set(),T=new Set();const J=z&&z.options;return J&&(J.persistent<y.persistent||J.interval>y.interval)&&(N=z.listeners,T=z.rawEmitters,e.unwatchFile(R),z=void 0),z?(D(z,o,c),D(z,u,O)):(z={listeners:c,rawEmitters:O,options:y,watcher:e.watchFile(R,y,(W,ca)=>{L(z.rawEmitters,fa=>{fa(K,R,{curr:W,prev:ca})});const ea=W.mtimeMs;(W.size!==ca.size||ea>ca.mtimeMs||ea===0)&&L(z.listeners,fa=>fa(B,W))})},ia.set(R,z)),()=>{G(z,o,c),G(z,u,O),I(z.listeners)&&(ia.delete(R),e.unwatchFile(R),z.options=z.watcher=void 0,Object.freeze(z))}};class x{constructor(B){this.fsw=B,this._boundHandleError=R=>B._handleError(R)}_watchWithNodeFs(B,R){const y=this.fsw.options,f=g.dirname(B),c=g.basename(B),O=this.fsw._getWatchedDir(f);O.add(c);const z=g.resolve(B),N={persistent:y.persistent};R||(R=t);let T;return y.usePolling?(N.interval=y.enableBinaryInterval&&s(c)?y.binaryInterval:y.interval,T=ka(B,z,N,{listener:R,rawEmitter:this.fsw._emitRaw})):T=da(B,z,N,{listener:R,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),T}_handleFile(B,R,y){if(this.fsw.closed)return;const f=g.dirname(B),c=g.basename(B),O=this.fsw._getWatchedDir(f);let z=R;if(O.has(c))return;const N=this._watchWithNodeFs(B,async(T,J)=>{if(!this.fsw._throttle(l,B,5))return;if(!J||J.mtimeMs===0)try{const W=await m(B);if(this.fsw.closed)return;const ca=W.atimeMs,ea=W.mtimeMs;(!ca||ca<=ea||ea!==z.mtimeMs)&&this.fsw._emit(K,B,W),z=W}catch(W){this.fsw._remove(f,c)}else if(O.has(c)){const W=J.atimeMs,ca=J.mtimeMs;(!W||W<=ca||ca!==z.mtimeMs)&&this.fsw._emit(K,B,J),z=J}});if(!(y&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(B)){if(!this.fsw._throttle(p,B,0))return;this.fsw._emit(p,B,R)}return N}async _handleSymlink(B,R,y,f){if(this.fsw.closed)return;const c=B.fullPath,O=this.fsw._getWatchedDir(R);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();const z=await r(y);return this.fsw.closed?void 0:(O.has(f)?this.fsw._symlinkPaths.get(c)!==z&&(this.fsw._symlinkPaths.set(c,z),this.fsw._emit(K,y,B.stats)):(O.add(f),this.fsw._symlinkPaths.set(c,z),this.fsw._emit(p,y,B.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(c))return!0;this.fsw._symlinkPaths.set(c,!0)}_handleRead(B,R,y,f,c,O,z){B=g.join(B,h);if(!y.hasGlob){z=this.fsw._throttle("readdir",B,1000);if(!z)return}const N=this.fsw._getWatchedDir(y.path),T=new Set();let J=this.fsw._readdirp(B,{fileFilter:W=>y.filterPath(W),directoryFilter:W=>y.filterDir(W),depth:0}).on(ba,async W=>{if(this.fsw.closed){J=void 0;return}const ca=W.path;let ea=g.join(B,ca);T.add(ca);if(W.stats.isSymbolicLink()&&await this._handleSymlink(W,B,ea,ca))return;if(this.fsw.closed){J=void 0;return}(ca===f||!f&&!N.has(ca))&&(this.fsw._incrReadyCount(),ea=g.join(c,g.relative(c,ea)),this._addToNodeFs(ea,R,y,O+1))}).on(Q,this._boundHandleError);return new Promise(W=>J.once(E,()=>{if(this.fsw.closed){J=void 0;return}const ca=z?z.clear():!1;W(),N.getChildren().filter(ea=>ea!==B&&!T.has(ea)&&(!y.hasGlob||y.filterPath({fullPath:g.resolve(B,ea)}))).forEach(ea=>{this.fsw._remove(B,ea)}),J=void 0,ca&&this._handleRead(B,!1,y,f,c,O,z)}))}async _handleDir(B,R,y,f,c,O,z){const N=this.fsw._getWatchedDir(g.dirname(B)),T=N.has(g.basename(B));!(y&&this.fsw.options.ignoreInitial)&&!c&&!T&&((!O.hasGlob||O.globFilter(B))&&this.fsw._emit(aa,B,R)),N.add(g.basename(B)),this.fsw._getWatchedDir(B);let J,W;const ca=this.fsw.options.depth;if((ca==null||f<=ca)&&!this.fsw._symlinkPaths.has(z)){if(!c){await this._handleRead(B,y,O,c,B,f,J);if(this.fsw.closed)return}W=this._watchWithNodeFs(B,(ea,fa)=>{if(fa&&fa.mtimeMs===0)return;this._handleRead(ea,!1,O,c,B,f,J)})}return W}async _addToNodeFs(B,R,y,f,c){const O=this.fsw._emitReady;if(this.fsw._isIgnored(B)||this.fsw.closed)return O(),!1;const z=this.fsw._getWatchHelpers(B,f);!z.hasGlob&&y&&(z.hasGlob=y.hasGlob,z.globFilter=y.globFilter,z.filterPath=N=>y.filterPath(N),z.filterDir=N=>y.filterDir(N));try{const N=await w[z.statMethod](z.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(z.watchPath,N))return O(),!1;const T=this.fsw.options.followSymlinks&&!B.includes(V)&&!B.includes(F);let J;if(N.isDirectory()){const W=T?await r(B):B;if(this.fsw.closed)return;J=await this._handleDir(z.watchPath,N,R,f,c,z,W);if(this.fsw.closed)return;B!==W&&W!==void 0&&this.fsw._symlinkPaths.set(W,!0)}else if(N.isSymbolicLink()){const W=T?await r(B):B;if(this.fsw.closed)return;const ca=g.dirname(z.watchPath);this.fsw._getWatchedDir(ca).add(z.watchPath),this.fsw._emit(p,z.watchPath,N),J=await this._handleDir(ca,N,R,f,B,z,W);if(this.fsw.closed)return;W!==void 0&&this.fsw._symlinkPaths.set(g.resolve(B),W)}else J=this._handleFile(z.watchPath,N,R);return O(),this.fsw._addPathCloser(B,J),!1}catch(N){if(this.fsw._handleError(N))return O(),B}}}q.exports=x});var Sb=la((a,q)=>{"use strict";const e=require("fs"),g=require("path"),{promisify:n}=require("util");let s;try{s=require("fsevents")}catch(y){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(y)}if(s){const y=process.version.match(/v(\d+)\.(\d+)/);if(y&&y[1]&&y[2]){const f=Number.parseInt(y[1],10),c=Number.parseInt(y[2],10);f===8&&c<16&&(s=void 0)}}const{EV_ADD:A,EV_CHANGE:t,EV_ADD_DIR:h,EV_UNLINK:o,EV_ERROR:v,STR_DATA:u,STR_END:C,FSEVENT_CREATED:K,FSEVENT_MODIFIED:p,FSEVENT_DELETED:aa,FSEVENT_MOVED:Q,FSEVENT_UNKNOWN:ba,FSEVENT_TYPE_FILE:E,FSEVENT_TYPE_DIRECTORY:F,FSEVENT_TYPE_SYMLINK:V,ROOT_GLOBSTAR:l,DIR_SUFFIX:H,DOT_SLASH:m,FUNCTION_TYPE:b,EMPTY_FN:d,IDENTITY_FN:r}=Ta(),w=y=>isNaN(y)?{}:{depth:y},L=n(e.stat),D=n(e.lstat),M=n(e.realpath),G={stat:L,lstat:D},I=new Map(),Y=10,Z=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),S=(y,f)=>{const c=s.watch(y,f);return{stop:c}};function da(y,f,c,O,z){let N=g.extname(y)?g.dirname(y):y;const T=g.dirname(N);let J=I.get(N);ia(T)&&(N=T);const W=g.resolve(y),ca=W!==f,ea=(_,oa,qa)=>{ca&&(_=_.replace(f,W)),(_===W||!_.indexOf(W+g.sep))&&c(_,oa,qa)};let fa=!1;for(const _ of I.keys())if(f.indexOf(g.resolve(_)+g.sep)===0){N=_,J=I.get(N),fa=!0;break}return J||fa?J.listeners.add(ea):(J={listeners:new Set([ea]),rawEmitter:O,watcher:S(N,(_,oa)=>{if(z.closed)return;const qa=s.getInfo(_,oa);J.listeners.forEach($=>{$(_,oa,qa)}),J.rawEmitter(qa.event,_,qa)})},I.set(N,J)),()=>{const _=J.listeners;_.delete(ea);if(!_.size){I.delete(N);if(J.watcher)return J.watcher.stop().then(()=>{J.rawEmitter=J.watcher=void 0,Object.freeze(J)})}}}const ia=y=>{let f=0;for(const c of I.keys())if(c.indexOf(y)===0){f++;if(f>=Y)return!0}return!1},ka=()=>s&&I.size<128,x=(y,f)=>{let c=0;for(;!y.indexOf(f)&&(y=g.dirname(y))!==f;)c++;return c},B=(y,f)=>y.type===F&&f.isDirectory()||y.type===V&&f.isSymbolicLink()||y.type===E&&f.isFile();class R{constructor(y){this.fsw=y}checkIgnored(y,f){const c=this.fsw._ignoredPaths;if(this.fsw._isIgnored(y,f))return c.add(y),f&&f.isDirectory()&&c.add(y+l),!0;c.delete(y),c.delete(y+l)}addOrChange(y,f,c,O,z,N,T,J){const W=z.has(N)?t:A;this.handleEvent(W,y,f,c,O,z,N,T,J)}async checkExists(y,f,c,O,z,N,T,J){try{const W=await L(y);if(this.fsw.closed)return;if(this.fsw.closed)return;B(T,W)?this.addOrChange(y,f,c,O,z,N,T,J):this.handleEvent(o,y,f,c,O,z,N,T,J)}catch(W){W.code==="EACCES"?this.addOrChange(y,f,c,O,z,N,T,J):this.handleEvent(o,y,f,c,O,z,N,T,J)}}handleEvent(y,f,c,O,z,N,T,J,W){if(this.fsw.closed||this.checkIgnored(f))return;if(y===o){const ca=J.type===F;(ca||N.has(T))&&this.fsw._remove(z,T,ca)}else{if(y===A){J.type===F&&this.fsw._getWatchedDir(f);if(J.type===V&&W.followSymlinks){const ea=W.depth===void 0?void 0:x(c,O)+1;return this._addToFsEvents(f,!1,!0,ea)}this.fsw._getWatchedDir(z).add(T)}const ca=J.type===F?y+H:y;this.fsw._emit(ca,f),ca===h&&this._addToFsEvents(f,!1,!0)}}_watchWithFsEvents(y,f,c,O){if(this.fsw.closed)return;if(this.fsw._isIgnored(y))return;const z=this.fsw.options,N=async(J,W,ca)=>{if(this.fsw.closed)return;if(z.depth!==void 0&&x(J,f)>z.depth)return;const ea=c(g.join(y,g.relative(y,J)));if(O&&!O(ea))return;const fa=g.dirname(ea),_=g.basename(ea),oa=this.fsw._getWatchedDir(ca.type===F?ea:fa);if(Z.has(W)||ca.event===ba)if(typeof z.ignored===b){let qa;try{qa=await L(ea)}catch($){}if(this.fsw.closed)return;if(this.checkIgnored(ea,qa))return;B(ca,qa)?this.addOrChange(ea,J,f,fa,oa,_,ca,z):this.handleEvent(o,ea,J,f,fa,oa,_,ca,z)}else this.checkExists(ea,J,f,fa,oa,_,ca,z);else switch(ca.event){case K:case p:return this.addOrChange(ea,J,f,fa,oa,_,ca,z);case aa:case Q:return this.checkExists(ea,J,f,fa,oa,_,ca,z)}},T=da(y,f,N,this.fsw._emitRaw,this.fsw);return this.fsw._emitReady(),T}async _handleFsEventsSymlink(y,f,c,O){if(this.fsw.closed||this.fsw._symlinkPaths.has(f))return;this.fsw._symlinkPaths.set(f,!0),this.fsw._incrReadyCount();try{const z=await M(y);if(this.fsw.closed)return;if(this.fsw._isIgnored(z))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(z||y,N=>{let T=y;return z&&z!==m?T=N.replace(z,y):N!==m&&(T=g.join(y,N)),c(T)},!1,O)}catch(z){if(this.fsw._handleError(z))return this.fsw._emitReady()}}emitAdd(y,f,c,O,z){const N=c(y),T=f.isDirectory(),J=this.fsw._getWatchedDir(g.dirname(N)),W=g.basename(N);T&&this.fsw._getWatchedDir(N);if(J.has(W))return;J.add(W),(!O.ignoreInitial||z===!0)&&this.fsw._emit(T?h:A,N,f)}initWatch(y,f,c,O){if(this.fsw.closed)return;const z=this._watchWithFsEvents(c.watchPath,g.resolve(y||c.watchPath),O,c.globFilter);this.fsw._addPathCloser(f,z)}async _addToFsEvents(y,f,c,O){if(this.fsw.closed)return;const z=this.fsw.options,N=typeof f===b?f:r,T=this.fsw._getWatchHelpers(y);try{const J=await G[T.statMethod](T.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(T.watchPath,J))throw null;if(J.isDirectory()){T.globFilter||this.emitAdd(N(y),J,N,z,c);if(O&&O>z.depth)return;this.fsw._readdirp(T.watchPath,{fileFilter:W=>T.filterPath(W),directoryFilter:W=>T.filterDir(W),...w(z.depth-(O||0))}).on(u,W=>{if(this.fsw.closed)return;if(W.stats.isDirectory()&&!T.filterPath(W))return;const ca=g.join(T.watchPath,W.path),{fullPath:ea}=W;if(T.followSymlinks&&W.stats.isSymbolicLink()){const fa=z.depth===void 0?void 0:x(ca,g.resolve(T.watchPath))+1;this._handleFsEventsSymlink(ca,ea,N,fa)}else this.emitAdd(ca,W.stats,N,z,c)}).on(v,d).on(C,()=>{this.fsw._emitReady()})}else this.emitAdd(T.watchPath,J,N,z,c),this.fsw._emitReady()}catch(J){(!J||this.fsw._handleError(J))&&(this.fsw._emitReady(),this.fsw._emitReady())}if(z.persistent&&c!==!0)if(typeof f===b)this.initWatch(void 0,y,T,N);else{let J;try{J=await M(T.watchPath)}catch(W){}this.initWatch(J,y,T,N)}}}q.exports=R;q.exports.canUse=ka});var Gc=la(a=>{"use strict";const{EventEmitter:e}=require("events"),g=require("fs"),n=require("path"),{promisify:s}=require("util"),A=$b(),t=Ga().default,h=Ub(),o=jb(),v=Nb(),u=kb(),C=Tb(),K=Sb(),{EV_ALL:p,EV_READY:aa,EV_ADD:Q,EV_CHANGE:ba,EV_UNLINK:E,EV_ADD_DIR:F,EV_UNLINK_DIR:V,EV_RAW:l,EV_ERROR:H,STR_CLOSE:m,STR_END:b,BACK_SLASH_RE:d,DOUBLE_SLASH_RE:r,SLASH_OR_BACK_SLASH_RE:w,DOT_RE:L,REPLACER_RE:D,SLASH:M,BRACE_START:G,BANG:I,ONE_DOT:Y,TWO_DOTS:Z,GLOBSTAR:S,SLASH_GLOBSTAR:da,ANYMATCH_OPTS:ia,STRING_TYPE:ka,FUNCTION_TYPE:x,EMPTY_STR:B,EMPTY_FN:R,isWindows:y,isMacos:f}=Ta(),c=s(g.stat),O=s(g.readdir),z=(k=[])=>Array.isArray(k)?k:[k],N=(k,i=[])=>(k.forEach(U=>{Array.isArray(U)?N(U,i):i.push(U)}),i),T=k=>{const i=N(z(k));if(!i.every(U=>typeof U===ka))throw new TypeError(`Non-string provided as watch path: ${i}`);return i.map(W)},J=k=>{let i=k.replace(d,M);for(;i.match(r);)i=i.replace(r,M);return i},W=k=>J(n.normalize(J(k))),ca=(k=B)=>i=>typeof i!==ka?i:W(n.isAbsolute(i)?i:n.join(k,i)),ea=(k,i)=>n.isAbsolute(k)?k:k.startsWith(I)?I+n.join(i,k.slice(1)):n.join(i,k),fa=(k,i)=>k[i]===void 0;class _{constructor(k,i){this.path=k,this._removeWatcher=i,this.items=new Set()}add(k){const{items:i}=this;if(!i)return;k!==Y&&k!==Z&&i.add(k)}async remove(k){const{items:i}=this;if(!i)return;i.delete(k);if(i.size>0)return;const U=this.path;try{await O(U)}catch(P){this._removeWatcher&&this._removeWatcher(n.dirname(U),n.basename(U))}}has(k){const{items:i}=this;return i?i.has(k):void 0}getChildren(){const{items:k}=this;return k?[...k.values()]:void 0}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}}const oa="stat",qa="lstat";class ${constructor(k,i,U,P){this.fsw=P,this.path=k=k.replace(D,B),this.watchPath=i,this.fullWatchPath=n.resolve(i),this.hasGlob=i!==k,k===B&&(this.hasGlob=!1),this.globSymlink=this.hasGlob&&U?void 0:!1,this.globFilter=this.hasGlob?t(k,void 0,ia):!1,this.dirParts=this.getDirParts(k),this.dirParts.forEach(ma=>{ma.length>1&&ma.pop()}),this.followSymlinks=U,this.statMethod=U?oa:qa}checkGlobSymlink(k){return this.globSymlink===void 0&&(this.globSymlink=k.fullParentDir===this.fullWatchPath?!1:{realPath:k.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?k.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):k.fullPath}entryPath(k){return n.join(this.watchPath,n.relative(this.watchPath,this.checkGlobSymlink(k)))}filterPath(k){const{stats:i}=k;if(i&&i.isSymbolicLink())return this.filterDir(k);const U=this.entryPath(k),P=this.hasGlob&&typeof this.globFilter===x?this.globFilter(U):!0;return P&&this.fsw._isntIgnored(U,i)&&this.fsw._hasReadPermissions(i)}getDirParts(k){if(!this.hasGlob)return[];const i=[],U=k.includes(G)?v.expand(k):[k];return U.forEach(P=>{i.push(n.relative(this.watchPath,P).split(w))}),i}filterDir(k){if(this.hasGlob){const i=this.getDirParts(this.checkGlobSymlink(k));let U=!1;this.unmatchedGlob=!this.dirParts.some(P=>P.every((ma,ga)=>(ma===S&&(U=!0),U||!i[0][ga]||t(ma,i[0][ga],ia))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(k),k.stats)}}class na extends e{constructor(k){super();const i={};k&&Object.assign(i,k),this._watched=new Map(),this._closers=new Map(),this._ignoredPaths=new Set(),this._throttled=new Map(),this._symlinkPaths=new Map(),this._streams=new Set(),this.closed=!1,fa(i,"persistent")&&(i.persistent=!0),fa(i,"ignoreInitial")&&(i.ignoreInitial=!1),fa(i,"ignorePermissionErrors")&&(i.ignorePermissionErrors=!1),fa(i,"interval")&&(i.interval=100),fa(i,"binaryInterval")&&(i.binaryInterval=300),fa(i,"disableGlobbing")&&(i.disableGlobbing=!1),i.enableBinaryInterval=i.binaryInterval!==i.interval,fa(i,"useFsEvents")&&(i.useFsEvents=!i.usePolling);const U=K.canUse();U||(i.useFsEvents=!1),fa(i,"usePolling")&&!i.useFsEvents&&(i.usePolling=f);const P=process.env.CHOKIDAR_USEPOLLING;if(P!==void 0){const ja=P.toLowerCase();ja==="false"||ja==="0"?i.usePolling=!1:ja==="true"||ja==="1"?i.usePolling=!0:i.usePolling=!!ja}const ma=process.env.CHOKIDAR_INTERVAL;ma&&(i.interval=Number.parseInt(ma,10)),fa(i,"atomic")&&(i.atomic=!i.usePolling&&!i.useFsEvents),i.atomic&&(this._pendingUnlinks=new Map()),fa(i,"followSymlinks")&&(i.followSymlinks=!0),fa(i,"awaitWriteFinish")&&(i.awaitWriteFinish=!1),i.awaitWriteFinish===!0&&(i.awaitWriteFinish={});const ga=i.awaitWriteFinish;ga&&(ga.stabilityThreshold||(ga.stabilityThreshold=2000),ga.pollInterval||(ga.pollInterval=100),this._pendingWrites=new Map()),i.ignored&&(i.ignored=z(i.ignored));let ha=0;this._emitReady=()=>{ha++,ha>=this._readyCount&&(this._emitReady=R,this._readyEmitted=!0,process.nextTick(()=>this.emit(aa)))},this._emitRaw=(...ja)=>this.emit(l,...ja),this._readyEmitted=!1,this.options=i,i.useFsEvents?this._fsEventsHandler=new K(this):this._nodeFsHandler=new C(this),Object.freeze(i)}add(k,i,U){const{cwd:P,disableGlobbing:ma}=this.options;this.closed=!1;let ga=T(k);return P&&(ga=ga.map(ha=>{const ja=ea(ha,P);return ma||!o(ha)?ja:u(ja)})),ga=ga.filter(ha=>ha.startsWith(I)?(this._ignoredPaths.add(ha.slice(1)),!1):(this._ignoredPaths.delete(ha),this._ignoredPaths.delete(ha+da),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=ga.length),this.options.persistent&&(this._readyCount*=2),ga.forEach(ha=>this._fsEventsHandler._addToFsEvents(ha))):(this._readyCount||(this._readyCount=0),this._readyCount+=ga.length,Promise.all(ga.map(async ha=>{const ja=await this._nodeFsHandler._addToNodeFs(ha,!U,0,0,i);return ja&&this._emitReady(),ja})).then(ha=>{if(this.closed)return;ha.filter(ja=>ja).forEach(ja=>{this.add(n.dirname(ja),n.basename(i||ja))})})),this}unwatch(k){if(this.closed)return this;const i=T(k),{cwd:U}=this.options;return i.forEach(P=>{!n.isAbsolute(P)&&!this._closers.has(P)&&(U&&(P=n.join(U,P)),P=n.resolve(P)),this._closePath(P),this._ignoredPaths.add(P),this._watched.has(P)&&this._ignoredPaths.add(P+da),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();const k=[];return this._closers.forEach(i=>i.forEach(U=>{const P=U();P instanceof Promise&&k.push(P)})),this._streams.forEach(i=>i.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(i=>i.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(i=>{this[`_${i}`].clear()}),this._closePromise=k.length?Promise.all(k).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){const k={};return this._watched.forEach((i,U)=>{const P=this.options.cwd?n.relative(this.options.cwd,U):U;k[P||Y]=i.getChildren().sort()}),k}emitWithAll(k,i){this.emit(...i),k!==H&&this.emit(p,...i)}async _emit(k,i,U,P,ma){if(this.closed)return;const ga=this.options;y&&(i=n.normalize(i)),ga.cwd&&(i=n.relative(ga.cwd,i));const ha=[k,i];ma!==void 0?ha.push(U,P,ma):P!==void 0?ha.push(U,P):U!==void 0&&ha.push(U);const ja=ga.awaitWriteFinish;let ta;if(ja&&(ta=this._pendingWrites.get(i)))return ta.lastChange=new Date(),this;if(ga.atomic){if(k===E)return this._pendingUnlinks.set(i,ha),setTimeout(()=>{this._pendingUnlinks.forEach((pa,sa)=>{this.emit(...pa),this.emit(p,...pa),this._pendingUnlinks.delete(sa)})},typeof ga.atomic==="number"?ga.atomic:100),this;k===Q&&this._pendingUnlinks.has(i)&&(k=ha[0]=ba,this._pendingUnlinks.delete(i))}if(ja&&(k===Q||k===ba)&&this._readyEmitted){const pa=(sa,wa)=>{sa?(k=ha[0]=H,ha[1]=sa,this.emitWithAll(k,ha)):wa&&(ha.length>2?ha[2]=wa:ha.push(wa),this.emitWithAll(k,ha))};return this._awaitWriteFinish(i,ja.stabilityThreshold,k,pa),this}if(k===ba){const pa=!this._throttle(ba,i,50);if(pa)return this}if(ga.alwaysStat&&U===void 0&&(k===Q||k===F||k===ba)){const pa=ga.cwd?n.join(ga.cwd,i):i;let sa;try{sa=await c(pa)}catch(wa){}if(!sa||this.closed)return;ha.push(sa)}return this.emitWithAll(k,ha),this}_handleError(k){const i=k&&k.code;return k&&i!=="ENOENT"&&i!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||i!=="EPERM"&&i!=="EACCES")&&this.emit(H,k),k||this.closed}_throttle(k,i,U){this._throttled.has(k)||this._throttled.set(k,new Map());const P=this._throttled.get(k),ma=P.get(i);if(ma)return ma.count++,!1;let ga;const ha=()=>{const ta=P.get(i),pa=ta?ta.count:0;return P.delete(i),clearTimeout(ga),ta&&clearTimeout(ta.timeoutObject),pa};ga=setTimeout(ha,U);const ja={timeoutObject:ga,clear:ha,count:0};return P.set(i,ja),ja}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(k,i,U,P){let ma,ga=k;this.options.cwd&&!n.isAbsolute(k)&&(ga=n.join(this.options.cwd,k));const ha=new Date(),ja=ta=>{g.stat(ga,(pa,sa)=>{if(pa||!this._pendingWrites.has(k)){pa&&pa.code!=="ENOENT"&&P(pa);return}const wa=Number(new Date());ta&&sa.size!==ta.size&&(this._pendingWrites.get(k).lastChange=wa);const Ec=this._pendingWrites.get(k),Fc=wa-Ec.lastChange;Fc>=i?(this._pendingWrites.delete(k),P(void 0,sa)):ma=setTimeout(ja,this.options.awaitWriteFinish.pollInterval,sa)})};this._pendingWrites.has(k)||(this._pendingWrites.set(k,{lastChange:ha,cancelWait:()=>(this._pendingWrites.delete(k),clearTimeout(ma),U)}),ma=setTimeout(ja,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(k,i){if(this.options.atomic&&L.test(k))return!0;if(!this._userIgnored){const{cwd:U}=this.options,P=this.options.ignored,ma=P&&P.map(ca(U)),ga=z(ma).filter(ja=>typeof ja===ka&&!o(ja)).map(ja=>ja+da),ha=this._getGlobIgnored().map(ca(U)).concat(ma,ga);this._userIgnored=t(ha,void 0,ia)}return this._userIgnored([k,i])}_isntIgnored(k,i){return!this._isIgnored(k,i)}_getWatchHelpers(k,i){const U=i||this.options.disableGlobbing||!o(k)?k:h(k),P=this.options.followSymlinks;return new $(k,U,P,this)}_getWatchedDir(k){this._boundRemove||(this._boundRemove=this._remove.bind(this));const i=n.resolve(k);return this._watched.has(i)||this._watched.set(i,new _(i,this._boundRemove)),this._watched.get(i)}_hasReadPermissions(k){if(this.options.ignorePermissionErrors)return!0;const i=k&&Number.parseInt(k.mode,10),U=i&511,P=Number.parseInt(U.toString(8)[0],10);return Boolean(4&P)}_remove(k,i,U){const P=n.join(k,i),ma=n.resolve(P);U=U!=null?U:this._watched.has(P)||this._watched.has(ma);if(!this._throttle("remove",P,100))return;!U&&!this.options.useFsEvents&&this._watched.size===1&&this.add(k,i,!0);const ga=this._getWatchedDir(P),ha=ga.getChildren();ha.forEach(wa=>this._remove(P,wa));const ja=this._getWatchedDir(k),ta=ja.has(i);ja.remove(i);let pa=P;this.options.cwd&&(pa=n.relative(this.options.cwd,P));if(this.options.awaitWriteFinish&&this._pendingWrites.has(pa)){const wa=this._pendingWrites.get(pa).cancelWait();if(wa===Q)return}this._watched.delete(P),this._watched.delete(ma);const sa=U?V:E;ta&&!this._isIgnored(P)&&this._emit(sa,P),this.options.useFsEvents||this._closePath(P)}_closePath(k){const i=this._closers.get(k);if(!i)return;i.forEach(P=>P()),this._closers.delete(k);const U=n.dirname(k);this._getWatchedDir(U).remove(n.basename(k))}_addPathCloser(k,i){if(!i)return;let U=this._closers.get(k);U||(U=[],this._closers.set(k,U)),U.push(i)}_readdirp(k,i){if(this.closed)return;const U={type:p,alwaysStat:!0,lstat:!0,...i};let P=A(k,U);return this._streams.add(P),P.once(m,()=>{P=void 0}),P.once(b,()=>{P&&(this._streams.delete(P),P=void 0)}),P}}a.FSWatcher=na;const X=(k,i)=>{const U=new na(i);return U.add(k),U};a.watch=X});const md=Fa(require("fs")),nd=Fa(require("path")),Vd=Fa(require("perf_hooks")),ra=JSON.stringify,Da=()=>Vd.performance.now();function Xa(a){return a>=59500?(a/60000).toFixed(0)+"min":a>=999.5?(a/1000).toFixed(1)+"s":a.toFixed(2)+"ms"}function La(a){const j=process.platform.startsWith("win")&&!/\.exe$/i.test(a);for(let q of(process.env.PATH||"").split(nd.delimiter)){let e=nd.join(nd.resolve(q),a);for(;;){try{let g=md.statSync(e);if(g.isSymbolicLink()){e=md.realpathSync.native(e);continue}else if(g.isFile()&&g.mode&md.constants.X_OK)return e}catch(g){}break}}return null}function Za(a,j){const q=require("vm");return q.runInNewContext("("+a+")",{},{filename:j,displayErrors:!0})}function Gb(a){return Za(md.readFileSync(a,"utf8"),a)}let Qa=null;function Ya(a){const j=nd.resolve(a);return Qa||(Qa=require("os").homedir()),j.startsWith(Qa)?"~"+j.substr(Qa.length):j}const eb=new Map(),$a=Symbol("isMemoized");function _a(a){return function j(...q){let e=q.map(ra).join("\0");if(!eb.has(e)){const n=a(...q);return eb.set(e,n),n}let g=eb.get(e);return g&&typeof g=="object"&&(g[$a]=!0),g}}function Ea(a,j){let q=0;if(j===!0){let g=process.env.TERM||"";q=g&&["xterm","screen","vt100"].some(n=>g.indexOf(n)!=-1)?g.indexOf("256color")!=-1?8:4:2}else j!==!1&&a.isTTY&&(q=a.getColorDepth());const e=q>=8?(g,n,s)=>{let A="["+n+"m",t="["+s+"m";return h=>A+h+t}:q>0?(g,n,s)=>{let A="["+g+"m",t="["+s+"m";return h=>A+h+t}:()=>g=>g;return{ncolors:q,reset:"e[0m",bold:e("1","1","22"),italic:e("3","3","23"),underline:e("4","4","24"),inverse:e("7","7","27"),white:e("37","38;2;255;255;255","39"),grey:e("90","38;5;244","39"),black:e("30","38;5;16","39"),blue:e("34","38;5;75","39"),cyan:e("36","38;5;87","39"),green:e("32","38;5;84","39"),magenta:e("35","38;5;213","39"),purple:e("35","38;5;141","39"),pink:e("35","38;5;211","39"),red:e("31","38;2;255;110;80","39"),yellow:e("33","38;5;227","39"),lightyellow:e("93","38;5;229","39"),orange:e("33","38;5;215","39")}}const yb=process.argv.includes("-no-color")||process.argv.includes("--no-color"),zb=process.argv.includes("-color")||process.argv.includes("--color");let ya=Ea(process.stdout,yb?!1:zb||void 0),za=Ea(process.stderr,yb?!1:zb||void 0);const Ic=Fa(require("fs")),xa=Ic.constants,Jc=xa.S_IRUSR,Kc=xa.S_IWUSR,Lc=xa.S_IXUSR,Mc=xa.S_IRGRP,Nc=xa.S_IWGRP,Oc=xa.S_IXGRP,Pc=xa.S_IROTH,Qc=xa.S_IWOTH,Rc=xa.S_IXOTH,mb=String.fromCharCode,bc=(a,j)=>a.charCodeAt(j||0);function Va(a,j){if(typeof j=="number")return Ic.chmodSync(a,j),j;let q=Ic.statSync(a).mode,e=Wa(q,j);return q!=e&&Ic.chmodSync(a,e),e}function Wa(a,j){const q="Expected format: [ugoa]*[+-=][rwx]+",e=(n,s)=>new Error(`${n} in modifier ${ra(s)}. ${q}`);let g=[];for(let n of Array.isArray(j)?j:[j])g=g.concat(n.trim().split(/\s*,+\s*/));for(let n of g){let s=[],A=!1,t=0,h=0;for(let v=0;v<n.length;v++){let u=bc(n,v);if(t==0)switch(u){case 117:case 103:case 111:A||s.push(u);break;case 97:s=[117,103,111],A=!0;break;case 43:case 45:case 61:t=u;break;default:if(t==0)throw e(`Invalid target or operation ${ra(mb(u))}`,n);break}else switch(u){case 114:h|=4;break;case 119:h|=2;break;case 120:h|=1;break;default:throw e(`Invalid permission ${ra(mb(u))}`,n)}}if(t==0)throw e("Missing operation",n);s.length==0&&(s=[117]),h==0&&(h=4|2|1);let o=0;for(let v of s)switch(v){case 117:o|=h<<6;break;case 103:o|=h<<3;break;case 111:o|=h;break}switch(t){case 43:a|=o;break;case 45:a&=~o;break;case 61:a=o;break}}return a}const xb=!!process.stdout.isTTY,rc=!!process.stderr.isTTY,ua={width:60,height:20,clear(){},banner(a){return a||(a="-"),a.repeat(Math.floor((ua.width-1)/a.length))}};if(xb||rc){const a=xb&&process.stdout||process.stderr,j=()=>{ua.width=a.columns,ua.height=a.rows};a.on("resize",j),j(),ua.clear=()=>{a.write("c")}}const ud=Fa(require("fs")),vd=Fa(require("path")),wd=Fa(Gc());function Ma(a,j,q){q===void 0&&(q=j,j=void 0),j={persistent:!0,ignoreInitial:!0,ignored:/(^|[\/\\])\../,persistent:!0,disableGlobbing:!0,followSymlinks:!1,...j||{}};const e=j.latency===void 0?100:j.latency;delete j.latency;const g=j.filter===void 0?/\.[tj]s$/:j.filter;delete j.filter;const n=new Set();let s=null;function A(){s=null;const p=q(Array.from(n));n.clear(),p instanceof Promise&&(p.then(()=>{s=null,n.size>0&&A()}).catch(aa=>{C.cancel(aa)}),s=1)}const t=(p,aa)=>{if(g&&!g.test(aa))return;n.add(aa),s===null&&(s=setTimeout(A,e))},h=wd.watch(a,j),o=console.log.bind(console);h.on("all",t).on("error",p=>o(`Watcher error: ${p}`)).on("ready",()=>o("Initial scan complete. Ready for changes"));var v,u,C=new Promise((p,aa)=>{u=p,v=aa});let K=!1;return C.cancel=p=>{clearTimeout(s),K||(K=!0,h.close().then(u).catch(v)),p&&v(p)},C}async function nb(a,j,q){q||(q={});if(!ud.promises||!ud.promises.opendir)throw new Error("not implemented for nodejs <12.12.0");const e=[],g=a,n=new Set();async function s(A,t){if(n.has(A))return;n.add(A);const h=await ud.promises.opendir(A);for await(const o of h){let v=o.name;o.isDirectory()?q.recursive&&await s(vd.join(A,v),vd.join(t,v)):(o.isFile()||o.isSymbolicLink())&&(j&&j.test(v)&&e.push(vd.join(t,v)))}}return s(vd.resolve(a),".").then(()=>e.sort())}const xc=Fa(require("path")),id=Fa(require("fs")),{dirname:yc,basename:jd}=xc;function Ab(a){let j="",q=process.cwd();a&&process.chdir(a);try{j=null.resolve("typescript")}catch(e){}finally{a&&process.chdir(q)}if(j){const e=xc.sep+"node_modules"+xc.sep;let g=j.indexOf(e);if(g!=-1)return xc.join(j.substr(0,g+e.length-xc.sep.length),".bin","tsc")}return"tsc"}function fb(a){a=xc.resolve(a);const j=xc.parse(a).root;for(;;){let q=xc.join(a,"tsconfig.json");if(id.existsSync(q))return q;a=yc(a);if(a==j)break}return null}const gb=Symbol("TS_CONFIG_FILE"),hb=Symbol("TS_CONFIG");function Na(a){let j=a[gb];if(j===void 0)if(a.tsc==="off"||a.tsc===!1)a[gb]=j=null;else{let q=a.cwd||process.cwd();a.entryPoints&&a.entryPoints.length>0&&(q=xc.resolve(q,a.entryPoints[0])),a[gb]=j=fb(q)}return j}function Ha(a){let j=a[hb];if(j!==void 0)return j;const q=Na(a);if(q)try{return a[hb]=Gb(q)}catch(e){}return a[hb]=null}const sc=Fa(require("path")),cd=Fa(require("fs")),{dirname:tc,basename:ed}=sc,bb={6031:"IGNORE",6194:"IGNORE",6133:"WARNING",2531:"WARNING",7006:"WARNING",7015:"WARNING",7053:"WARNING"},Bb=0,Cb=1,Db=2,uc=3,Eb={IGNORE:Bb,INFO:Cb,WARNING:Db,ERROR:uc};function Fb(a,j){for(let q of Object.keys(j)){let e=Eb[String(j[q]).toUpperCase()];if(e===void 0)throw new Error(`Invalid value for TS rule ${q}: ${ra(e)} -- expected value to be one of: `+Object.keys(Eb).map(ra).join(", "));a[q]=e}}function ab(a){a||(a={});let j={cancelled:!1,cancel(){}},q=new Promise((e,g)=>{if(a.mode=="off")return e(!0);const n=a.quiet?()=>{}:console.log.bind(console),s=a.cwd||process.cwd(),A=a.mode=="on"?null:a.tsconfigFile?a.tsconfigFile:fb(a.srcdir?sc.resolve(s,a.srcdir):s);if(a.mode!="on"&&!A)return e(!0);let t=Ab(a.cwd);if(t=="tsc"&&a.mode!="on"){if(!(t=La(t)))return console.warn(za.orange(prog+":")+" tsc not found in node_modules or PATH. However a tsconfig.json file was found in "+sc.relative(process.cwd(),tc(A))+"."` Set tslint options.tsc="off" or pass -no-diag on the command line.`),e(!0)}const h={};Fb(h,bb),a.rules&&Fb(h,a.rules);let o=["--noEmit",a.colors&&"--pretty",a.watch&&"--watch"].concat(a.args||[]).filter(I=>I);const{spawn:v}=require("child_process"),u=v(t,o,{stdio:["inherit","pipe","inherit"],cwd:s}),C=()=>{try{u.kill()}catch(I){}};process.on("exit",C),j.cancel=()=>{u.kill()};const K=I=>I,p=ya.orange,aa=ya.red,Q=ya.green,ba=Buffer.from(" TS"),E=Buffer.from("Found "),F=Buffer.from("c"),V=Buffer.from("Starting compilation"),l=[];let H=0,m=!1,b={errors:0,warnings:0,other:0,reset(){this.errors=0,this.warnings=0,this.other=0}},d=!1;function r(){if(!a.quiet||b.errors>=0){a.watch&&console.log(ua.banner("—"));let I=[];b.errors>0?I.push(aa("TS: "+D("$ error","$ errors",b.errors))):I.push(Q("TS: OK")),b.warnings>0&&I.push(p(D("$ warning","$ warnings",b.warnings))),b.other>0&&I.push(D("$ message","$ messages",b.other)),console.log(I.join("   ")),a.watch&&console.log(ua.banner("—"))}m=b.errors>0,a.onEnd&&a.onEnd(b),b.reset(),d=!0}function w(I){const Y=l.slice();l.length=0;if(H==0){const Z=Y[0];if(Z.includes(V))return b.reset(),I&&r();if(Y.every(S=>S.length<=1))return I&&r()}else{const Z=/(?:\x1b\[\d+m|)error(?:\x1b\[\d+m|)/g;let S=Y.shift().toString("utf8");switch(h[H]){case Bb:return I&&r();case Cb:S=S.replace(Z,K("info")),L(Y,K),b.other++;break;case Db:S=S.replace(Z,p("warning")),L(Y,p),b.warnings++;break;default:Z.test(S)?b.errors++:b.other++;break}process.stdout.write(S)}Y.forEach(Z=>process.stdout.write(Z)),I&&r()}function L(I,Y){for(let Z=1;Z<I.length;Z++){let S=I[Z];if(S.includes(126)){let da=S.toString("utf8");da=da.replace(/\x1b\[\d+m(\s*~+)/g,Y("$1")),I[Z]=da}}}function D(I,Y,Z){return(Z==1?I:Y).replace(/\$/g,Z)}wc(u.stdout,(I,Y)=>{a.clearScreen||(I=G(I));if(Y){I.length>0&&l.push(I),l.length>0&&w();return}d&&I.length>1&&(d=!1,a.onRestart&&a.onRestart());if(I.includes(E)){let Z=M(I.toString("utf8"));if(/^(?:\[[^\]]+\] |[\d\:PAM \-]+|)Found \d+ error/.test(Z)){w(!0),H=0;return}else w(!1);H=0}else if(I.includes(ba)){const Z=I.toString("utf8"),S=/(?:\x1b\[\d+m|)error(?:\x1b\[\d+m\x1b\[\d+m|) TS(\d+)\:/.exec(Z);let da=S?parseInt(S[1]):0;da>0&&!isNaN(da)&&(l.length>0&&w(),H=da)}l.push(I)}),u.on("close",I=>{process.removeListener("exit",C),e(!m)});function M(I){return I.replace(/\x1b\[\d+m/g,"")}function G(I){let Y=I.indexOf(F);return Y==-1?I:Y==0?I.subarray(3):Buffer.concat([I.subarray(0,Y),I.subarray(Y+3)],I.length-3)}});return q.cancel=()=>(j.cancelled||(j.cancelled=!0,j.cancel()),q),q}const vc=Buffer.allocUnsafe(0);function wc(a,j){let q=[],e=0;const g=s=>{let A=0;for(;;){let t=s.indexOf(10,A);if(t==-1){if(A<s.length-1){const o=s.subarray(A);q.push(o),e+=o.length}break}t++;let h=s.subarray(A,t);e>0&&(h=Buffer.concat(q.concat(h),e+h.length),q.length=0,e=0),j(h,!1),A=t}},n=()=>{q.length>0?j(Buffer.concat(q,e),!0):j(vc,!0)};a.on("data",g),a.on("close",n),a.on("end",n)}const Uc=Fa(require("esbuild")),Vc=Fa(require("fs")),dc=Fa(require("path")),Wc=Fa(Hc()),{dirname:Ia,basename:ob}=dc,ec=`
usage: $0 [options]
options:
  -watch, -w          Watch source files for changes and rebuild.
  -debug, -g          Do not optimize and define DEBUG=true.
  -sourcemap          Generate sourcemap.
  -inline-sourcemap   Generate inline sourcemap.
  -color              Color terminal output, regardless of TTY status.
  -no-color           Disable use of colors.
  -no-clear           Disable clearing of the screen, regardless of TTY status.
  -no-diag            Disable TypeScript diagnostics.
  -diag               Only run TypeScript diagnostics (no esbuild.)
  -quiet              Only log warnings and errors but nothing else.
  -h, -help           Print help to stderr and exit 0.
  -estrella-version   Print version of estrella and exit 0.
  -estrella-debug     Enable debug logging of estrella itself.
`,pb={w:!1,watch:!1,debug:!1,g:!1,color:!1,"no-color":!1,sourcemap:!1,"inline-sourcemap":!1,"no-clear":!1,"no-diag":!1,diag:!1,quiet:!1,"estrella-debug":!1,"estrella-version":!1},qb={helpUsage:"usage: $0 [options] <srcfile> ...",helpExtraText:`
  -bundle             Bundle all dependencies into the output files.
  -minify             Simplify and compress generated code.
  -o, -outfile <file> Write output to <file> instead of stdout.
  -outdir <dir>       Write output to <dir> instead of stdout.
  -esbuild <json>     Pass arbitrary JSON to esbuild's build function.
  `,extraOptions:{bundle:!1,minify:!1,outdir:"",outfile:"",o:"",esbuild:null}},fc=new Set(["cwd","debug","entry","onEnd","onStart","outfileMode","quiet","title","tsc","tsrules","watch"]),Ja=(process.env._||"/node").endsWith("/node")?process.argv[1]||process.argv[0]:process.env._||process.argv[1]||process.argv[0];var va=()=>{};function gc(...a){let j="";console.error(za.pink(`[DEBUG${j}]`),...a)}const Oa=(...a)=>console.error(za.red(`${Ja}:`),...a),Xc=console.log.bind(console);var Ba=()=>{},hc=()=>{};let rb=!1;function cb(a){if(!rb){rb=!0;let j=a||1;process.exitCode=j,process.on("exit",q=>{process.exit(q||j)})}}function ic(a){va(()=>`processing config ${ra(a)}`),a.entryPoints||(a.entryPoints=[]),a.entry&&(Array.isArray(a.entry)?a.entryPoints=a.entryPoints.concat(a.entry):a.entryPoints.push(a.entry)),delete a.entry;if(a.entryPoints.length==0){va(()=>"missing entryPoints; attempting inference"),a.entryPoints=sb(a);if(a.entryPoints.length==0){let j=Ha(a)?" (could not guess from tsconfig.json)":"";throw new Error(`config.entryPoints is empty or not set${j}`)}}a.sourcemap?a.sourcemap!="inline"&&a.sourcemap!="external"&&(a.sourcemap=!0):a.sourcemap=!1,va(()=>`config ${ra(a)}`)}function sb(a){const j=Ha(a);va(()=>`getTSConfigForConfig => ${ra(j)}`);if(j){if(j.files)return j.files;if(j.include){let q=[];for(let e of j.include)va(`glob.glob(${e}) =>`,Wc.glob(e)),q=q.concat(Wc.glob(e));if(j.exclude)for(let e of j.exclude)q=q.filter(g=>!Wc.match(e,g));return q.slice(0,1)}}return[]}function jc(a){let j={};for(let q of Object.keys(a))fc.has(q)||(j[q]=a[q]);return j}function Pa(a,j){a&&console.error(`${Ja}: ${a}`);let q=ec.trim();j&&(j.helpUsage&&(q=j.helpUsage+q.substr(q.indexOf(`
`))),j.helpExtraText&&(q+=j.helpExtraText)),q=q.replace(/\$0\b/g,Ja),console.error(q.trim()),process.exit(a?1:0)}function tb(a,j,q){q&&(a={...a,...q.extraOptions});const e={...a},g=new Set();let n=[],s=1;function A(t,h,o){let v=a[t];const u=typeof v;if(typeof v=="boolean")e[t]=!v;else{const C=h?h:j[++s];C===void 0&&Pa(`missing value for option ${o}`,q),Array.isArray(v)?(e[t]||(e[t]=[])).push(C):e[t]=C}}for(;s<j.length;s++){let t=j[s];if(t=="--"){n=n.concat(j.slice(s+1));break}if(t.startsWith("-")&&t!="-"){const[h,o]=t.replace(/^\-+/,"").split("=");(h=="h"||h=="help")&&Pa(null,q);if(!(h in a)){if(t[1]!="-"&&!o){let v=h.split("");if(v.every(u=>typeof a[u]=="boolean")){v.map(u=>A(u,"",t));continue}}Pa(`unknown option ${t}`,q)}A(h,o,t)}else n.push(t)}return e["estrella-version"]&&(console.log(`estrella ${"1.0.9"}${""}`),process.exit(0)),va=e["estrella-debug"]?gc:()=>{},{opts:e,args:n}}const db=Symbol("IS_MAIN_CALL"),Aa=Symbol("CANCELED");function ub(a,j){j=j?{...j}:{},Object.defineProperty(j,Aa,{value:!1,writable:!0});const q={resolve:null,reject:null},e=[];function g(A){j[Aa]?A():e.push(A)}function n(A){if(!j[Aa]){va("build cancelled",{reason:A}),j[Aa]=!0;for(let t of e)t&&t();e.length=0,A?q.reject(A):q.resolve()}}const s=new Promise((A,t)=>{q.resolve=A,q.reject=t,kc(a,j,g).then(h=>(va("build1 finished",{result:h,"config[CANCELED]":j[Aa]}),A(h))).catch(t)});return s.cancel=n,s}async function kc(a,j,q){const e=db in j;delete j[db];const{opts:g,args:n}=tb(pb,a,e?qb:null);e||ic(j);if(e){if(n.length==0){n.splice(n.length-1,0,...sb(j));const D=Ha(j);!g.outfile&&!g.outdir&&D&&(g.outfile=D.outFile,g.outfile||(g.outdir=D.outDir)),n.length==0&&Pa("missing <srcfile> argument",qb)}j.entryPoints=n,j.outfile=g.o||g.outfile||void 0,j.outdir=g.outdir||void 0,j.bundle=g.bundle||void 0,j.minify=g.minify||void 0,j.cwd=process.cwd();if(g.esbuild){const D=Za(g.esbuild,"-esbuild");if(!D||typeof D!="object")return Oa(`-esbuild needs a JS object, for example '{key:"value"}'. Got ${typeof D}.`),!1;va(()=>`applying custom esbuild config ${ra(D)}`);for(let M in D)j[M]=D[M]}}const s=j.watch=g.watch=!!(g.w||g.watch||j.watch),A=j.debug=g.debug=!!(g.debug||g.g||j.debug),t=j.quiet=g.quiet=!!(g.quiet||j.quiet);j.color!==void 0&&(j.color?g.color=!0:g["no-color"]=!0);const h=g.color||(g["no-color"]?!1:void 0);ya=Ea(process.stdout,h),za=Ea(process.stderr,h),Ba=t?()=>{}:console.log.bind(console),hc=t?()=>{}:_a(Ba);const o=!!g.diag;let v=g["no-diag"]?"off":o?"on":"auto";j.tsc!==void 0&&j.tsc!=="auto"&&(v=j.tsc&&j.tsc!="off"?"on":"off");if(o&&v=="off")return Oa("invalid configuration: diagnostics are disabled but only disagnostics was requested."),cb(1),!1;const u=g["inline-sourcemap"]?"inline":g.sourcemap?!0:j.sourcemap;j.clear=g["no-clear"]?!1:j.clear===void 0?!!process.stdout.isTTY:j.clear;const C=j.cwd?dc.resolve(j.cwd):process.mainModule&&Ia(process.mainModule.filename)||__dirname;if(C!=process.cwd()){let D=dc.relative(process.cwd(),C);D.startsWith(".."+dc.sep)&&(D=C),va(`Changing working directory to ${D}`)}j.cwd=C,j.title||(j.title=j.name||Ya(j.cwd));let K=0;function p(){ua.clear(),K=Da()}let aa=j.onStart||(()=>{}),Q=j.onEnd?(D,M)=>{const G=j.onEnd(j,D),I=Y=>Y===void 0?M:Y;return G instanceof Promise?G.then(I):I()}:(D,M)=>M;if(j.outfileMode){let D=Q;Q=(M,G)=>{try{Va(j.outfile,j.outfileMode)}catch(I){Oa("configuration error: outfileMode: "+I.message),cb(1)}return D(M,G)}}let ba={DEBUG:A,...j.define||{}};for(let D in ba)ba[D]=ra(ba[D]);const E={minify:!A,sourcemap:u,color:za.ncolors>0,...jc(j),define:ba};function F(D,{stderr:M,warnings:G}){vb(G);const I=j.outfile;if(!I)M=M.replace(/\n$/,""),M.length>0&&Ba(M);else{const Y=/\(([^\)]+)\)\n/.exec(M),Z=Xa(Da()-D);let S=I;if(u&&u!="inline"){const da=dc.extname(I),ia=dc.join(dc.dirname(I),dc.basename(I,da));S=`${ia}.{${da.substr(1)},${da.substr(1)}.map}`}Ba(ya.green(`Wrote ${S}`)+` (${Y?Y[1]:"?B"}, ${Z})`)}return Q({warnings:G,errors:[]},!0)}function V(D,{stderr:M,warnings:G,errors:I}){return vb(G),console.error(M),I.length==0&&I.push({text:M.trim(),location:null}),/^error: must provide/i.test(M)&&(j||process.exit(1)),Q({warnings:G,errors:I},!1)}async function l(D){s&&j.clear&&p();const M=aa(j,D);M instanceof Promise&&await M;if(j[Aa])return;const G=process.cwd();process.chdir(C);const I=Uc.build(E);return process.chdir(G),I.then(F.bind(null,Da()),V.bind(null,Da()))}const H=g.diag?Promise.resolve():l([]);let m=null,b=!1;if(v!="off"){const D=s&&g.diag&&j.clear;m=_a(ab)({watch:s,quiet:t,clearScreen:D,colors:ya.ncolors>0,cwd:C,mode:v,srcdir:Ia(j.entryPoints[0]),rules:j.tsrules,tsconfigFile:Na(j),onRestart(){j.clear&&Da()-K>5000&&ua.clear()}}),b=$a in m;if(g.diag)return D&&ua.clear(),m;b||(m.catch(M=>(Oa(M.stack||String(M)),!1)),q(()=>{m.cancel()}))}let d=await H;if(j[Aa])return!1;if(!s){if(m){let D;d?(b||(D=setTimeout(()=>Ba("Waiting for TypeScript... (^C to skip)"),1000)),d=await m.catch(()=>!1)):m.cancel(),clearTimeout(D)}return!j[Aa]&&!d&&cb(),d}Ba("Watching files for changes...");const r=Array.from(new Set(j.entryPoints.map(D=>Ia(dc.resolve(dc.join(C,D))))));va(()=>["watching dirs:",r]);const w={cwd:C,...typeof s=="object"?s:{}},L=Ma(r,w,D=>{D=D.filter(M=>M==j.outfile?!1:j.outdir&&Ia(M)==j.outdir?!1:!0);if(D.length>0)return Ba(`${D.length} files changed: ${D.join(", ")}`),l(D)});return q(()=>{L.cancel()}),L}function vb(a){a.length>0&&console.log("[warn] "+a.map(j=>j.text).join(`
`))}function lc(){return ub(process.argv.slice(1),{[db]:1}).catch(a=>{console.error(za.red(Ja+": "+(a.stack||a))),process.exit(1)}).then(a=>{process.exit(a?0:1)})}if(module.id=="."||process.mainModule&&ob(process.mainModule.filename||"")=="estrella.js"){lc();return}const{opts:Ca,args:mc}=tb(pb,process.argv.slice(1));Ca.watch=!!(Ca.watch||Ca.w);Ca.debug=!!(Ca.debug||Ca.g);function nc(a,j,q,e){return e===void 0&&(q===void 0?(e=j,q={}):(e=q,q={...q,filter:j},q.recursive!==void 0&&(q.recursive||(q.depth=0),delete q.recursive))),Ma(a,q,e)}module.exports={version:"1.0.9",prog:Ja,cliopts:Ca,cliargs:mc,dirname:Ia,basename:ob,watch:Ma,watchdir:nc,scandir:nb,tslint:ab,defaultTSRules:bb,termStyle:Ea,chmod:Va,editFileMode:Wa,fmtDuration:Xa,tildePath:Ya,findInPATH:La,tsconfig:Ha,tsconfigFile:Na,glob:Wc.glob,globmatch:Wc.match,build(a){return ub(process.argv.slice(1),a)}};
//# sourceMappingURL=estrella.js.map
