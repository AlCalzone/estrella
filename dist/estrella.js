#!/usr/bin/env node
var Kt=Object.defineProperty,Po=Object.prototype.hasOwnProperty,G=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),ko=e=>Kt(e,"__esModule",{value:!0}),Oo=(e,t)=>{if(ko(e),typeof t=="object"||typeof t=="function")for(let r in t)!Po.call(e,r)&&r!=="default"&&Kt(e,r,{get:()=>t[r],enumerable:!0});return e},j=e=>e&&e.__esModule?e:Oo(Kt({},"default",{value:e,enumerable:!0}),e);var ds=G((mt,us)=>{!function(e,t){typeof mt=="object"&&typeof us!="undefined"?t(mt):typeof define=="function"&&define.amd?define(["exports"],t):t(e.miniglob={})}(mt,function(e){"use strict";const{readdirSync:t,statSync:r}=require("fs"),s=(()=>{try{return require("path").sep}catch(m){return"/"}})(),n=s.charCodeAt(0),o=s==":"?/\:+/g:s=="\\"?/\\+/g:/\/+/g,i=process.platform=="win32";class a extends Error{constructor(){super("bad pattern")}}const l=i?m=>{if(m.length<2)return 0;let d=m[0];return m[1]==":"&&("a"<=d&&d<="z"||"A"<=d&&d<="Z")?2:0}:m=>0,c=i?(m,d)=>{const y=d(m);return m==""?[0,"."]:y+1==m.length&&u(m,m.length-1)?[y+1,m]:y==m.length&&m.length==2?[y,m+"."]:(y>=m.length&&(y=m.length-1),[y,m.substr(0,m.length-1)])}:(m,d)=>m==""?[d,"."]:m==s?[d,m]:[d,m.substr(0,m.length-1)];function u(m,d){return m.charCodeAt(d)===n}function p(m,d){m=function(S){let x=S.length-1,h=x;for(;h&&S.charCodeAt(h)===n;)--h;return h!=x&&(S=S.substr(0,h+1)),S.split(o).join(s)}(m);let y=r(m);y.isDirectory()&&function S(x,h,O){for(let L of t(x)){let W=$(x,L),b=F(W),g=h(W,b);(g||g===void 0)&&b&&b.isDirectory()&&!O.has(b.ino)&&(O.add(b.ino),S(W,h,O))}}(m,d,new Set([y.ino]))}function f(m){let d=[];if(!C(m))return F(m)?[m]:d;let y=l(m),S=m.length-1;for(;S>=y&&!u(m,S);)S--;let x=m.substr(0,S+1),h=m.substr(S+1);if([y,x]=c(x,y),C(x.substr(y))){if(x==m)throw new a;const O=f(x);for(let L of O)T(L,h,d)}else T(x,h,d);return d}function T(m,d,y){const S=F(m);if(S===null)return;if(!S.isDirectory())return;let x;try{x=t(m)}catch(h){return}x.sort();for(let h of x)_(d,h)&&y.push($(m,h))}function C(m){for(let d=0;d<m.length;++d)switch(m.charCodeAt(d)){case 42:case 63:case 91:case 123:return!0}return!1}function E(m,d){for(let y=0;y<m.length;++y)if(m.charCodeAt(y)===d)return!0;return!1}function _(m,d){e:for(;m.length>0;){let y=!1,S="";if([y,S,m]=R(m),y&&S=="")return!E(d,n);let[x,h]=k(S,d);if(!h||!(x.length==0||m.length>0)){if(y){for(let O=0;O<d.length&&d.charCodeAt(O)!=n;O++)if([x,h]=k(S,d.substr(O+1)),h){if(m.length==0&&x.length>0)continue;d=x;continue e}}return!1}d=x}return d.length==0}function R(m){let d=!1;for(;m.length>0&&m.charCodeAt(0)==42;)m=m.substr(1),d=!0;let y=!1,S=0;e:for(;S<m.length;S++)switch(m.charCodeAt(S)){case 92:i||S+1<m.length&&S++;break;case 91:y=!0;break;case 93:y=!1;break;case 42:if(!y)break e}return[d,m.substr(0,S),m.substr(S)]}function k(m,d){for(;m.length>0;){if(d.length==0)return["",!1];switch(m.charCodeAt(0)){case 91:{let S=d.codePointAt(0),x=S<=65535?1:2;if(d=d.substr(x),m=m.substr(1),S.toString(16),m.length==0)throw new a;let h=m.charCodeAt(0)==94;h&&(m=m.substr(1));let O=!1,L=0;for(;;){if(m.length>0&&m.charCodeAt(0)==93&&L>0){m=m.substr(1);break}let W,b;if([b,m,W]=N(m),!W)return["",!1];let g=b;if(m.charCodeAt(0)==45&&([g,m,W]=N(m.substr(1)),!W))return["",!1];b<=S&&S<=g&&(O=!0),L++}if(O==h)return["",!1];break}case 63:if(d.charCodeAt(0)==n)return["",!1];let y=d.codePointAt(0)<=65535?1:2;d=d.substr(y),m=m.substr(1);break;case 92:if(!i&&(m=m.substr(1)).length==0)throw new a;default:if(m.charCodeAt(0)!=d.charCodeAt(0))return m[0],d[0],m.charCodeAt(0).toString(16),d.charCodeAt(0).toString(16),["",!1];d=d.substr(1),m=m.substr(1)}}return[d,!0]}function N(m){let d=0,y="",S=m.charCodeAt(0);if(m.length==0||S==45||S==93)throw new a;if(S==92&&!i&&(m=m.substr(1)).length==0)throw new a;let x=(d=m.codePointAt(0))<=65535?1:2;if(d==65535&&x==1)throw new a;if((y=m.substr(x)).length==0)throw new a;return[d,y,!0]}function F(m){try{return r(m)}catch(d){}return null}function $(m,d){return m=="."||m==""?d:m+s+d}e.PatternError=a,e.glob=function(m){if(m.indexOf("**")<0)return f(m);let d=[],y=new Set;return function S(x,h,O,L,W){O>=h.length&&(O=h.length-1);let b=h[O],g=b;function U(A){return!W.has(A)&&(W.add(A),!0)}function K(A){let B=A,H=B.lastIndexOf(s);H!=-1&&(B=B.substr(H+1));let z=Math.min(O+1,h.length-1),Y=h.slice(z).join("*");Y.charCodeAt(0)==n?Y=function(D){let Ae=0;for(;D.charCodeAt(Ae)===n;)Ae++;return Ae!=0?D.substr(Ae):D}(Y):Y[0]!="*"&&(Y="*"+Y),_(Y,B)&&L.push(A)}O===0?b.charCodeAt(b.length-1)!=n&&(g+="*"):O===h.length-1?b.charCodeAt(0)!=n&&(g="*"+g):(b.charCodeAt(0)!=n&&(g="*"+g),b.charCodeAt(b.length-1)!=n&&(g+="*")),x&&(g=g[0]!=s?x+s+g:x+g);let ae=!1;g.charCodeAt(g.length-1)===n&&(ae=!0,g=function(A){let B=A.length-1,H=B;for(;A.charCodeAt(H)===n;)H--;return H!=B?A.substr(0,H+1):A}(g));let ue=f(g);for(let A of ue){let B=r(A);B.isDirectory()?U(A)&&p(A,(H,z)=>{U(H)&&(z.isDirectory()?S(H,h,O+1,L,W):K(H))}):!ae&&U(A)&&K(A)}return L}("",m.split(/\*{2,}/),0,d,y),d},e.match=_,Object.defineProperty(e,"__esModule",{value:!0})})});var Ze=G((wu,fs)=>{"use strict";const Io=require("path"),Ee="\\\\/",ps=`[^${Ee}]`,Pe="\\.",Fo="\\+",No="\\?",gt="\\/",Lo="(?=.)",hs="[^/]",Yt=`(?:${gt}|$)`,ms=`(?:^|${gt})`,Vt=`${Pe}{1,2}${Yt}`,$o=`(?!${Pe})`,Do=`(?!${ms}${Vt})`,jo=`(?!${Pe}{0,1}${Yt})`,Bo=`(?!${Vt})`,Ho=`[^.${gt}]`,Mo=`${hs}*?`,gs={DOT_LITERAL:Pe,PLUS_LITERAL:Fo,QMARK_LITERAL:No,SLASH_LITERAL:gt,ONE_CHAR:Lo,QMARK:hs,END_ANCHOR:Yt,DOTS_SLASH:Vt,NO_DOT:$o,NO_DOTS:Do,NO_DOT_SLASH:jo,NO_DOTS_SLASH:Bo,QMARK_NO_DOT:Ho,STAR:Mo,START_ANCHOR:ms},Wo={...gs,SLASH_LITERAL:`[${Ee}]`,QMARK:ps,STAR:`${ps}*?`,DOTS_SLASH:`${Pe}{1,2}(?:[${Ee}]|$)`,NO_DOT:`(?!${Pe})`,NO_DOTS:`(?!(?:^|[${Ee}])${Pe}{1,2}(?:[${Ee}]|$))`,NO_DOT_SLASH:`(?!${Pe}{0,1}(?:[${Ee}]|$))`,NO_DOTS_SLASH:`(?!${Pe}{1,2}(?:[${Ee}]|$))`,QMARK_NO_DOT:`[^.${Ee}]`,START_ANCHOR:`(?:^|[${Ee}])`,END_ANCHOR:`(?:[${Ee}]|$)`},Go={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};fs.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Go,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Io.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Wo:gs}}});var bt=G(de=>{"use strict";const qo=require("path"),Uo=process.platform==="win32",{REGEX_BACKSLASH:zo,REGEX_REMOVE_BACKSLASH:Ko,REGEX_SPECIAL_CHARS:Yo,REGEX_SPECIAL_CHARS_GLOBAL:Vo}=Ze();de.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);de.hasRegexChars=e=>Yo.test(e);de.isRegexChar=e=>e.length===1&&de.hasRegexChars(e);de.escapeRegex=e=>e.replace(Vo,"\\$1");de.toPosixSlashes=e=>e.replace(zo,"/");de.removeBackslashes=e=>e.replace(Ko,t=>t==="\\"?"":t);de.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};de.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:Uo===!0||qo.sep==="\\";de.escapeLast=(e,t,r)=>{const s=e.lastIndexOf(t,r);return s===-1?e:e[s-1]==="\\"?de.escapeLast(e,t,s-1):`${e.slice(0,s)}\\${e.slice(s)}`};de.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};de.wrapOutput=(e,t={},r={})=>{const s=r.contains?"":"^",n=r.contains?"":"$";let o=`${s}(?:${e})${n}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var Cs=G((Su,bs)=>{"use strict";const ys=bt(),{CHAR_ASTERISK:Xt,CHAR_AT:Xo,CHAR_BACKWARD_SLASH:et,CHAR_COMMA:Qo,CHAR_DOT:Qt,CHAR_EXCLAMATION_MARK:ws,CHAR_FORWARD_SLASH:_s,CHAR_LEFT_CURLY_BRACE:Jt,CHAR_LEFT_PARENTHESES:Zt,CHAR_LEFT_SQUARE_BRACKET:Jo,CHAR_PLUS:Zo,CHAR_QUESTION_MARK:Ss,CHAR_RIGHT_CURLY_BRACE:ea,CHAR_RIGHT_PARENTHESES:xs,CHAR_RIGHT_SQUARE_BRACKET:ta}=Ze(),Es=e=>e===_s||e===et,vs=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},ra=(e,t)=>{const r=t||{},s=e.length-1,n=r.parts===!0||r.scanToEnd===!0,o=[],i=[],a=[];let l=e,c=-1,u=0,p=0,f=!1,T=!1,C=!1,E=!1,_=!1,R=!1,k=!1,N=!1,F=!1,$=0,m,d,y={value:"",depth:0,isGlob:!1};const S=()=>c>=s,x=()=>l.charCodeAt(c+1),h=()=>(m=d,l.charCodeAt(++c));for(;c<s;){d=h();let g;if(d===et){k=y.backslashes=!0,d=h(),d===Jt&&(R=!0);continue}if(R===!0||d===Jt){for($++;S()!==!0&&(d=h());){if(d===et){k=y.backslashes=!0,h();continue}if(d===Jt){$++;continue}if(R!==!0&&d===Qt&&(d=h())===Qt){if(f=y.isBrace=!0,C=y.isGlob=!0,F=!0,n===!0)continue;break}if(R!==!0&&d===Qo){if(f=y.isBrace=!0,C=y.isGlob=!0,F=!0,n===!0)continue;break}if(d===ea&&($--,$===0)){R=!1,f=y.isBrace=!0,F=!0;break}}if(n===!0)continue;break}if(d===_s){if(o.push(c),i.push(y),y={value:"",depth:0,isGlob:!1},F===!0)continue;if(m===Qt&&c===u+1){u+=2;continue}p=c+1;continue}if(r.noext!==!0){const U=d===Zo||d===Xo||d===Xt||d===Ss||d===ws;if(U===!0&&x()===Zt){if(C=y.isGlob=!0,E=y.isExtglob=!0,F=!0,n===!0){for(;S()!==!0&&(d=h());){if(d===et){k=y.backslashes=!0,d=h();continue}if(d===xs){C=y.isGlob=!0,F=!0;break}}continue}break}}if(d===Xt){if(m===Xt&&(_=y.isGlobstar=!0),C=y.isGlob=!0,F=!0,n===!0)continue;break}if(d===Ss){if(C=y.isGlob=!0,F=!0,n===!0)continue;break}if(d===Jo)for(;S()!==!0&&(g=h());){if(g===et){k=y.backslashes=!0,h();continue}if(g===ta){if(T=y.isBracket=!0,C=y.isGlob=!0,F=!0,n===!0)continue;break}}if(r.nonegate!==!0&&d===ws&&c===u){N=y.negated=!0,u++;continue}if(r.noparen!==!0&&d===Zt){if(C=y.isGlob=!0,n===!0){for(;S()!==!0&&(d=h());){if(d===Zt){k=y.backslashes=!0,d=h();continue}if(d===xs){F=!0;break}}continue}break}if(C===!0){if(F=!0,n===!0)continue;break}}r.noext===!0&&(E=!1,C=!1);let O=l,L="",W="";u>0&&(L=l.slice(0,u),l=l.slice(u),p-=u),O&&C===!0&&p>0?(O=l.slice(0,p),W=l.slice(p)):C===!0?(O="",W=l):O=l,O&&O!==""&&O!=="/"&&O!==l&&(Es(O.charCodeAt(O.length-1))&&(O=O.slice(0,-1))),r.unescape===!0&&(W&&(W=ys.removeBackslashes(W)),O&&k===!0&&(O=ys.removeBackslashes(O)));const b={prefix:L,input:e,start:u,base:O,glob:W,isBrace:f,isBracket:T,isGlob:C,isExtglob:E,isGlobstar:_,negated:N};if(r.tokens===!0&&(b.maxDepth=0,Es(d)||i.push(y),b.tokens=i),r.parts===!0||r.tokens===!0){let g;for(let U=0;U<o.length;U++){const K=g?g+1:u,ae=o[U],ue=e.slice(K,ae);r.tokens&&(U===0&&u!==0?(i[U].isPrefix=!0,i[U].value=L):i[U].value=ue,vs(i[U]),b.maxDepth+=i[U].depth),(U!==0||ue!=="")&&a.push(ue),g=ae}if(g&&g+1<e.length){const U=e.slice(g+1);a.push(U),r.tokens&&(i[i.length-1].value=U,vs(i[i.length-1]),b.maxDepth+=i[i.length-1].depth)}b.slashes=o,b.parts=a}return b};bs.exports=ra});var Ps=G((xu,Rs)=>{"use strict";const yt=Ze(),fe=bt(),{MAX_LENGTH:wt,POSIX_REGEX_SOURCE:sa,REGEX_NON_SPECIAL_CHARS:na,REGEX_SPECIAL_CHARS_BACKREF:ia,REPLACEMENTS:Ts}=yt,oa=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();const r=`[${e.join("-")}]`;try{new RegExp(r)}catch(s){return e.map(n=>fe.escapeRegex(n)).join("..")}return r},Me=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,As=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Ts[e]||e;const r={...t},s=typeof r.maxLength=="number"?Math.min(wt,r.maxLength):wt;let n=e.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);const o={type:"bos",value:"",output:r.prepend||""},i=[o],a=r.capture?"":"?:",l=fe.isWindows(t),c=yt.globChars(l),u=yt.extglobChars(c),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:T,ONE_CHAR:C,DOTS_SLASH:E,NO_DOT:_,NO_DOT_SLASH:R,NO_DOTS_SLASH:k,QMARK:N,QMARK_NO_DOT:F,STAR:$,START_ANCHOR:m}=c,d=P=>`(${a}(?:(?!${m}${P.dot?E:p}).)*?)`,y=r.dot?"":_,S=r.dot?N:F;let x=r.bash===!0?d(r):$;r.capture&&(x=`(${x})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);const h={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};e=fe.removePrefix(e,h),n=e.length;const O=[],L=[],W=[];let b=o,g;const U=()=>h.index===n-1,K=h.peek=(P=1)=>e[h.index+P],ae=h.advance=()=>e[++h.index],ue=()=>e.slice(h.index+1),A=(P="",V=0)=>{h.consumed+=P,h.index+=V},B=P=>{h.output+=P.output!=null?P.output:P.value,A(P.value)},H=()=>{let P=1;for(;K()==="!"&&(K(2)!=="("||K(3)==="?");)ae(),h.start++,P++;return P%2===0?!1:(h.negated=!0,h.start++,!0)},z=P=>{h[P]++,W.push(P)},Y=P=>{h[P]--,W.pop()},D=P=>{if(b.type==="globstar"){const V=h.braces>0&&(P.type==="comma"||P.type==="brace"),v=P.extglob===!0||O.length&&(P.type==="pipe"||P.type==="paren");P.type!=="slash"&&P.type!=="paren"&&!V&&!v&&(h.output=h.output.slice(0,-b.output.length),b.type="star",b.value="*",b.output=x,h.output+=b.output)}if(O.length&&P.type!=="paren"&&!u[P.value]&&(O[O.length-1].inner+=P.value),(P.value||P.output)&&B(P),b&&b.type==="text"&&P.type==="text"){b.value+=P.value,b.output=(b.output||"")+P.value;return}P.prev=b,i.push(P),b=P},Ae=(P,V)=>{const v={...u[V],conditions:1,inner:""};v.prev=b,v.parens=h.parens,v.output=h.output;const M=(r.capture?"(":"")+v.open;z("parens"),D({type:P,value:V,output:h.output?"":C}),D({type:"paren",extglob:!0,value:ae(),output:M}),O.push(v)},Ao=P=>{let V=P.close+(r.capture?")":"");if(P.type==="negate"){let v=x;P.inner&&P.inner.length>1&&P.inner.includes("/")&&(v=d(r)),(v!==x||U()||/^\)+$/.test(ue()))&&(V=P.close=`)$))${v}`),P.prev.type==="bos"&&U()&&(h.negatedExtglob=!0)}D({type:"paren",extglob:!0,value:g,output:V}),Y("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let P=!1,V=e.replace(ia,(v,M,Q,ce,se,zt)=>ce==="\\"?(P=!0,v):ce==="?"?M?M+ce+(se?N.repeat(se.length):""):zt===0?S+(se?N.repeat(se.length):""):N.repeat(Q.length):ce==="."?p.repeat(Q.length):ce==="*"?M?M+ce+(se?x:""):x:M?v:`\\${v}`);return P===!0&&(r.unescape===!0?V=V.replace(/\\/g,""):V=V.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),V===e&&r.contains===!0?(h.output=e,h):(h.output=fe.wrapOutput(V,h,t),h)}for(;!U();){if(g=ae(),g==="\0")continue;if(g==="\\"){const v=K();if(v==="/"&&r.bash!==!0)continue;if(v==="."||v===";")continue;if(!v){g+="\\",D({type:"text",value:g});continue}const M=/^\\+/.exec(ue());let Q=0;if(M&&M[0].length>2&&(Q=M[0].length,h.index+=Q,Q%2!==0&&(g+="\\")),r.unescape===!0?g=ae()||"":g+=ae()||"",h.brackets===0){D({type:"text",value:g});continue}}if(h.brackets>0&&(g!=="]"||b.value==="["||b.value==="[^")){if(r.posix!==!1&&g===":"){const v=b.value.slice(1);if(v.includes("[")&&(b.posix=!0,v.includes(":"))){const M=b.value.lastIndexOf("["),Q=b.value.slice(0,M),ce=b.value.slice(M+2),se=sa[ce];if(se){b.value=Q+se,h.backtrack=!0,ae(),!o.output&&i.indexOf(b)===1&&(o.output=C);continue}}}(g==="["&&K()!==":"||g==="-"&&K()==="]")&&(g=`\\${g}`),g==="]"&&(b.value==="["||b.value==="[^")&&(g=`\\${g}`),r.posix===!0&&g==="!"&&b.value==="["&&(g="^"),b.value+=g,B({value:g});continue}if(h.quotes===1&&g!=='"'){g=fe.escapeRegex(g),b.value+=g,B({value:g});continue}if(g==='"'){h.quotes=h.quotes===1?0:1,r.keepQuotes===!0&&D({type:"text",value:g});continue}if(g==="("){z("parens"),D({type:"paren",value:g});continue}if(g===")"){if(h.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Me("opening","("));const v=O[O.length-1];if(v&&h.parens===v.parens+1){Ao(O.pop());continue}D({type:"paren",value:g,output:h.parens?")":"\\)"}),Y("parens");continue}if(g==="["){if(r.nobracket===!0||!ue().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Me("closing","]"));g=`\\${g}`}else z("brackets");D({type:"bracket",value:g});continue}if(g==="]"){if(r.nobracket===!0||b&&b.type==="bracket"&&b.value.length===1){D({type:"text",value:g,output:`\\${g}`});continue}if(h.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Me("opening","["));D({type:"text",value:g,output:`\\${g}`});continue}Y("brackets");const v=b.value.slice(1);if(b.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(g=`/${g}`),b.value+=g,B({value:g}),r.literalBrackets===!1||fe.hasRegexChars(v))continue;const M=fe.escapeRegex(b.value);if(h.output=h.output.slice(0,-b.value.length),r.literalBrackets===!0){h.output+=M,b.value=M;continue}b.value=`(${a}${M}|${b.value})`,h.output+=b.value;continue}if(g==="{"&&r.nobrace!==!0){z("braces");const v={type:"brace",value:g,output:"(",outputIndex:h.output.length,tokensIndex:h.tokens.length};L.push(v),D(v);continue}if(g==="}"){const v=L[L.length-1];if(r.nobrace===!0||!v){D({type:"text",value:g,output:g});continue}let M=")";if(v.dots===!0){const Q=i.slice(),ce=[];for(let se=Q.length-1;se>=0&&!(i.pop(),Q[se].type==="brace");se--)Q[se].type!=="dots"&&ce.unshift(Q[se].value);M=oa(ce,r),h.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){const Q=h.output.slice(0,v.outputIndex),ce=h.tokens.slice(v.tokensIndex);v.value=v.output="\\{",g=M="\\}",h.output=Q;for(const se of ce)h.output+=se.output||se.value}D({type:"brace",value:g,output:M}),Y("braces"),L.pop();continue}if(g==="|"){O.length>0&&O[O.length-1].conditions++,D({type:"text",value:g});continue}if(g===","){let v=g;const M=L[L.length-1];M&&W[W.length-1]==="braces"&&(M.comma=!0,v="|"),D({type:"comma",value:g,output:v});continue}if(g==="/"){if(b.type==="dot"&&h.index===h.start+1){h.start=h.index+1,h.consumed="",h.output="",i.pop(),b=o;continue}D({type:"slash",value:g,output:T});continue}if(g==="."){if(h.braces>0&&b.type==="dot"){b.value==="."&&(b.output=p);const v=L[L.length-1];b.type="dots",b.output+=g,b.value+=g,v.dots=!0;continue}if(h.braces+h.parens===0&&b.type!=="bos"&&b.type!=="slash"){D({type:"text",value:g,output:p});continue}D({type:"dot",value:g,output:p});continue}if(g==="?"){const v=b&&b.value==="(";if(!v&&r.noextglob!==!0&&K()==="("&&K(2)!=="?"){Ae("qmark",g);continue}if(b&&b.type==="paren"){const M=K();let Q=g;if(M==="<"&&!fe.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(b.value==="("&&!/[!=<:]/.test(M)||M==="<"&&!/<([!=]|\w+>)/.test(ue()))&&(Q=`\\${g}`),D({type:"text",value:g,output:Q});continue}if(r.dot!==!0&&(b.type==="slash"||b.type==="bos")){D({type:"qmark",value:g,output:F});continue}D({type:"qmark",value:g,output:N});continue}if(g==="!"){if(r.noextglob!==!0&&K()==="("&&(K(2)!=="?"||!/[!=<:]/.test(K(3)))){Ae("negate",g);continue}if(r.nonegate!==!0&&h.index===0){H();continue}}if(g==="+"){if(r.noextglob!==!0&&K()==="("&&K(2)!=="?"){Ae("plus",g);continue}if(b&&b.value==="("||r.regex===!1){D({type:"plus",value:g,output:f});continue}if(b&&(b.type==="bracket"||b.type==="paren"||b.type==="brace")||h.parens>0){D({type:"plus",value:g});continue}D({type:"plus",value:f});continue}if(g==="@"){if(r.noextglob!==!0&&K()==="("&&K(2)!=="?"){D({type:"at",extglob:!0,value:g,output:""});continue}D({type:"text",value:g});continue}if(g!=="*"){(g==="$"||g==="^")&&(g=`\\${g}`);const v=na.exec(ue());v&&(g+=v[0],h.index+=v[0].length),D({type:"text",value:g});continue}if(b&&(b.type==="globstar"||b.star===!0)){b.type="star",b.star=!0,b.value+=g,b.output=x,h.backtrack=!0,h.globstar=!0,A(g);continue}let P=ue();if(r.noextglob!==!0&&/^\([^?]/.test(P)){Ae("star",g);continue}if(b.type==="star"){if(r.noglobstar===!0){A(g);continue}const v=b.prev,M=v.prev,Q=v.type==="slash"||v.type==="bos",ce=M&&(M.type==="star"||M.type==="globstar");if(r.bash===!0&&(!Q||P[0]&&P[0]!=="/")){D({type:"star",value:g,output:""});continue}const se=h.braces>0&&(v.type==="comma"||v.type==="brace"),zt=O.length&&(v.type==="pipe"||v.type==="paren");if(!Q&&v.type!=="paren"&&!se&&!zt){D({type:"star",value:g,output:""});continue}for(;P.slice(0,3)==="/**";){const ht=e[h.index+4];if(ht&&ht!=="/")break;P=P.slice(3),A("/**",3)}if(v.type==="bos"&&U()){b.type="globstar",b.value+=g,b.output=d(r),h.output=b.output,h.globstar=!0,A(g);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!ce&&U()){h.output=h.output.slice(0,-(v.output+b.output).length),v.output=`(?:${v.output}`,b.type="globstar",b.output=d(r)+(r.strictSlashes?")":"|$)"),b.value+=g,h.globstar=!0,h.output+=v.output+b.output,A(g);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&P[0]==="/"){const ht=P[1]!==void 0?"|$":"";h.output=h.output.slice(0,-(v.output+b.output).length),v.output=`(?:${v.output}`,b.type="globstar",b.output=`${d(r)}${T}|${T}${ht})`,b.value+=g,h.output+=v.output+b.output,h.globstar=!0,A(g+ae()),D({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&P[0]==="/"){b.type="globstar",b.value+=g,b.output=`(?:^|${T}|${d(r)}${T})`,h.output=b.output,h.globstar=!0,A(g+ae()),D({type:"slash",value:"/",output:""});continue}h.output=h.output.slice(0,-b.output.length),b.type="globstar",b.output=d(r),b.value+=g,h.output+=b.output,h.globstar=!0,A(g);continue}const V={type:"star",value:g,output:x};if(r.bash===!0){V.output=".*?",(b.type==="bos"||b.type==="slash")&&(V.output=y+V.output),D(V);continue}if(b&&(b.type==="bracket"||b.type==="paren")&&r.regex===!0){V.output=g,D(V);continue}(h.index===h.start||b.type==="slash"||b.type==="dot")&&(b.type==="dot"?(h.output+=R,b.output+=R):r.dot===!0?(h.output+=k,b.output+=k):(h.output+=y,b.output+=y),K()!=="*"&&(h.output+=C,b.output+=C)),D(V)}for(;h.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Me("closing","]"));h.output=fe.escapeLast(h.output,"["),Y("brackets")}for(;h.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Me("closing",")"));h.output=fe.escapeLast(h.output,"("),Y("parens")}for(;h.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Me("closing","}"));h.output=fe.escapeLast(h.output,"{"),Y("braces")}if(r.strictSlashes!==!0&&(b.type==="star"||b.type==="bracket")&&D({type:"maybe_slash",value:"",output:`${T}?`}),h.backtrack===!0){h.output="";for(const P of h.tokens)h.output+=P.output!=null?P.output:P.value,P.suffix&&(h.output+=P.suffix)}return h};As.fastpaths=(e,t)=>{const r={...t},s=typeof r.maxLength=="number"?Math.min(wt,r.maxLength):wt,n=e.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);e=Ts[e]||e;const o=fe.isWindows(t),{DOT_LITERAL:i,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:c,NO_DOT:u,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:T,START_ANCHOR:C}=yt.globChars(o),E=r.dot?p:u,_=r.dot?f:u,R=r.capture?"":"?:",k={negated:!1,prefix:""};let N=r.bash===!0?".*?":T;r.capture&&(N=`(${N})`);const F=y=>y.noglobstar===!0?N:`(${R}(?:(?!${C}${y.dot?c:i}).)*?)`,$=y=>{switch(y){case"*":return`${E}${l}${N}`;case".*":return`${i}${l}${N}`;case"*.*":return`${E}${N}${i}${l}${N}`;case"*/*":return`${E}${N}${a}${l}${_}${N}`;case"**":return E+F(r);case"**/*":return`(?:${E}${F(r)}${a})?${_}${l}${N}`;case"**/*.*":return`(?:${E}${F(r)}${a})?${_}${N}${i}${l}${N}`;case"**/.*":return`(?:${E}${F(r)}${a})?${i}${l}${N}`;default:{const S=/^(.*?)\.(\w+)$/.exec(y);if(!S)return;const x=$(S[1]);return x?x+i+S[2]:void 0}}},m=fe.removePrefix(e,k);let d=$(m);return d&&r.strictSlashes!==!0&&(d+=`${a}?`),d};Rs.exports=As});var Os=G((Eu,ks)=>{"use strict";const aa=require("path"),la=Cs(),er=Ps(),tr=bt(),ca=Ze(),ua=e=>e&&typeof e=="object"&&!Array.isArray(e),J=(e,t,r=!1)=>{if(Array.isArray(e)){const u=e.map(f=>J(f,t,r)),p=f=>{for(const T of u){const C=T(f);if(C)return C}return!1};return p}const s=ua(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");const n=t||{},o=tr.isWindows(t),i=s?J.compileRe(e,t):J.makeRe(e,t,!1,!0),a=i.state;delete i.state;let l=()=>!1;if(n.ignore){const u={...t,ignore:null,onMatch:null,onResult:null};l=J(n.ignore,u,r)}const c=(u,p=!1)=>{const{isMatch:f,match:T,output:C}=J.test(u,i,t,{glob:e,posix:o}),E={glob:e,state:a,regex:i,posix:o,input:u,output:C,match:T,isMatch:f};return typeof n.onResult=="function"&&n.onResult(E),f===!1?(E.isMatch=!1,p?E:!1):l(u)?(typeof n.onIgnore=="function"&&n.onIgnore(E),E.isMatch=!1,p?E:!1):(typeof n.onMatch=="function"&&n.onMatch(E),p?E:!0)};return r&&(c.state=a),c};J.test=(e,t,r,{glob:s,posix:n}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const o=r||{},i=o.format||(n?tr.toPosixSlashes:null);let a=e===s,l=a&&i?i(e):e;return a===!1&&(l=i?i(e):e,a=l===s),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=J.matchBase(e,t,r,n):a=t.exec(l)),{isMatch:Boolean(a),match:a,output:l}};J.matchBase=(e,t,r,s=tr.isWindows(r))=>{const n=t instanceof RegExp?t:J.makeRe(t,r);return n.test(aa.basename(e))};J.isMatch=(e,t,r)=>J(t,r)(e);J.parse=(e,t)=>Array.isArray(e)?e.map(r=>J.parse(r,t)):er(e,{...t,fastpaths:!1});J.scan=(e,t)=>la(e,t);J.compileRe=(e,t,r=!1,s=!1)=>{if(r===!0)return e.output;const n=t||{},o=n.contains?"":"^",i=n.contains?"":"$";let a=`${o}(?:${e.output})${i}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);const l=J.toRegex(a,t);return s===!0&&(l.state=e),l};J.makeRe=(e,t,r=!1,s=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");const n=t||{};let o={negated:!1,fastpaths:!0},i="",a;return e.startsWith("./")&&(e=e.slice(2),i=o.prefix="./"),n.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(a=er.fastpaths(e,t)),a===void 0?(o=er(e,t),o.prefix=i+(o.prefix||"")):o.output=a,J.compileRe(o,t,r,s)};J.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};J.constants=ca;ks.exports=J});var rr=G((vu,Is)=>{"use strict";Is.exports=Os()});var Bs=G((Cu,Fs)=>{"use strict";const tt=require("fs"),{Readable:da}=require("stream"),_t=require("path"),{promisify:St}=require("util"),sr=rr(),fa=St(tt.readdir),Ns=St(tt.stat),Ls=St(tt.lstat),pa=St(tt.realpath),ha="!",ma=new Set(["ENOENT","EPERM","EACCES","ELOOP"]),nr="files",$s="directories",xt="files_directories",Et="all",Ds=[nr,$s,xt,Et],ga=e=>ma.has(e.code),js=e=>{if(e===void 0)return;if(typeof e=="function")return e;if(typeof e=="string"){const t=sr(e.trim());return r=>t(r.basename)}if(Array.isArray(e)){const t=[],r=[];for(const s of e){const n=s.trim();n.charAt(0)===ha?r.push(sr(n.slice(1))):t.push(sr(n))}return r.length>0?t.length>0?s=>t.some(n=>n(s.basename))&&!r.some(n=>n(s.basename)):s=>!r.some(n=>n(s.basename)):s=>t.some(n=>n(s.basename))}};class ir extends da{static get defaultOptions(){return{root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:nr,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});const t={...ir.defaultOptions,...e},{root:r,type:s}=t;this._fileFilter=js(t.fileFilter),this._directoryFilter=js(t.directoryFilter);const n=t.lstat?Ls:Ns;process.platform==="win32"&&Ns.length===3?this._stat=o=>n(o,{bigint:!0}):this._stat=n,this._maxDepth=t.depth,this._wantsDir=[$s,xt,Et].includes(s),this._wantsFile=[nr,xt,Et].includes(s),this._wantsEverything=s===Et,this._root=_t.resolve(r),this._isDirent="Dirent"in tt&&!t.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(r,1)],this.reading=!1,this.parent=void 0}async _read(e){if(this.reading)return;this.reading=!0;try{for(;!this.destroyed&&e>0;){const{path:t,depth:r,files:s=[]}=this.parent||{};if(s.length>0){const n=s.splice(0,e).map(o=>this._formatEntry(o,t));for(const o of await Promise.all(n)){if(this.destroyed)return;const i=await this._getEntryType(o);i==="directory"&&this._directoryFilter(o)?(r<=this._maxDepth&&this.parents.push(this._exploreDir(o.fullPath,r+1)),this._wantsDir&&(this.push(o),e--)):(i==="file"||this._includeAsFile(o))&&this._fileFilter(o)&&(this._wantsFile&&(this.push(o),e--))}}else{const n=this.parents.pop();if(!n){this.push(null);break}if(this.parent=await n,this.destroyed)return}}}catch(t){this.destroy(t)}finally{this.reading=!1}}async _exploreDir(e,t){let r;try{r=await fa(e,this._rdOptions)}catch(s){this._onError(s)}return{files:r,depth:t,path:e}}async _formatEntry(e,t){let r;try{const s=this._isDirent?e.name:e,n=_t.resolve(_t.join(t,s));r={path:_t.relative(this._root,n),fullPath:n,basename:s},r[this._statsProp]=this._isDirent?e:await this._stat(n)}catch(s){this._onError(s)}return r}_onError(e){ga(e)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}async _getEntryType(e){const t=e&&e[this._statsProp];if(!t)return;if(t.isFile())return"file";if(t.isDirectory())return"directory";if(t&&t.isSymbolicLink())try{const r=await pa(e.fullPath),s=await Ls(r);if(s.isFile())return"file";if(s.isDirectory())return"directory"}catch(r){this._onError(r)}}_includeAsFile(e){const t=e&&e[this._statsProp];return t&&this._wantsEverything&&!t.isDirectory()}}const We=(e,t={})=>{let r=t.entryType||t.type;if(r==="both"&&(r=xt),r&&(t.type=r),e){if(typeof e!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(r&&!Ds.includes(r))throw new Error(`readdirp: Invalid type passed. Use one of ${Ds.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return t.root=e,new ir(t)},ba=(e,t={})=>new Promise((r,s)=>{const n=[];We(e,t).on("data",o=>n.push(o)).on("end",()=>r(n)).on("error",o=>s(o))});We.promise=ba;We.ReaddirpStream=ir;We.default=We;Fs.exports=We});var or=G((Ru,Hs)=>{Hs.exports=function(e,t){if(typeof e!="string")throw new TypeError("expected path to be a string");if(e==="\\"||e==="/")return"/";var r=e.length;if(r<=1)return e;var s="";if(r>4&&e[3]==="\\"){var n=e[2];(n==="?"||n===".")&&e.slice(0,2)==="\\\\"&&(e=e.slice(2),s="//")}var o=e.split(/[/\\]+/);return t!==!1&&o[o.length-1]===""&&o.pop(),s+o.join("/")}});var Us=G((Ms,Ws)=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});const Gs=rr(),ya=or(),wa="!",_a={returnIndex:!1},Sa=e=>Array.isArray(e)?e:[e],xa=(e,t)=>{if(typeof e=="function")return e;if(typeof e=="string"){const r=Gs(e,t);return s=>e===s||r(s)}return e instanceof RegExp?r=>e.test(r):r=>!1},qs=(e,t,r,s)=>{const n=Array.isArray(r),o=n?r[0]:r;if(!n&&typeof o!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(o));const i=ya(o);for(let l=0;l<t.length;l++){const c=t[l];if(c(i))return s?-1:!1}const a=n&&[i].concat(r.slice(1));for(let l=0;l<e.length;l++){const c=e[l];if(n?c(...a):c(i))return s?l:!0}return s?-1:!1},ar=(e,t,r=_a)=>{if(e==null)throw new TypeError("anymatch: specify first argument");const s=typeof r=="boolean"?{returnIndex:r}:r,n=s.returnIndex||!1,o=Sa(e),i=o.filter(l=>typeof l=="string"&&l.charAt(0)===wa).map(l=>l.slice(1)).map(l=>Gs(l,s)),a=o.map(l=>xa(l,s));return t==null?(l,c=!1)=>{const u=typeof c=="boolean"?c:!1;return qs(a,i,l,u)}:qs(a,i,t,n)};ar.default=ar;Ws.exports=ar});var Ks=G((Tu,zs)=>{zs.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var lr=G((Au,Ys)=>{var Ea=Ks(),va={"{":"}","(":")","[":"]"},Ca=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,Ra=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;Ys.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(Ea(t))return!0;var s=Ca,n;for(r&&r.strict===!1&&(s=Ra);n=s.exec(t);){if(n[2])return!0;var o=n.index+n[0].length,i=n[1],a=i?va[i]:null;if(i&&a){var l=t.indexOf(a,o);l!==-1&&(o=l+1)}t=t.slice(o)}return!1}});var Xs=G((Pu,Vs)=>{"use strict";var Ta=lr(),Aa=require("path").posix.dirname,Pa=require("os").platform()==="win32",cr="/",ka=/\\/g,Oa=/[\{\[].*[\/]*.*[\}\]]$/,Ia=/(^|[^\\])([\{\[]|\([^\)]+$)/,Fa=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Vs.exports=function(t,r){var s=Object.assign({flipBackslashes:!0},r);s.flipBackslashes&&Pa&&t.indexOf(cr)<0&&(t=t.replace(ka,cr)),Oa.test(t)&&(t+=cr),t+="a";do t=Aa(t);while(Ta(t)||Ia.test(t));return t.replace(Fa,"$1")}});var vt=G(me=>{"use strict";me.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;me.find=(e,t)=>e.nodes.find(r=>r.type===t);me.exceedsLimit=(e,t,r=1,s)=>s===!1||(!me.isInteger(e)||!me.isInteger(t))?!1:(Number(t)-Number(e))/Number(r)>=s;me.escapeNode=(e,t=0,r)=>{let s=e.nodes[t];if(!s)return;(r&&s.type===r||s.type==="open"||s.type==="close")&&(s.escaped!==!0&&(s.value="\\"+s.value,s.escaped=!0))};me.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;me.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||(e.open!==!0||e.close!==!0)?(e.invalid=!0,!0):!1;me.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;me.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);me.flatten=(...e)=>{const t=[],r=s=>{for(let n=0;n<s.length;n++){let o=s[n];Array.isArray(o)?r(o,t):o!==void 0&&t.push(o)}return t};return r(e),t}});var Ct=G((Ou,Qs)=>{"use strict";const Js=vt();Qs.exports=(e,t={})=>{let r=(s,n={})=>{let o=t.escapeInvalid&&Js.isInvalidBrace(n),i=s.invalid===!0&&t.escapeInvalid===!0,a="";if(s.value)return(o||i)&&Js.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(let l of s.nodes)a+=r(l);return a};return r(e)}});var en=G((Iu,Zs)=>{"use strict";Zs.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var un=G((Fu,tn)=>{"use strict";const rn=en(),Le=(e,t,r)=>{if(rn(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(rn(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...r};typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let n=String(s.relaxZeros),o=String(s.shorthand),i=String(s.capture),a=String(s.wrap),l=e+":"+t+"="+n+o+i+a;if(Le.cache.hasOwnProperty(l))return Le.cache[l].result;let c=Math.min(e,t),u=Math.max(e,t);if(Math.abs(c-u)===1){let E=e+"|"+t;return s.capture?`(${E})`:s.wrap===!1?E:`(?:${E})`}let p=nn(e)||nn(t),f={min:e,max:t,a:c,b:u},T=[],C=[];if(p&&(f.isPadded=p,f.maxLen=String(f.max).length),c<0){let E=u<0?Math.abs(u):1;C=sn(E,Math.abs(c),f,s),c=f.a=0}return u>=0&&(T=sn(c,u,f,s)),f.negatives=C,f.positives=T,f.result=Na(C,T,s),s.capture===!0?f.result=`(${f.result})`:s.wrap!==!1&&T.length+C.length>1&&(f.result=`(?:${f.result})`),Le.cache[l]=f,f.result};function Na(e,t,r){let s=ur(e,t,"-",!1,r)||[],n=ur(t,e,"",!1,r)||[],o=ur(e,t,"-?",!0,r)||[],i=s.concat(o).concat(n);return i.join("|")}function $a(e,t){let r=1,s=1,n=on(e,r),o=new Set([t]);for(;e<=n&&n<=t;)o.add(n),r+=1,n=on(e,r);for(n=an(t+1,s)-1;e<n&&n<=t;)o.add(n),s+=1,n=an(t+1,s)-1;return o=[...o],o.sort(La),o}function Ba(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let s=Da(e,t),n=s.length,o="",i=0;for(let a=0;a<n;a++){let[l,c]=s[a];l===c?o+=l:l!=="0"||c!=="9"?o+=ja(l,c,r):i++}return i&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[i],digits:n}}function sn(e,t,r,s){let n=$a(e,t),o=[],i=e,a;for(let l=0;l<n.length;l++){let c=n[l],u=Ba(String(i),String(c),s),p="";if(!r.isPadded&&a&&a.pattern===u.pattern){a.count.length>1&&a.count.pop(),a.count.push(u.count[0]),a.string=a.pattern+ln(a.count),i=c+1;continue}r.isPadded&&(p=Ha(c,r,s)),u.string=p+u.pattern+ln(u.count),o.push(u),i=c+1,a=u}return o}function ur(e,t,r,s,n){let o=[];for(let i of e){let{string:a}=i;!s&&!cn(t,"string",a)&&o.push(r+a),s&&cn(t,"string",a)&&o.push(r+a)}return o}function Da(e,t){let r=[];for(let s=0;s<e.length;s++)r.push([e[s],t[s]]);return r}function La(e,t){return e>t?1:t>e?-1:0}function cn(e,t,r){return e.some(s=>s[t]===r)}function on(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function an(e,t){return e-e%Math.pow(10,t)}function ln(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function ja(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function nn(e){return/^-?(0+)\d/.test(e)}function Ha(e,t,r){if(!t.isPadded)return e;let s=Math.abs(t.maxLen-String(e).length),n=r.relaxZeros!==!1;switch(s){case 0:return"";case 1:return n?"0?":"0";case 2:return n?"0{0,2}":"00";default:return n?`0{0,${s}}`:`0{${s}}`}}Le.cache={};Le.clearCache=()=>Le.cache={};tn.exports=Le});var pr=G((Nu,dn)=>{"use strict";const Ma=require("util"),fn=un(),pn=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),Wa=e=>t=>e===!0?Number(t):String(t),dr=e=>typeof e=="number"||typeof e=="string"&&e!=="",rt=e=>Number.isInteger(+e),fr=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},Ga=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,qa=(e,t,r)=>{if(t>0){let s=e[0]==="-"?"-":"";s&&(e=e.slice(1)),e=s+e.padStart(s?t-1:t,"0")}return r===!1?String(e):e},hn=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},Ua=(e,t)=>{e.negatives.sort((i,a)=>i<a?-1:i>a?1:0),e.positives.sort((i,a)=>i<a?-1:i>a?1:0);let r=t.capture?"":"?:",s="",n="",o;return e.positives.length&&(s=e.positives.join("|")),e.negatives.length&&(n=`-(${r}${e.negatives.join("|")})`),s&&n?o=`${s}|${n}`:o=s||n,t.wrap?`(${r}${o})`:o},mn=(e,t,r,s)=>{if(r)return fn(e,t,{wrap:!1,...s});let n=String.fromCharCode(e);if(e===t)return n;let o=String.fromCharCode(t);return`[${n}-${o}]`},gn=(e,t,r)=>{if(Array.isArray(e)){let s=r.wrap===!0,n=r.capture?"":"?:";return s?`(${n}${e.join("|")})`:e.join("|")}return fn(e,t,r)},bn=(...e)=>new RangeError("Invalid range arguments: "+Ma.inspect(...e)),yn=(e,t,r)=>{if(r.strictRanges===!0)throw bn([e,t]);return[]},za=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},Ka=(e,t,r=1,s={})=>{let n=Number(e),o=Number(t);if(!Number.isInteger(n)||!Number.isInteger(o)){if(s.strictRanges===!0)throw bn([e,t]);return[]}n===0&&(n=0),o===0&&(o=0);let i=n>o,a=String(e),l=String(t),c=String(r);r=Math.max(Math.abs(r),1);let u=fr(a)||fr(l)||fr(c),p=u?Math.max(a.length,l.length,c.length):0,f=u===!1&&Ga(e,t,s)===!1,T=s.transform||Wa(f);if(s.toRegex&&r===1)return mn(hn(e,p),hn(t,p),!0,s);let C={negatives:[],positives:[]},E=k=>C[k<0?"negatives":"positives"].push(Math.abs(k)),_=[],R=0;for(;i?n>=o:n<=o;)s.toRegex===!0&&r>1?E(n):_.push(qa(T(n,R),p,f)),n=i?n-r:n+r,R++;return s.toRegex===!0?r>1?Ua(C,s):gn(_,null,{wrap:!1,...s}):_},Ya=(e,t,r=1,s={})=>{if(!rt(e)&&e.length>1||!rt(t)&&t.length>1)return yn(e,t,s);let n=s.transform||(f=>String.fromCharCode(f)),o=`${e}`.charCodeAt(0),i=`${t}`.charCodeAt(0),a=o>i,l=Math.min(o,i),c=Math.max(o,i);if(s.toRegex&&r===1)return mn(l,c,!1,s);let u=[],p=0;for(;a?o>=i:o<=i;)u.push(n(o,p)),o=a?o-r:o+r,p++;return s.toRegex===!0?gn(u,null,{wrap:!1,options:s}):u},Rt=(e,t,r,s={})=>{if(t==null&&dr(e))return[e];if(!dr(e)||!dr(t))return yn(e,t,s);if(typeof r=="function")return Rt(e,t,1,{transform:r});if(pn(r))return Rt(e,t,0,r);let n={...s};return n.capture===!0&&(n.wrap=!0),r=r||n.step||1,rt(r)?rt(e)&&rt(t)?Ka(e,t,r,n):Ya(e,t,Math.max(Math.abs(r),1),n):r!=null&&!pn(r)?za(r,n):Rt(e,t,1,r)};dn.exports=Rt});var Sn=G((Lu,wn)=>{"use strict";const Va=pr(),_n=vt(),Xa=(e,t={})=>{let r=(s,n={})=>{let o=_n.isInvalidBrace(n),i=s.invalid===!0&&t.escapeInvalid===!0,a=o===!0||i===!0,l=t.escapeInvalid===!0?"\\":"",c="";if(s.isOpen===!0)return l+s.value;if(s.isClose===!0)return l+s.value;if(s.type==="open")return a?l+s.value:"(";if(s.type==="close")return a?l+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":a?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let u=_n.reduce(s.nodes),p=Va(...u,{...t,wrap:!1,toRegex:!0});if(p.length!==0)return u.length>1&&p.length>1?`(${p})`:p}if(s.nodes)for(let u of s.nodes)c+=r(u,s);return c};return r(e)};wn.exports=Xa});var vn=G(($u,xn)=>{"use strict";const Qa=pr(),En=Ct(),Ge=vt(),$e=(e="",t="",r=!1)=>{let s=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Ge.flatten(t).map(n=>`{${n}}`):t;for(let n of e)if(Array.isArray(n))for(let o of n)s.push($e(o,t,r));else for(let o of t)r===!0&&typeof o=="string"&&(o=`{${o}}`),s.push(Array.isArray(o)?$e(n,o,r):n+o);return Ge.flatten(s)},Ja=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,s=(n,o={})=>{n.queue=[];let i=o,a=o.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,a=i.queue;if(n.invalid||n.dollar){a.push($e(a.pop(),En(n,t)));return}if(n.type==="brace"&&n.invalid!==!0&&n.nodes.length===2){a.push($e(a.pop(),["{}"]));return}if(n.nodes&&n.ranges>0){let p=Ge.reduce(n.nodes);if(Ge.exceedsLimit(...p,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=Qa(...p,t);f.length===0&&(f=En(n,t)),a.push($e(a.pop(),f)),n.nodes=[];return}let l=Ge.encloseBrace(n),c=n.queue,u=n;for(;u.type!=="brace"&&u.type!=="root"&&u.parent;)u=u.parent,c=u.queue;for(let p=0;p<n.nodes.length;p++){let f=n.nodes[p];if(f.type==="comma"&&n.type==="brace"){p===1&&c.push(""),c.push("");continue}if(f.type==="close"){a.push($e(a.pop(),c,l));continue}if(f.value&&f.type!=="open"){c.push($e(c.pop(),f.value));continue}f.nodes&&s(f,n)}return c};return Ge.flatten(s(e))};xn.exports=Ja});var Rn=G((Du,Cn)=>{"use strict";Cn.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"﻿"}});var On=G((ju,Tn)=>{"use strict";const Za=Ct(),{MAX_LENGTH:An,CHAR_BACKSLASH:hr,CHAR_BACKTICK:el,CHAR_COMMA:tl,CHAR_DOT:rl,CHAR_LEFT_PARENTHESES:sl,CHAR_RIGHT_PARENTHESES:nl,CHAR_LEFT_CURLY_BRACE:il,CHAR_RIGHT_CURLY_BRACE:ol,CHAR_LEFT_SQUARE_BRACKET:Pn,CHAR_RIGHT_SQUARE_BRACKET:kn,CHAR_DOUBLE_QUOTE:al,CHAR_SINGLE_QUOTE:ll,CHAR_NO_BREAK_SPACE:cl,CHAR_ZERO_WIDTH_NOBREAK_SPACE:ul}=Rn(),dl=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},s=typeof r.maxLength=="number"?Math.min(An,r.maxLength):An;if(e.length>s)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${s})`);let n={type:"root",input:e,nodes:[]},o=[n],i=n,a=n,l=0,c=e.length,u=0,p=0,f,T={};const C=()=>e[u++],E=_=>{if(_.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&_.type==="text"){a.value+=_.value;return}return i.nodes.push(_),_.parent=i,_.prev=a,a=_,_};for(E({type:"bos"});u<c;){if(i=o[o.length-1],f=C(),f===ul||f===cl)continue;if(f===hr){E({type:"text",value:(t.keepEscaping?f:"")+C()});continue}if(f===kn){E({type:"text",value:"\\"+f});continue}if(f===Pn){l++;let _=!0,R;for(;u<c&&(R=C());){if(f+=R,R===Pn){l++;continue}if(R===hr){f+=C();continue}if(R===kn&&(l--,l===0))break}E({type:"text",value:f});continue}if(f===sl){i=E({type:"paren",nodes:[]}),o.push(i),E({type:"text",value:f});continue}if(f===nl){if(i.type!=="paren"){E({type:"text",value:f});continue}i=o.pop(),E({type:"text",value:f}),i=o[o.length-1];continue}if(f===al||f===ll||f===el){let _=f,R;for(t.keepQuotes!==!0&&(f="");u<c&&(R=C());){if(R===hr){f+=R+C();continue}if(R===_){t.keepQuotes===!0&&(f+=R);break}f+=R}E({type:"text",value:f});continue}if(f===il){p++;let _=a.value&&a.value.slice(-1)==="$"||i.dollar===!0,R={type:"brace",open:!0,close:!1,dollar:_,depth:p,commas:0,ranges:0,nodes:[]};i=E(R),o.push(i),E({type:"open",value:f});continue}if(f===ol){if(i.type!=="brace"){E({type:"text",value:f});continue}let _="close";i=o.pop(),i.close=!0,E({type:_,value:f}),p--,i=o[o.length-1];continue}if(f===tl&&p>0){if(i.ranges>0){i.ranges=0;let _=i.nodes.shift();i.nodes=[_,{type:"text",value:Za(i)}]}E({type:"comma",value:f}),i.commas++;continue}if(f===rl&&p>0&&i.commas===0){let _=i.nodes;if(p===0||_.length===0){E({type:"text",value:f});continue}if(a.type==="dot"){if(i.range=[],a.value+=f,a.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,a.type="text";continue}i.ranges++,i.args=[];continue}if(a.type==="range"){_.pop();let R=_[_.length-1];R.value+=a.value+f,a=R,i.ranges--;continue}E({type:"dot",value:f});continue}E({type:"text",value:f})}do if(i=o.pop(),i.type!=="root"){i.nodes.forEach(k=>{k.nodes||(k.type==="open"&&(k.isOpen=!0),k.type==="close"&&(k.isClose=!0),k.nodes||(k.type="text"),k.invalid=!0)});let _=o[o.length-1],R=_.nodes.indexOf(i);_.nodes.splice(R,1,...i.nodes)}while(o.length>0);return E({type:"eos"}),n};Tn.exports=dl});var Nn=G((Bu,In)=>{"use strict";const Fn=Ct(),fl=Sn(),pl=vn(),hl=On(),pe=(e,t={})=>{let r=[];if(Array.isArray(e))for(let s of e){let n=pe.create(s,t);Array.isArray(n)?r.push(...n):r.push(n)}else r=[].concat(pe.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};pe.parse=(e,t={})=>hl(e,t);pe.stringify=(e,t={})=>typeof e=="string"?Fn(pe.parse(e,t),t):Fn(e,t);pe.compile=(e,t={})=>(typeof e=="string"&&(e=pe.parse(e,t)),fl(e,t));pe.expand=(e,t={})=>{typeof e=="string"&&(e=pe.parse(e,t));let r=pl(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};pe.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?pe.compile(e,t):pe.expand(e,t);In.exports=pe});var $n=G((Hu,Ln)=>{Ln.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","oga","ogg","ogv","otf","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]});var jn=G((Mu,Dn)=>{Dn.exports=$n()});var Hn=G((Wu,Bn)=>{"use strict";const ml=require("path"),gl=jn(),bl=new Set(gl);Bn.exports=e=>bl.has(ml.extname(e).slice(1).toLowerCase())});var Tt=G(I=>{"use strict";const{sep:yl}=require("path"),{platform:mr}=process;I.EV_ALL="all";I.EV_READY="ready";I.EV_ADD="add";I.EV_CHANGE="change";I.EV_ADD_DIR="addDir";I.EV_UNLINK="unlink";I.EV_UNLINK_DIR="unlinkDir";I.EV_RAW="raw";I.EV_ERROR="error";I.STR_DATA="data";I.STR_END="end";I.STR_CLOSE="close";I.FSEVENT_CREATED="created";I.FSEVENT_MODIFIED="modified";I.FSEVENT_DELETED="deleted";I.FSEVENT_MOVED="moved";I.FSEVENT_CLONED="cloned";I.FSEVENT_UNKNOWN="unknown";I.FSEVENT_TYPE_FILE="file";I.FSEVENT_TYPE_DIRECTORY="directory";I.FSEVENT_TYPE_SYMLINK="symlink";I.KEY_LISTENERS="listeners";I.KEY_ERR="errHandlers";I.KEY_RAW="rawEmitters";I.HANDLER_KEYS=[I.KEY_LISTENERS,I.KEY_ERR,I.KEY_RAW];I.DOT_SLASH=`.${yl}`;I.BACK_SLASH_RE=/\\/g;I.DOUBLE_SLASH_RE=/\/\//;I.SLASH_OR_BACK_SLASH_RE=/[/\\]/;I.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/;I.REPLACER_RE=/^\.[/\\]/;I.SLASH="/";I.SLASH_SLASH="//";I.BRACE_START="{";I.BANG="!";I.ONE_DOT=".";I.TWO_DOTS="..";I.STAR="*";I.GLOBSTAR="**";I.ROOT_GLOBSTAR="/**/*";I.SLASH_GLOBSTAR="/**";I.DIR_SUFFIX="Dir";I.ANYMATCH_OPTS={dot:!0};I.STRING_TYPE="string";I.FUNCTION_TYPE="function";I.EMPTY_STR="";I.EMPTY_FN=()=>{};I.IDENTITY_FN=e=>e;I.isWindows=mr==="win32";I.isMacos=mr==="darwin";I.isLinux=mr==="linux"});var zn=G((qu,Mn)=>{"use strict";const ke=require("fs"),oe=require("path"),{promisify:st}=require("util"),wl=Hn(),{isWindows:_l,isLinux:Sl,EMPTY_FN:xl,EMPTY_STR:El,KEY_LISTENERS:qe,KEY_ERR:gr,KEY_RAW:nt,HANDLER_KEYS:vl,EV_CHANGE:At,EV_ADD:Pt,EV_ADD_DIR:Cl,EV_ERROR:Wn,STR_DATA:Rl,STR_END:Tl,BRACE_START:Al,STAR:Pl}=Tt(),kl="watch",Ol=st(ke.open),Gn=st(ke.stat),Il=st(ke.lstat),Fl=st(ke.close),br=st(ke.realpath),Nl={lstat:Il,stat:Gn},yr=(e,t)=>{e instanceof Set?e.forEach(t):t(e)},it=(e,t,r)=>{let s=e[t];s instanceof Set||(e[t]=s=new Set([s])),s.add(r)},Ll=e=>t=>{const r=e[t];r instanceof Set?r.clear():delete e[t]},ot=(e,t,r)=>{const s=e[t];s instanceof Set?s.delete(r):s===r&&delete e[t]},qn=e=>e instanceof Set?e.size===0:!e,kt=new Map;function Un(e,t,r,s,n){const o=(i,a)=>{r(e),n(i,a,{watchedPath:e}),a&&e!==a&&Ot(oe.resolve(e,a),qe,oe.join(e,a))};try{return ke.watch(e,t,o)}catch(i){s(i)}}const Ot=(e,t,r,s,n)=>{const o=kt.get(e);if(!o)return;yr(o[t],i=>{i(r,s,n)})},$l=(e,t,r,s)=>{const{listener:n,errHandler:o,rawEmitter:i}=s;let a=kt.get(t),l;if(!r.persistent)return l=Un(e,r,n,o,i),l.close.bind(l);if(a)it(a,qe,n),it(a,gr,o),it(a,nt,i);else{if(l=Un(e,r,Ot.bind(null,t,qe),o,Ot.bind(null,t,nt)),!l)return;l.on(Wn,async c=>{const u=Ot.bind(null,t,gr);if(a.watcherUnusable=!0,_l&&c.code==="EPERM")try{const p=await Ol(e,"r");await Fl(p),u(c)}catch(p){}else u(c)}),a={listeners:n,errHandlers:o,rawEmitters:i,watcher:l},kt.set(t,a)}return()=>{ot(a,qe,n),ot(a,gr,o),ot(a,nt,i),qn(a.listeners)&&(a.watcher.close(),kt.delete(t),vl.forEach(Ll(a)),a.watcher=void 0,Object.freeze(a))}},wr=new Map,Dl=(e,t,r,s)=>{const{listener:n,rawEmitter:o}=s;let i=wr.get(t),a=new Set,l=new Set;const c=i&&i.options;return c&&(c.persistent<r.persistent||c.interval>r.interval)&&(a=i.listeners,l=i.rawEmitters,ke.unwatchFile(t),i=void 0),i?(it(i,qe,n),it(i,nt,o)):(i={listeners:n,rawEmitters:o,options:r,watcher:ke.watchFile(t,r,(u,p)=>{yr(i.rawEmitters,T=>{T(At,t,{curr:u,prev:p})});const f=u.mtimeMs;(u.size!==p.size||f>p.mtimeMs||f===0)&&yr(i.listeners,T=>T(e,u))})},wr.set(t,i)),()=>{ot(i,qe,n),ot(i,nt,o),qn(i.listeners)&&(wr.delete(t),ke.unwatchFile(t),i.options=i.watcher=void 0,Object.freeze(i))}};class jl{constructor(e){this.fsw=e,this._boundHandleError=t=>e._handleError(t)}_watchWithNodeFs(e,t){const r=this.fsw.options,s=oe.dirname(e),n=oe.basename(e),o=this.fsw._getWatchedDir(s);o.add(n);const i=oe.resolve(e),a={persistent:r.persistent};t||(t=xl);let l;return r.usePolling?(a.interval=r.enableBinaryInterval&&wl(n)?r.binaryInterval:r.interval,l=Dl(e,i,a,{listener:t,rawEmitter:this.fsw._emitRaw})):l=$l(e,i,a,{listener:t,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),l}_handleFile(e,t,r){if(this.fsw.closed)return;const s=oe.dirname(e),n=oe.basename(e),o=this.fsw._getWatchedDir(s);let i=t;if(o.has(n))return;const a=async(c,u)=>{if(!this.fsw._throttle(kl,e,5))return;if(!u||u.mtimeMs===0)try{const p=await Gn(e);if(this.fsw.closed)return;const f=p.atimeMs,T=p.mtimeMs;(!f||f<=T||T!==i.mtimeMs)&&this.fsw._emit(At,e,p),Sl&&i.ino!==p.ino?(this.fsw._closeFile(c),i=p,this.fsw._addPathCloser(c,this._watchWithNodeFs(e,a))):i=p}catch(p){this.fsw._remove(s,n)}else if(o.has(n)){const p=u.atimeMs,f=u.mtimeMs;(!p||p<=f||f!==i.mtimeMs)&&this.fsw._emit(At,e,u),i=u}},l=this._watchWithNodeFs(e,a);if(!(r&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(Pt,e,0))return;this.fsw._emit(Pt,e,t)}return l}async _handleSymlink(e,t,r,s){if(this.fsw.closed)return;const n=e.fullPath,o=this.fsw._getWatchedDir(t);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();const i=await br(r);return this.fsw.closed?void 0:(o.has(s)?this.fsw._symlinkPaths.get(n)!==i&&(this.fsw._symlinkPaths.set(n,i),this.fsw._emit(At,r,e.stats)):(o.add(s),this.fsw._symlinkPaths.set(n,i),this.fsw._emit(Pt,r,e.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(n))return!0;this.fsw._symlinkPaths.set(n,!0)}_handleRead(e,t,r,s,n,o,i){if(e=oe.join(e,El),!r.hasGlob&&(i=this.fsw._throttle("readdir",e,1e3),!i))return;const a=this.fsw._getWatchedDir(r.path),l=new Set;let c=this.fsw._readdirp(e,{fileFilter:u=>r.filterPath(u),directoryFilter:u=>r.filterDir(u),depth:0}).on(Rl,async u=>{if(this.fsw.closed){c=void 0;return}const p=u.path;let f=oe.join(e,p);if(l.add(p),u.stats.isSymbolicLink()&&await this._handleSymlink(u,e,f,p))return;if(this.fsw.closed){c=void 0;return}(p===s||!s&&!a.has(p))&&(this.fsw._incrReadyCount(),f=oe.join(n,oe.relative(n,f)),this._addToNodeFs(f,t,r,o+1))}).on(Wn,this._boundHandleError);return new Promise(u=>c.once(Tl,()=>{if(this.fsw.closed){c=void 0;return}const p=i?i.clear():!1;u(),a.getChildren().filter(f=>f!==e&&!l.has(f)&&(!r.hasGlob||r.filterPath({fullPath:oe.resolve(e,f)}))).forEach(f=>{this.fsw._remove(e,f)}),c=void 0,p&&this._handleRead(e,!1,r,s,n,o,i)}))}async _handleDir(e,t,r,s,n,o,i){const a=this.fsw._getWatchedDir(oe.dirname(e)),l=a.has(oe.basename(e));!(r&&this.fsw.options.ignoreInitial)&&!n&&!l&&((!o.hasGlob||o.globFilter(e))&&this.fsw._emit(Cl,e,t)),a.add(oe.basename(e)),this.fsw._getWatchedDir(e);let c,u;const p=this.fsw.options.depth;if((p==null||s<=p)&&!this.fsw._symlinkPaths.has(i)){if(!n&&(await this._handleRead(e,r,o,n,e,s,c),this.fsw.closed))return;u=this._watchWithNodeFs(e,(f,T)=>{if(T&&T.mtimeMs===0)return;this._handleRead(f,!1,o,n,e,s,c)})}return u}async _addToNodeFs(e,t,r,s,n){const o=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return o(),!1;const i=this.fsw._getWatchHelpers(e,s);!i.hasGlob&&r&&(i.hasGlob=r.hasGlob,i.globFilter=r.globFilter,i.filterPath=a=>r.filterPath(a),i.filterDir=a=>r.filterDir(a));try{const a=await Nl[i.statMethod](i.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(i.watchPath,a))return o(),!1;const l=this.fsw.options.followSymlinks&&!e.includes(Pl)&&!e.includes(Al);let c;if(a.isDirectory()){const u=l?await br(e):e;if(this.fsw.closed)return;if(c=await this._handleDir(i.watchPath,a,t,s,n,i,u),this.fsw.closed)return;e!==u&&u!==void 0&&this.fsw._symlinkPaths.set(u,!0)}else if(a.isSymbolicLink()){const u=l?await br(e):e;if(this.fsw.closed)return;const p=oe.dirname(i.watchPath);if(this.fsw._getWatchedDir(p).add(i.watchPath),this.fsw._emit(Pt,i.watchPath,a),c=await this._handleDir(p,a,t,s,e,i,u),this.fsw.closed)return;u!==void 0&&this.fsw._symlinkPaths.set(oe.resolve(e),u)}else c=this._handleFile(i.watchPath,a,t);return o(),this.fsw._addPathCloser(e,c),!1}catch(a){if(this.fsw._handleError(a))return o(),e}}}Mn.exports=jl});var Zn=G((Uu,_r)=>{"use strict";const Sr=require("fs"),ne=require("path"),{promisify:xr}=require("util");let Ue;try{Ue=require("fsevents")}catch(e){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(e)}if(Ue){const e=process.version.match(/v(\d+)\.(\d+)/);if(e&&e[1]&&e[2]){const t=Number.parseInt(e[1],10),r=Number.parseInt(e[2],10);t===8&&r<16&&(Ue=void 0)}}const{EV_ADD:Er,EV_CHANGE:Bl,EV_ADD_DIR:Kn,EV_UNLINK:It,EV_ERROR:Hl,STR_DATA:Ml,STR_END:Wl,FSEVENT_CREATED:Gl,FSEVENT_MODIFIED:ql,FSEVENT_DELETED:Ul,FSEVENT_MOVED:zl,FSEVENT_UNKNOWN:Kl,FSEVENT_TYPE_FILE:Yl,FSEVENT_TYPE_DIRECTORY:at,FSEVENT_TYPE_SYMLINK:Yn,ROOT_GLOBSTAR:Vn,DIR_SUFFIX:Vl,DOT_SLASH:Xn,FUNCTION_TYPE:vr,EMPTY_FN:Xl,IDENTITY_FN:Ql}=Tt(),Jl=e=>isNaN(e)?{}:{depth:e},Cr=xr(Sr.stat),Zl=xr(Sr.lstat),Qn=xr(Sr.realpath),ec={stat:Cr,lstat:Zl},De=new Map,tc=10,rc=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),sc=(e,t)=>{const r=Ue.watch(e,t);return{stop:r}};function ic(e,t,r,s){let n=ne.extname(e)?ne.dirname(e):e;const o=ne.dirname(n);let i=De.get(n);nc(o)&&(n=o);const a=ne.resolve(e),l=a!==t,c=(p,f,T)=>{l&&(p=p.replace(t,a)),(p===a||!p.indexOf(a+ne.sep))&&r(p,f,T)};let u=!1;for(const p of De.keys())if(t.indexOf(ne.resolve(p)+ne.sep)===0){n=p,i=De.get(n),u=!0;break}return i||u?i.listeners.add(c):(i={listeners:new Set([c]),rawEmitter:s,watcher:sc(n,(p,f)=>{if(!i.listeners.size)return;const T=Ue.getInfo(p,f);i.listeners.forEach(C=>{C(p,f,T)}),i.rawEmitter(T.event,p,T)})},De.set(n,i)),()=>{const p=i.listeners;if(p.delete(c),!p.size&&(De.delete(n),i.watcher))return i.watcher.stop().then(()=>{i.rawEmitter=i.watcher=void 0,Object.freeze(i)})}}const nc=e=>{let t=0;for(const r of De.keys())if(r.indexOf(e)===0&&(t++,t>=tc))return!0;return!1},oc=()=>Ue&&De.size<128,Rr=(e,t)=>{let r=0;for(;!e.indexOf(t)&&(e=ne.dirname(e))!==t;)r++;return r},Jn=(e,t)=>e.type===at&&t.isDirectory()||e.type===Yn&&t.isSymbolicLink()||e.type===Yl&&t.isFile();class ac{constructor(e){this.fsw=e}checkIgnored(e,t){const r=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,t))return r.add(e),t&&t.isDirectory()&&r.add(e+Vn),!0;r.delete(e),r.delete(e+Vn)}addOrChange(e,t,r,s,n,o,i,a){const l=n.has(o)?Bl:Er;this.handleEvent(l,e,t,r,s,n,o,i,a)}async checkExists(e,t,r,s,n,o,i,a){try{const l=await Cr(e);if(this.fsw.closed)return;Jn(i,l)?this.addOrChange(e,t,r,s,n,o,i,a):this.handleEvent(It,e,t,r,s,n,o,i,a)}catch(l){l.code==="EACCES"?this.addOrChange(e,t,r,s,n,o,i,a):this.handleEvent(It,e,t,r,s,n,o,i,a)}}handleEvent(e,t,r,s,n,o,i,a,l){if(this.fsw.closed||this.checkIgnored(t))return;if(e===It){const c=a.type===at;(c||o.has(i))&&this.fsw._remove(n,i,c)}else{if(e===Er){if(a.type===at&&this.fsw._getWatchedDir(t),a.type===Yn&&l.followSymlinks){const u=l.depth===void 0?void 0:Rr(r,s)+1;return this._addToFsEvents(t,!1,!0,u)}this.fsw._getWatchedDir(n).add(i)}const c=a.type===at?e+Vl:e;this.fsw._emit(c,t),c===Kn&&this._addToFsEvents(t,!1,!0)}}_watchWithFsEvents(e,t,r,s){if(this.fsw.closed)return;if(this.fsw._isIgnored(e))return;const n=this.fsw.options,o=async(a,l,c)=>{if(this.fsw.closed)return;if(n.depth!==void 0&&Rr(a,t)>n.depth)return;const u=r(ne.join(e,ne.relative(e,a)));if(s&&!s(u))return;const p=ne.dirname(u),f=ne.basename(u),T=this.fsw._getWatchedDir(c.type===at?u:p);if(rc.has(l)||c.event===Kl)if(typeof n.ignored===vr){let C;try{C=await Cr(u)}catch(E){}if(this.fsw.closed)return;if(this.checkIgnored(u,C))return;Jn(c,C)?this.addOrChange(u,a,t,p,T,f,c,n):this.handleEvent(It,u,a,t,p,T,f,c,n)}else this.checkExists(u,a,t,p,T,f,c,n);else switch(c.event){case Gl:case ql:return this.addOrChange(u,a,t,p,T,f,c,n);case Ul:case zl:return this.checkExists(u,a,t,p,T,f,c,n)}},i=ic(e,t,o,this.fsw._emitRaw);return this.fsw._emitReady(),i}async _handleFsEventsSymlink(e,t,r,s){if(this.fsw.closed||this.fsw._symlinkPaths.has(t))return;this.fsw._symlinkPaths.set(t,!0),this.fsw._incrReadyCount();try{const n=await Qn(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(n))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(n||e,o=>{let i=e;return n&&n!==Xn?i=o.replace(n,e):o!==Xn&&(i=ne.join(e,o)),r(i)},!1,s)}catch(n){if(this.fsw._handleError(n))return this.fsw._emitReady()}}emitAdd(e,t,r,s,n){const o=r(e),i=t.isDirectory(),a=this.fsw._getWatchedDir(ne.dirname(o)),l=ne.basename(o);if(i&&this.fsw._getWatchedDir(o),a.has(l))return;a.add(l),(!s.ignoreInitial||n===!0)&&this.fsw._emit(i?Kn:Er,o,t)}initWatch(e,t,r,s){if(this.fsw.closed)return;const n=this._watchWithFsEvents(r.watchPath,ne.resolve(e||r.watchPath),s,r.globFilter);this.fsw._addPathCloser(t,n)}async _addToFsEvents(e,t,r,s){if(this.fsw.closed)return;const n=this.fsw.options,o=typeof t===vr?t:Ql,i=this.fsw._getWatchHelpers(e);try{const a=await ec[i.statMethod](i.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(i.watchPath,a))throw null;if(a.isDirectory()){if(i.globFilter||this.emitAdd(o(e),a,o,n,r),s&&s>n.depth)return;this.fsw._readdirp(i.watchPath,{fileFilter:l=>i.filterPath(l),directoryFilter:l=>i.filterDir(l),...Jl(n.depth-(s||0))}).on(Ml,l=>{if(this.fsw.closed)return;if(l.stats.isDirectory()&&!i.filterPath(l))return;const c=ne.join(i.watchPath,l.path),{fullPath:u}=l;if(i.followSymlinks&&l.stats.isSymbolicLink()){const p=n.depth===void 0?void 0:Rr(c,ne.resolve(i.watchPath))+1;this._handleFsEventsSymlink(c,u,o,p)}else this.emitAdd(c,l.stats,o,n,r)}).on(Hl,Xl).on(Wl,()=>{this.fsw._emitReady()})}else this.emitAdd(i.watchPath,a,o,n,r),this.fsw._emitReady()}catch(a){(!a||this.fsw._handleError(a))&&(this.fsw._emitReady(),this.fsw._emitReady())}if(n.persistent&&r!==!0)if(typeof t===vr)this.initWatch(void 0,e,i,o);else{let a;try{a=await Qn(i.watchPath)}catch(l){}this.initWatch(a,e,i,o)}}}_r.exports=ac;_r.exports.canUse=oc});var Hr=G(Tr=>{"use strict";const{EventEmitter:lc}=require("events"),Ar=require("fs"),q=require("path"),{promisify:ei}=require("util"),cc=Bs(),Pr=Us().default,uc=Xs(),kr=lr(),dc=Nn(),fc=or(),pc=zn(),ti=Zn(),{EV_ALL:Or,EV_READY:hc,EV_ADD:Ft,EV_CHANGE:lt,EV_UNLINK:ri,EV_ADD_DIR:mc,EV_UNLINK_DIR:gc,EV_RAW:bc,EV_ERROR:Ir,STR_CLOSE:yc,STR_END:wc,BACK_SLASH_RE:_c,DOUBLE_SLASH_RE:si,SLASH_OR_BACK_SLASH_RE:Sc,DOT_RE:xc,REPLACER_RE:Ec,SLASH:Fr,SLASH_SLASH:vc,BRACE_START:Cc,BANG:Nr,ONE_DOT:ni,TWO_DOTS:Rc,GLOBSTAR:Tc,SLASH_GLOBSTAR:Lr,ANYMATCH_OPTS:$r,STRING_TYPE:Dr,FUNCTION_TYPE:Ac,EMPTY_STR:jr,EMPTY_FN:Pc,isWindows:kc,isMacos:Oc}=Tt(),Ic=ei(Ar.stat),Fc=ei(Ar.readdir),Br=(e=[])=>Array.isArray(e)?e:[e],ii=(e,t=[])=>(e.forEach(r=>{Array.isArray(r)?ii(r,t):t.push(r)}),t),ai=e=>{const t=ii(Br(e));if(!t.every(r=>typeof r===Dr))throw new TypeError(`Non-string provided as watch path: ${t}`);return t.map(oi)},li=e=>{let t=e.replace(_c,Fr),r=!1;for(t.startsWith(vc)&&(r=!0);t.match(si);)t=t.replace(si,Fr);return r&&(t=Fr+t),t},oi=e=>li(q.normalize(li(e))),ci=(e=jr)=>t=>typeof t!==Dr?t:oi(q.isAbsolute(t)?t:q.join(e,t)),Nc=(e,t)=>q.isAbsolute(e)?e:e.startsWith(Nr)?Nr+q.join(t,e.slice(1)):q.join(t,e),ye=(e,t)=>e[t]===void 0;class Lc{constructor(e,t){this.path=e,this._removeWatcher=t,this.items=new Set}add(e){const{items:t}=this;if(!t)return;e!==ni&&e!==Rc&&t.add(e)}async remove(e){const{items:t}=this;if(!t)return;if(t.delete(e),t.size>0)return;const r=this.path;try{await Fc(r)}catch(s){this._removeWatcher&&this._removeWatcher(q.dirname(r),q.basename(r))}}has(e){const{items:t}=this;return t?t.has(e):void 0}getChildren(){const{items:e}=this;return e?[...e.values()]:void 0}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}}const $c="stat",Dc="lstat";class jc{constructor(e,t,r,s){this.fsw=s,this.path=e=e.replace(Ec,jr),this.watchPath=t,this.fullWatchPath=q.resolve(t),this.hasGlob=t!==e,e===jr&&(this.hasGlob=!1),this.globSymlink=this.hasGlob&&r?void 0:!1,this.globFilter=this.hasGlob?Pr(e,void 0,$r):!1,this.dirParts=this.getDirParts(e),this.dirParts.forEach(n=>{n.length>1&&n.pop()}),this.followSymlinks=r,this.statMethod=r?$c:Dc}checkGlobSymlink(e){return this.globSymlink===void 0&&(this.globSymlink=e.fullParentDir===this.fullWatchPath?!1:{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return q.join(this.watchPath,q.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){const{stats:t}=e;if(t&&t.isSymbolicLink())return this.filterDir(e);const r=this.entryPath(e),s=this.hasGlob&&typeof this.globFilter===Ac?this.globFilter(r):!0;return s&&this.fsw._isntIgnored(r,t)&&this.fsw._hasReadPermissions(t)}getDirParts(e){if(!this.hasGlob)return[];const t=[],r=e.includes(Cc)?dc.expand(e):[e];return r.forEach(s=>{t.push(q.relative(this.watchPath,s).split(Sc))}),t}filterDir(e){if(this.hasGlob){const t=this.getDirParts(this.checkGlobSymlink(e));let r=!1;this.unmatchedGlob=!this.dirParts.some(s=>s.every((n,o)=>(n===Tc&&(r=!0),r||!t[0][o]||Pr(n,t[0][o],$r))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}}class ui extends lc{constructor(e){super();const t={};e&&Object.assign(t,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,ye(t,"persistent")&&(t.persistent=!0),ye(t,"ignoreInitial")&&(t.ignoreInitial=!1),ye(t,"ignorePermissionErrors")&&(t.ignorePermissionErrors=!1),ye(t,"interval")&&(t.interval=100),ye(t,"binaryInterval")&&(t.binaryInterval=300),ye(t,"disableGlobbing")&&(t.disableGlobbing=!1),t.enableBinaryInterval=t.binaryInterval!==t.interval,ye(t,"useFsEvents")&&(t.useFsEvents=!t.usePolling);const r=ti.canUse();r||(t.useFsEvents=!1),ye(t,"usePolling")&&!t.useFsEvents&&(t.usePolling=Oc);const s=process.env.CHOKIDAR_USEPOLLING;if(s!==void 0){const a=s.toLowerCase();a==="false"||a==="0"?t.usePolling=!1:a==="true"||a==="1"?t.usePolling=!0:t.usePolling=!!a}const n=process.env.CHOKIDAR_INTERVAL;n&&(t.interval=Number.parseInt(n,10)),ye(t,"atomic")&&(t.atomic=!t.usePolling&&!t.useFsEvents),t.atomic&&(this._pendingUnlinks=new Map),ye(t,"followSymlinks")&&(t.followSymlinks=!0),ye(t,"awaitWriteFinish")&&(t.awaitWriteFinish=!1),t.awaitWriteFinish===!0&&(t.awaitWriteFinish={});const o=t.awaitWriteFinish;o&&(o.stabilityThreshold||(o.stabilityThreshold=2e3),o.pollInterval||(o.pollInterval=100),this._pendingWrites=new Map),t.ignored&&(t.ignored=Br(t.ignored));let i=0;this._emitReady=()=>{i++,i>=this._readyCount&&(this._emitReady=Pc,this._readyEmitted=!0,process.nextTick(()=>this.emit(hc)))},this._emitRaw=(...a)=>this.emit(bc,...a),this._readyEmitted=!1,this.options=t,t.useFsEvents?this._fsEventsHandler=new ti(this):this._nodeFsHandler=new pc(this),Object.freeze(t)}add(e,t,r){const{cwd:s,disableGlobbing:n}=this.options;this.closed=!1;let o=ai(e);return s&&(o=o.map(i=>{const a=Nc(i,s);return n||!kr(i)?a:fc(a)})),o=o.filter(i=>i.startsWith(Nr)?(this._ignoredPaths.add(i.slice(1)),!1):(this._ignoredPaths.delete(i),this._ignoredPaths.delete(i+Lr),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=o.length),this.options.persistent&&(this._readyCount*=2),o.forEach(i=>this._fsEventsHandler._addToFsEvents(i))):(this._readyCount||(this._readyCount=0),this._readyCount+=o.length,Promise.all(o.map(async i=>{const a=await this._nodeFsHandler._addToNodeFs(i,!r,0,0,t);return a&&this._emitReady(),a})).then(i=>{if(this.closed)return;i.filter(a=>a).forEach(a=>{this.add(q.dirname(a),q.basename(t||a))})})),this}unwatch(e){if(this.closed)return this;const t=ai(e),{cwd:r}=this.options;return t.forEach(s=>{!q.isAbsolute(s)&&!this._closers.has(s)&&(r&&(s=q.join(r,s)),s=q.resolve(s)),this._closePath(s),this._ignoredPaths.add(s),this._watched.has(s)&&this._ignoredPaths.add(s+Lr),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();const e=[];return this._closers.forEach(t=>t.forEach(r=>{const s=r();s instanceof Promise&&e.push(s)})),this._streams.forEach(t=>t.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(t=>t.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(t=>{this[`_${t}`].clear()}),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){const e={};return this._watched.forEach((t,r)=>{const s=this.options.cwd?q.relative(this.options.cwd,r):r;e[s||ni]=t.getChildren().sort()}),e}emitWithAll(e,t){this.emit(...t),e!==Ir&&this.emit(Or,...t)}async _emit(e,t,r,s,n){if(this.closed)return;const o=this.options;kc&&(t=q.normalize(t)),o.cwd&&(t=q.relative(o.cwd,t));const i=[e,t];n!==void 0?i.push(r,s,n):s!==void 0?i.push(r,s):r!==void 0&&i.push(r);const a=o.awaitWriteFinish;let l;if(a&&(l=this._pendingWrites.get(t)))return l.lastChange=new Date,this;if(o.atomic){if(e===ri)return this._pendingUnlinks.set(t,i),setTimeout(()=>{this._pendingUnlinks.forEach((c,u)=>{this.emit(...c),this.emit(Or,...c),this._pendingUnlinks.delete(u)})},typeof o.atomic=="number"?o.atomic:100),this;e===Ft&&this._pendingUnlinks.has(t)&&(e=i[0]=lt,this._pendingUnlinks.delete(t))}if(a&&(e===Ft||e===lt)&&this._readyEmitted){const c=(u,p)=>{u?(e=i[0]=Ir,i[1]=u,this.emitWithAll(e,i)):p&&(i.length>2?i[2]=p:i.push(p),this.emitWithAll(e,i))};return this._awaitWriteFinish(t,a.stabilityThreshold,e,c),this}if(e===lt){const c=!this._throttle(lt,t,50);if(c)return this}if(o.alwaysStat&&r===void 0&&(e===Ft||e===mc||e===lt)){const c=o.cwd?q.join(o.cwd,t):t;let u;try{u=await Ic(c)}catch(p){}if(!u||this.closed)return;i.push(u)}return this.emitWithAll(e,i),this}_handleError(e){const t=e&&e.code;return e&&t!=="ENOENT"&&t!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||t!=="EPERM"&&t!=="EACCES")&&this.emit(Ir,e),e||this.closed}_throttle(e,t,r){this._throttled.has(e)||this._throttled.set(e,new Map);const s=this._throttled.get(e),n=s.get(t);if(n)return n.count++,!1;let o;const i=()=>{const l=s.get(t),c=l?l.count:0;return s.delete(t),clearTimeout(o),l&&clearTimeout(l.timeoutObject),c};o=setTimeout(i,r);const a={timeoutObject:o,clear:i,count:0};return s.set(t,a),a}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,t,r,s){let n,o=e;this.options.cwd&&!q.isAbsolute(e)&&(o=q.join(this.options.cwd,e));const i=new Date,a=l=>{Ar.stat(o,(c,u)=>{if(c||!this._pendingWrites.has(e)){c&&c.code!=="ENOENT"&&s(c);return}const p=Number(new Date);l&&u.size!==l.size&&(this._pendingWrites.get(e).lastChange=p);const f=this._pendingWrites.get(e),T=p-f.lastChange;T>=t?(this._pendingWrites.delete(e),s(void 0,u)):n=setTimeout(a,this.options.awaitWriteFinish.pollInterval,u)})};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:i,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(n),r)}),n=setTimeout(a,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(e,t){if(this.options.atomic&&xc.test(e))return!0;if(!this._userIgnored){const{cwd:r}=this.options,s=this.options.ignored,n=s&&s.map(ci(r)),o=Br(n).filter(a=>typeof a===Dr&&!kr(a)).map(a=>a+Lr),i=this._getGlobIgnored().map(ci(r)).concat(n,o);this._userIgnored=Pr(i,void 0,$r)}return this._userIgnored([e,t])}_isntIgnored(e,t){return!this._isIgnored(e,t)}_getWatchHelpers(e,t){const r=t||this.options.disableGlobbing||!kr(e)?e:uc(e),s=this.options.followSymlinks;return new jc(e,r,s,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));const t=q.resolve(e);return this._watched.has(t)||this._watched.set(t,new Lc(t,this._boundRemove)),this._watched.get(t)}_hasReadPermissions(e){if(this.options.ignorePermissionErrors)return!0;const t=e&&Number.parseInt(e.mode,10),r=t&511,s=Number.parseInt(r.toString(8)[0],10);return Boolean(4&s)}_remove(e,t,r){const s=q.join(e,t),n=q.resolve(s);if(r=r!=null?r:this._watched.has(s)||this._watched.has(n),!this._throttle("remove",s,100))return;!r&&!this.options.useFsEvents&&this._watched.size===1&&this.add(e,t,!0);const o=this._getWatchedDir(s),i=o.getChildren();i.forEach(p=>this._remove(s,p));const a=this._getWatchedDir(e),l=a.has(t);a.remove(t);let c=s;if(this.options.cwd&&(c=q.relative(this.options.cwd,s)),this.options.awaitWriteFinish&&this._pendingWrites.has(c)){const p=this._pendingWrites.get(c).cancelWait();if(p===Ft)return}this._watched.delete(s),this._watched.delete(n);const u=r?gc:ri;l&&!this._isIgnored(s)&&this._emit(u,s),this.options.useFsEvents||this._closePath(s)}_closePath(e){this._closeFile(e);const t=q.dirname(e);this._getWatchedDir(t).remove(q.basename(e))}_closeFile(e){const t=this._closers.get(e);if(!t)return;t.forEach(r=>r()),this._closers.delete(e)}_addPathCloser(e,t){if(!t)return;let r=this._closers.get(e);r||(r=[],this._closers.set(e,r)),r.push(t)}_readdirp(e,t){if(this.closed)return;const r={type:Or,alwaysStat:!0,lstat:!0,...t};let s=cc(e,r);return this._streams.add(s),s.once(yc,()=>{s=void 0}),s.once(wc,()=>{s&&(this._streams.delete(s),s=void 0)}),s}}Tr.FSWatcher=ui;const Bc=(e,t)=>{const r=new ui(t);return r.add(e),r};Tr.watch=Bc});function di(e,t,r){}di.throws=!1;global.assert=di;function fi(e,t){let r=0;if(t===!0){let s=process.env.TERM||"";r=s&&["xterm","screen","vt100"].some(n=>s.indexOf(n)!=-1)?s.indexOf("256color")!=-1?8:4:2}else t!==!1&&e.isTTY&&(r=e.getColorDepth());return r}function Nt(e,t){return pi(fi(e,t),t)}function pi(e,t){const r=o=>`[${o}m`,s=e>0||t?(o,i)=>{const a=r(o),l=r(i);return c=>a+c+l}:o=>i=>i,n=e>=8?(o,i,a)=>{let l="["+i+"m",c="["+a+"m";return u=>l+u+c}:e>0?(o,i,a)=>{let l="["+o+"m",c="["+a+"m";return u=>l+u+c}:(o,i,a)=>l=>l;return{_hint:t,ncolors:e,reset:t||e>0?"e[0m":"",bold:s("1","22"),italic:s("3","23"),underline:s("4","24"),inverse:s("7","27"),white:n("37","38;2;255;255;255","39"),grey:n("90","38;5;244","39"),black:n("30","38;5;16","39"),blue:n("34","38;5;75","39"),cyan:n("36","38;5;87","39"),green:n("32","38;5;84","39"),magenta:n("35","38;5;213","39"),purple:n("35","38;5;141","39"),pink:n("35","38;5;211","39"),red:n("31","38;2;255;110;80","39"),yellow:n("33","38;5;227","39"),lightyellow:n("93","38;5;229","39"),orange:n("33","38;5;215","39"),reconfigure(o,i){const a=fi(o,i);return a!=this.ncolors&&i!=this._hint&&Object.assign(this,pi(a,i)),this}}}const Z=Nt(process.stdout),we=Nt(process.stderr);const Oe=j(require("fs")),ve=j(require("path")),Mr=j(require("os")),hi=j(require("perf_hooks")),mi=j(require("util")),ee=(e,t,r)=>JSON.stringify(e,r,t),_e=()=>hi.performance.now(),ze=Symbol("TYPE"),gi=eval("require");function te(e,t){let r={colors:Z.ncolors>0};return typeof t=="object"?r={...t}:t!==void 0&&(r.compact=!t),mi.inspect(e,r)}function ct(e){return e>=59500?(e/6e4).toFixed(0)+"min":e>=999.5?(e/1e3).toFixed(1)+"s":e.toFixed(2)+"ms"}function bi(e){return e>=1024*1e3?(e/(1024*1e3)).toFixed(1)+"MB":e>=1e3?(e/1024).toFixed(1)+"kB":e+"B"}function Lt(e){const t=process.platform.startsWith("win")&&!/\.exe$/i.test(e);for(let r of(process.env.PATH||"").split(ve.delimiter)){let s=ve.join(ve.resolve(r),e);for(;;){try{let n=Oe.statSync(s);if(n.isSymbolicLink()){s=Oe.realpathSync.native(s);continue}else if(n.isFile()&&n.mode&Oe.constants.X_OK)return s}catch(n){}break}}return null}function Wr(e,t){const r=require("vm");return r.runInNewContext("("+e+")",{},{filename:t,displayErrors:!0})}function yi(e){return Wr(Oe.readFileSync(e,"utf8"),e)}function wi(e){const t=Mr.homedir();return e=="~"?t:e.startsWith("~"+ve.sep)?t+e.substr(1):e}function Fe(e){const t=ve.resolve(e),r=Mr.homedir();return t.startsWith(r)?"~"+t.substr(r.length):t}const he=j(require("path")),ge=(()=>{const e=process.env._,t=process.argv[1];if(!t)return e||process.argv[0];if(e&&!he.isAbsolute(e))return e;let r="";if(e){const s=he.basename(process.execPath);e.endsWith(he.sep+s)&&(r=s+" ")}if(t.startsWith(process.cwd())){let s=he.relative(process.cwd(),t);if(!s.startsWith("node_modules"+he.sep)&&s.indexOf(he.sep+"node_modules"+he.sep)==-1)return he.sep=="/"&&(s="./"+s),s}return r+he.basename(t)})();function $t(e,t){let[r,s]=Hc(t.flags.filter(c=>c)),n={},o=!1,i=[],a=0;const l=()=>{i.push(e.splice(a,1)[0]),a--};for(;a<e.length;a++){let c=e[a];if(c=="--"){a++;break}if(c[0]!="-"){l();continue}c=c.replace(/^\-+/,"");let u=c.indexOf("="),p;u!=-1&&(p=c.substr(u+1),c=c.substr(0,u));let f=r.get(c);if(!f){if(c=="h"||c=="help")o=!0,t.help||(console.log(qr(s,t.usage,t.trailer)),process.exit(0));else if(t.unknownFlagAsArg){l();continue}else Gr([e[a]]);break}let T=!0;if(f.valueName){if(p===void 0)if(p=e[a+1],p!==void 0&&p[0]!="-")a++;else{console.error(`missing value for option -${c} (see ${ge} -help)`),process.exit(1);break}try{T=f.valueParser?f.valueParser(p):p}catch(C){console.error(`invalid value for option -${c} (${C.message})`)}}else p!==void 0&&(console.error(`unexpected value provided for flag -${c}`),process.exit(1));n[c]=T;for(let C of f.names){if(C==c)continue;n[C]=T}}return a<e.length&&(i=i.concat(e.slice(a))),o&&t.help&&t.help(s,n,i),[n,i]}function Gr(e){console.error(`unknown option${e.length>1?"s":""} ${e.join(", ")} (see ${ge} -help)`),process.exit(1)}function Hc(e){let t=new Map,r=[];for(let s of e){let n=Mc(s);r.push(n);for(let o of n.names){if(t.has(o))throw new Error(`duplicate CLI flag ${ee(o)} in definition ${ee(s)}`);t.set(o,n)}}return[t,r]}function Mc(e){const t=n=>n.replace(/(?:^|[\s,])\-+/g,""),r=n=>n.split(/\s*,\s*/);if(typeof e=="string")return{names:r(t(e))};let s={names:typeof e[0]=="string"?r(t(e[0])):e[0].map(t),description:e[1]||void 0};if(e[2]){let[n,o]=e[2].replace(/^[<>]+|[<>]+$/g,"").split(/:/,2);if(o)switch(o.toLowerCase()){case"string":case"str":o="string";break;case"bool":case"boolean":o="boolean",s.valueParser=i=>(i=i.toLowerCase(),i!="false"&&i!="0"&&i!="no"&&i!="off");break;case"number":case"num":case"float":case"int":o="number",s.valueParser=i=>{let a=Number(i);if(isNaN(a))throw new Error(`${ee(i)} is not a number`);return a};break;default:throw new Error(`invalid argument type "${o}"`)}else o="string";s.valueName=n||o,s.valueType=o}return s}function qr(e,t,r){let s={prog:ge,"0":ge};const n=i=>i.replace(/\$(\w+)/g,(a,l)=>{let c=s[l];if(!c)throw new Error(`unknown variable $${l} (to print a dollar sign, use '\\$')`);return c});let o=n(t?typeof t=="function"?t():String(t):e.length>0?"Usage: $prog [options]":"Usage: $prog");if(e.length>0){o+=`
options:
`;let i=0,a=[];for(let l of e){let c="  -"+(l.valueName?l.names.join("=,-")+"="+(l.valueType=="boolean"?"on|off":"<"+l.valueName+">"):l.names.join(", -"));i=Math.max(i,c.length),a.push(c)}for(let l=0;l<e.length;l++){let c=e[l],u=a[l],p=c.description;c.description||(p=c.valueType?"Set ":"Enable "+c.names.reduce((f,T)=>T.length>f.length?T:f,"")),o+=`${u.padEnd(i," ")}  ${p}`,l+1<e.length&&(o+=`
`)}}return r&&(o+=`
`+n(r.replace(/[\n\s]+$/,""))),o}const _i=j(require("console"));var Ce;(function(e){e[e.Error=0]="Error",e[e.Warn=1]="Warn",e[e.Info=2]="Info",e[e.Debug=3]="Debug"})(Ce||(Ce={}));let Ke=console,Ur;const Dt=new class{constructor(){this.ERROR=0;this.WARN=1;this.INFO=2;this.DEBUG=3;this.level=2;this.debug=Wc}error(...t){jt(t),Ke.error(we.red(`${ge}:`),...t)}warn(...t){Dt.level>=1&&(jt(t),Ke.error(we.magenta(`${ge}:`),...t))}info(...t){Dt.level>=2&&(jt(t),Ke.log(...t))}get colorMode(){return Ur}set colorMode(t){if(Ur===t)return;Ur=t,t===void 0?Ke=console:Ke=new _i.Console({stdout:process.stdout,stderr:process.stderr,colorMode:t})}};var w=Dt;function jt(e){typeof e[0]=="function"&&(e[0]=e[0]())}function Wc(...e){if(Dt.level>=3){let t="";if(jt(e),e.length==0||e.length==1&&(e[0]===""||e[0]===void 0))return;Ke.log(Z.bold(Z.blue(`[DEBUG${t}]`)),...e)}}const Si=j(require("path"));let zr=null,Gc=__dirname;function Ye(){return zr||(w.debug("loading debug module"),zr=gi(Si.join(Gc,"debug.js"))),zr}class je extends Error{constructor(e){super(e);this.name="UserError"}}function xi(e,t){return Ye().bugReportMessage(e,t)}function Ei(e,t){return Ye().printErrorAndExit(e,t)}function vi(e,t){Error.prepareStackTrace=void 0;try{if(Ye().installSourceMapSupport(),Error.prepareStackTrace!==vi)return Error.prepareStackTrace(e,t)}catch(r){}return e.stack||String(e)}Error.prepareStackTrace=vi;process.on("uncaughtException",Ei);process.on("unhandledRejection",(e,t)=>{Ei(e||"PromiseRejection","unhandledRejection")});const ud=new Map,dd=Symbol("isMemoized");const Ci=!!process.stdout.isTTY,qc=!!process.stderr.isTTY,Re={width:60,height:20,clear(){},banner(e){return e||(e="-"),e.repeat(Math.floor((Re.width-1)/e.length))}};if(Ci||qc){const e=Ci&&process.stdout||process.stderr,t=()=>{Re.width=e.columns,Re.height=e.rows};e.on("resize",t),t(),Re.clear=()=>{e.write("c")}}const Te=j(require("fs")),Ri=String.fromCharCode,Uc=(e,t)=>e.charCodeAt(t||0);function Ti(e,t){if(typeof t=="number")return Te.chmodSync(e,t),t;let r=Te.statSync(e).mode,s=Bt(r,t);return r!=s&&Te.chmodSync(e,s),s}function Ai(e,t){return new Promise((r,s)=>{if(typeof t=="number")return Te.chmod(e,t,n=>{n?s(n):r(t)});Te.stat(e,(n,o)=>{if(n)return s(n);let i=Bt(o.mode,t);if(o.mode==i)return r(i);Te.chmod(e,i,a=>{a?s(a):r(i)})})})}function Bt(e,t){const r="Expected format: [ugoa]*[+-=][rwx]+",s=(o,i)=>new Error(`${o} in modifier ${ee(i)}. ${r}`);let n=[];for(let o of Array.isArray(t)?t:[t])n=n.concat(o.trim().split(/\s*,+\s*/));for(let o of n){let i=[],a=!1,l=0,c=0;for(let p=0;p<o.length;p++){let f=Uc(o,p);if(l==0)switch(f){case 117:case 103:case 111:a||i.push(f);break;case 97:i=[117,103,111],a=!0;break;case 43:case 45:case 61:l=f;break;default:if(l==0)throw s(`Invalid target or operation ${ee(Ri(f))}`,o);break}else switch(f){case 114:c|=4;break;case 119:c|=2;break;case 120:c|=1;break;default:throw s(`Invalid permission ${ee(Ri(f))}`,o)}}if(l==0)throw s("Missing operation",o);i.length==0&&(i=[117]),c==0&&(c=4|2|1);let u=0;for(let p of i)switch(p){case 117:u|=c<<6;break;case 103:u|=c<<3;break;case 111:u|=c;break}switch(l){case 43:e|=u;break;case 45:e&=~u;break;case 61:e=u;break}}return e}const Be=j(require("fs")),Ie=j(require("path")),Pi=j(require("crypto")),Se=Be.promises,ki={};function Ve(e){ki[Ie.resolve(String(e))]=_e()}function Ht(e){const t=3e4,r=ki[Ie.resolve(e)];return r!==void 0&&_e()-r<=t}function ie(e,t){return Se.readFile(e,t)}ie.editMode=Bt;ie.chmod=(e,t)=>(Ve(e),Ai(e,t));function zc(e,t){return Se.readFile(e,t)}ie.read=zc;ie.stat=Se.stat;function Kc(...e){return Promise.all(e.map(t=>Se.stat(t).then(r=>r.mtimeMs).catch(r=>null))).then(t=>t.length==1?t[0]:t)}ie.mtime=Kc;ie.readall=(...e)=>Promise.all(e.map(t=>Se.readFile(t)));ie.readallText=(e,...t)=>Promise.all(t.map(r=>Se.readFile(r,{encoding:e||"utf8"})));ie.write=async(e,t,r)=>{Ve(e);const s=r&&typeof r=="object"?r:{};try{await Se.writeFile(e,t,r)}catch(n){if(!s.mkdirOff&&n.code=="ENOENT")await ie.mkdirs(Ie.dirname(String(e)),s.mkdirMode),await Se.writeFile(e,t,r);else throw n}if(s.log){let n=Ie.relative(process.cwd(),String(e));n.startsWith(".."+Ie.sep)&&(n=Fe(e)),w.info(Z.green(`Wrote ${n}`))}};function Yc(e,t){return new Promise((r,s)=>{const n=Be.createReadStream(e),o=Pi.createHash("sha1");n.on("error",s),n.on("end",()=>{o.end(),r(t?o.digest(t):o.digest())}),n.pipe(o)})}ie.sha1=Yc;ie.copy=(e,t,r)=>{let s=Be.constants.COPYFILE_FICLONE;return r&&(s|=Be.constants.COPYFILE_EXCL),Ve(t),Se.copyFile(e,t,s)};ie.move=(e,t)=>(Ve(t),Se.rename(e,t));ie.mkdirs=(e,t)=>Se.mkdir(e,{recursive:!0,mode:t}).then(r=>!!r&&r.length>0);const Mt=j(require("fs")),Xe=j(require("path")),Oi=j(Hr());function Kr(e,t,r){r===void 0&&(r=t,t=void 0),t={persistent:!0,ignoreInitial:!0,ignored:/(^|[\/\\])\../,disableGlobbing:!0,followSymlinks:!1,...t||{}};const s=t.latency===void 0?1:t.latency;delete t.latency;const n=t.filter===void 0?/\.(?:js|ts|jsx|tsx)$/:t.filter;delete t.filter;const o=new Set;let i=null;function a(){i=null;const C=r(Array.from(o));o.clear(),C instanceof Promise&&(C.then(()=>{i=null,o.size>0&&a()}).catch(E=>{f.cancel(E)}),i=1)}const l=(C,E)=>{if(n&&!n.test(E)){w.debug(()=>`fs watcher: event: ${C} ${E} (ignored by filter)`);return}if(Ht(E)){w.debug(()=>`fs watcher: self-originating event: ${C} ${E} (ignored)`);return}w.debug(()=>`fs watcher: event: ${C} ${E}`),o.add(E),i===null&&(i=setTimeout(a,s))},c=Oi.watch(e,t);c.on("all",l).on("error",C=>w.warn(`fs watcher: ${C}`)).on("ready",()=>w.debug("fs watcher: initial scan complete"));var u,p,f=new Promise((C,E)=>{p=C,u=E});let T=!1;return f.cancel=C=>{clearTimeout(i),T||(T=!0,c.close().then(p).catch(u)),C&&u(C)},f}async function Ii(e,t,r){if(r||(r={}),!Mt.promises||!Mt.promises.opendir)throw new Error("not implemented for nodejs <12.12.0");const s=[],n=e,o=new Set;async function i(a,l){if(o.has(a))return;o.add(a);const c=await Mt.promises.opendir(a);for await(const u of c){let p=u.name;u.isDirectory()?r.recursive&&await i(Xe.join(a,p),Xe.join(l,p)):(u.isFile()||u.isSymbolicLink())&&(t&&t.test(p)&&s.push(Xe.join(l,p)))}}return i(Xe.resolve(e),".").then(()=>s.sort())}const le=j(require("path")),Fi=j(require("fs")),Ni=Symbol("TS_CONFIG_FILE"),Li=Symbol("TS_CONFIG"),{dirname:Vc,basename:Td}=le;function $i(e){let t="",r=process.cwd();e&&process.chdir(e);try{t=require.resolve("typescript")}catch(s){}finally{e&&process.chdir(r)}if(t){const s=le.sep+"node_modules"+le.sep;let n=t.indexOf(s);if(n!=-1)return le.join(t.substr(0,n+s.length-le.sep.length),".bin","tsc")}return"tsc"}function Vr(e,t){for(let r of Yr(e,t))try{const s=Fi.statSync(r);if(s.isFile())return r}catch(s){}return null}function*Yr(e,t){e=le.resolve(e);const r=le.parse(e).root;for(t=t?le.resolve(t):r;!(yield le.join(e,"tsconfig.json"),e==t);)if(e=Vc(e),e==r)break}function Xr(e){let t=e.cwd||process.cwd();return e.entryPoints&&e.entryPoints.length>0&&(t=le.resolve(t,le.dirname(e.entryPoints[0]))),t}function Qe(e){let t=e[Ni];if(t===void 0){if(e.tslint==="off"||e.tslint===!1||e.tsc==="off"||e.tsc===!1)t=null;else{let r=Xr(e);t=Vr(r,e.cwd)}Object.defineProperty(e,Ni,{value:t})}return t}function ut(e){let t=e[Li];if(t===void 0){const r=Qe(e);if(r)try{t=yi(r)}catch(s){w.warn(()=>`failed to parse ${r}: ${s.stack||s}`)}t||(t=null),Object.defineProperty(e,Li,{value:t})}return t}const dt=j(require("path")),Pd=j(require("fs")),Di=j(require("child_process")),{dirname:Xc,basename:Dd}=dt,Qr={6031:"IGNORE",6194:"IGNORE",6133:"WARNING",2531:"WARNING",7006:"WARNING",7015:"WARNING",7053:"WARNING"},ji=0,Bi=1,Hi=2,Qc=3,Mi={IGNORE:ji,INFO:Bi,WARNING:Hi,ERROR:Qc};function Wi(e,t){for(let r of Object.keys(t)){let s=Mi[String(t[r]).toUpperCase()];if(s===void 0)throw new je(`Invalid value for TS rule ${r}: ${ee(s)} -- expected value to be one of: `+Object.keys(Mi).map(ee).join(", "));e[r]=s}}function Jr(e){e||(e={});let t={cancelled:!1,cancel(){}},r=new Promise((s,n)=>{if(e.mode=="off")return s(!0);const o=e.quiet?()=>{}:console.log.bind(console),i=e.cwd||process.cwd();let a=e.tsconfigFile;if(a===void 0&&(a=Vr(e.srcdir?dt.resolve(i,e.srcdir):i)),e.mode!="on"&&!a)return s(!0);const l=e.format?e.format.toLowerCase():"",c=l.startsWith("short"),u=l.startsWith("short"),p=l=="short-all";let f=$i(e.cwd);if(f=="tsc"&&e.mode!="on"&&!(f=Lt(f)))return console.warn(we.orange(prog+":")+" tsc not found in node_modules or PATH. However a tsconfig.json file was found in "+dt.relative(process.cwd(),Xc(a))+"."` Set tslint options.tslint="off" or pass -no-diag on the command line.`),s(!0);const T={};Wi(T,Qr),e.rules&&Wi(T,e.rules);let C=["--noEmit",e.colors&&"--pretty",e.watch&&"--watch",a&&"--project",a].concat(e.args||[]).filter(A=>A);w.debug(()=>`spawning process ${f} ${ee(C,2)}`);const E=Di.spawn(f,C,{stdio:["inherit","pipe","inherit"],cwd:i}),_=()=>{try{E.kill()}catch(A){}};process.on("exit",_),t.cancel=()=>{E.kill()};const R=A=>A,k=Z.orange,N=Z.red,F=Z.green,$=Buffer.from(" TS"),m=Buffer.from("Found "),d=Buffer.from("c"),y=Buffer.from("tarting compilation"),S=Buffer.from("tarting incremental compilation"),x=[];let h=0,O=!1,L={errors:0,warnings:0,other:0,reset(){this.errors=0,this.warnings=0,this.other=0}},W=!1;function b(){if(!e.quiet||L.errors>=0){e.watch&&console.log(Re.banner("—"));let A=[];L.errors>0?A.push(N("TS: "+K("$ error","$ errors",L.errors))):A.push(F("TS: OK")),L.warnings>0&&A.push(k(K("$ warning","$ warnings",L.warnings))),L.other>0&&A.push(K("$ message","$ messages",L.other)),console.log(A.join("   ")),e.watch&&console.log(Re.banner("—"))}O=L.errors>0,e.onEnd&&e.onEnd(L),L.reset(),W=!0}function g(A){let B=x.slice();if(x.length=0,h==0){let H=0,z=B[H++];for(;z.length==0||z[0]==10&&H<B.length;)z=B[H++];if(z.includes(y)||z.includes(S))return L.reset(),A&&b();if(B.every(Y=>Y.length<=1))return A&&b()}else{const H=/(?:\x1b\[\d+m|)error(?:\x1b\[\d+m|)/g;let z=B.shift().toString("utf8");switch(T[h]){case ji:return A&&b();case Bi:z=z.replace(H,R("info")),c?B=[]:U(B,R),L.other++;break;case Hi:z=z.replace(H,k("warning")),u?B=[]:U(B,k),L.warnings++;break;default:p&&(B=[]),H.test(z)?L.errors++:L.other++;break}process.stdout.write(z)}B.forEach(H=>process.stdout.write(H)),A&&b()}function U(A,B){for(let H=1;H<A.length;H++){let z=A[H];if(z.includes(126)){let Y=z.toString("utf8");Y=Y.replace(/\x1b\[\d+m(\s*~+)/g,B("$1")),A[H]=Y}}}function K(A,B,H){return(H==1?A:B).replace(/\$/g,H)}Jc(E.stdout,(A,B)=>{if(e.clearScreen||(A=ue(A)),B){A.length>0&&x.push(A),x.length>0&&g();return}if(W&&A.length>1&&(W=!1,e.onRestart&&e.onRestart()),A.includes(m)){let H=ae(A.toString("utf8"));if(/^(?:\[[^\]]+\] |[\d\:PAM \-]+|)Found \d+ error/.test(H)){g(!0),h=0;return}else g(!1);h=0}else if(A.includes($)){const H=A.toString("utf8"),z=/(?:\x1b\[\d+m|)error(?:\x1b\[\d+m\x1b\[\d+m|) TS(\d+)\:/.exec(H);let Y=z?parseInt(z[1]):0;Y>0&&!isNaN(Y)&&(x.length>0&&g(),h=Y)}x.push(A)}),E.on("close",A=>{process.removeListener("exit",_),s(!O)});function ae(A){return A.replace(/\x1b\[\d+m/g,"")}function ue(A){let B=A.indexOf(d);return B==-1?A:B==0?A.subarray(3):Buffer.concat([A.subarray(0,B),A.subarray(B+3)],A.length-3)}});return r.cancel=()=>(t.cancelled||(t.cancelled=!0,t.cancel()),r),r}const Zc=Buffer.allocUnsafe(0);function Jc(e,t){let r=[],s=0;const n=i=>{let a=0;for(;;){let l=i.indexOf(10,a);if(l==-1){if(a<i.length-1){const u=i.subarray(a);r.push(u),s+=u.length}break}l++;let c=i.subarray(a,l);s>0&&(c=Buffer.concat(r.concat(c),s+c.length),r.length=0,s=0),t(c,!1),a=l}},o=()=>{r.length>0?t(Buffer.concat(r,s),!0):t(Zc,!0)};e.on("data",n),e.on("close",o),e.on("end",o)}const eu=j(require("fs"));function Gi(e){return e&&e.read}function qi(e){return e&&e.write}const Zr=Buffer.allocUnsafe(0);function Ui(e){return e&&typeof e=="object"&&e[ze]=="Reader"}function Wt(e){return e?new ru(e):tu}function es(e){return e?{[ze]:"Writer",stream:e}:su}var Md;const tu=new class{constructor(){this[Md]="Reader"}_E(){return new Error("stream not readable")}get stream(){throw this._E()}[(Md=ze,Symbol.asyncIterator)](){throw this._E()}read(){return Promise.reject(this._E())}};var Wd,zi;const su=new(zi=class{constructor(){this[Wd]="Writer"}_E(){return new Error("stream not writable")}get stream(){throw this._E()}},Wd=ze,zi);var Gd;class ru{constructor(e){this[Gd]="Reader";this._ended=!1;this.stream=e,e.pause(),e.once("end",()=>{this._ended=!0})}[(Gd=ze,Symbol.asyncIterator)](){return this.stream[Symbol.asyncIterator]()}async read(e,t){const r=this.stream;if(r.pause(),typeof e=="string")t=e,e=Number.MAX_SAFE_INTEGER;else if(e==null||e<0)e=Number.MAX_SAFE_INTEGER;else if(e==0)return t?"":Zr;if(r.readable){let i=r.read(this._ended?void 0:e);if(i)return t?i.toString(t):i}if(this._ended)return t?"":Zr;const s=[];let n=0;if(r.readable){const i=r.read();i&&(s.push(i),n+=i.length)}for(;n<e&&!this._ended;){await new Promise((a,l)=>{r.once("error",l),r.once("end",a),r.once("readable",a)});let i=r.read(e-n);i||(i=r.read()),i&&(s.push(i),n+=i.length)}const o=Ki(s);return t?o.toString(t):o}}function Ki(e,t){return e.length==0?Zr:e.length==1?e[0]:Buffer.concat(e,t)}function ts(){const e=[];let t=0;const r=e.push;return e.push=s=>(t+=s.length,r.call(e,s)),e.buffer=()=>Ki(e,t),e}function rs(e){const t=Ye().libuv_errors;return t[e]||""}function Yi(e,t,r){const s=setTimeout(()=>{const n=new Error("timeout");n.name="Timeout",r(n)},t);return e.then(n=>(clearTimeout(s),n),n=>{throw clearTimeout(s),n})}const xe=j(require("fs")),Vi=j(require("os")),Xi=j(require("child_process")),Qi=j(require("stream")),Ji="process not started";class ss{constructor(e,...t){this.dir="";this.env={...process.env};this.shell=!1;this.stdin=null;this.stdout=null;this.stderr=null;this.extraFiles=[];this.windowsHide=!0;this.process=null;this.running=!1;this.pid=0;this.exitCode=-1;this._resolve=()=>{};this._reject=()=>{};this._onerror=e=>{w.debug(()=>`${this} error:
${e.stack||e}`),this._reject(e)};this._onexit=(e,t)=>{const r=this;w.debug(()=>`${r} exited status=${e} signal=${t}`),r.running=!1,e===null||t!==null?(assert(typeof t=="string"),r.exitCode=-(Vi.constants.signals[t]||1)):r.exitCode=e||0,r._resolve(r.exitCode)};this.command=e,this.args=t,this.promise=Promise.reject(new Error(Ji)),this.promise.catch(r=>{})}start(){return null}run(e){return this.start(),this.wait(e)}output(e,t){this.stdout="pipe",this.stderr||(this.stderr="pipe");const{stdout:r,stderr:s}=this.start(),n=ts(),o=ts();return r.stream.on("data",i=>{n.push(i)}),s&&s.stream.on("data",i=>{o.push(i)}),this.wait(t||0).then(i=>{if(i!=0){let l="";const c=o.buffer();try{l=c.toString("utf8")}catch(u){l=c.toString("ascii")}throw l.length>0&&(l=`. stderr output:
`+l),new Error(`command exited with status ${i}${l}`)}const a=n.buffer();return e?a.toString(e):a})}wait(e,t){return e===void 0||e<=0?this.promise:this._waitTimeout(e,(r,s,n)=>(w.debug(()=>`${this} wait timeout reached; killing process`),r.message="Cmd.wait timeout",this.kill(t).then(()=>n(r))))}signal(e,t){const r=this._checkproc();if(t=="group")try{return process.kill(-r.pid,e),!0}catch(s){}return r.kill(e)}async kill(e="SIGTERM",t=500,r){const s=this._checkproc();return this.signal(e,r||"group")?t<=0?this.promise:this._waitTimeout(t,(n,o)=>(w.debug(()=>`${this} kill timeout reached; sending SIGKILL`),s.kill("SIGKILL"),this.promise.then(o))):s.exitCode||0}toString(){return this.process?`Cmd[${this.pid}]`:"Cmd"}_checkproc(){if(!this.process)throw new Error(Ji);return this.process}_rejectAndKill(e){this._reject(e)}_waitTimeout(e,t){return new Promise((r,s)=>{let n=!1;return this.promise.then(o=>{n||r(o)}),Yi(this.promise,e,o=>{n=!0,t(o,r,s)})})}}ss.prototype.start=function(){const t=this;if(t.running)throw new Error("start() called while command is running");t.exitCode=-1,t.promise=new Promise((i,a)=>{t._resolve=i,t._reject=a});let r=null,s=null;t.stdin instanceof Buffer?r="pipe":Ui(t.stdin)?typeof t.stdin.stream.fd=="string"?r=t.stdin.stream:(r="pipe",s=t.stdin.stream):r=t.stdin;const n=Xi.spawn(t.command,t.args,{stdio:[r,t.stdout===process.stdout?1:t.stdout||"ignore",t.stderr===process.stderr?2:t.stderr?t.stderr:"ignore",...t.extraFiles],cwd:t.dir?wi(t.dir):void 0,env:t.env,shell:t.shell,windowsHide:t.windowsHide,detached:!0});if(n.pid===void 0){t.process=null,t.pid=0;const i=nu(t);throw t._reject(i),i}if(t.running=!0,t.process=n,t.pid=n.pid,n.on("exit",t._onexit),n.on("error",t._reject),w.debug(()=>`${t} started (${te(t.command)})`),n.stdin)if(t.stdin instanceof Buffer){const i=new Qi.PassThrough;i.end(t.stdin),i.pipe(n.stdin),n.stdin=null}else s&&(s.pipe(n.stdin),n.stdin=null);if(!n.stdin&&!n.stdout&&!n.stderr&&n.stdio.length<4)return null;const o={stdin:n.stdin?es(n.stdin):null,stdout:n.stdout?Wt(n.stdout):null,stderr:n.stderr?Wt(n.stderr):null,extraFiles:n.stdio.slice(3).map(i=>Gi(i)?Wt(i):qi(i)?es(i):null)};return o};function nu(e){let t="",r="unspecified error";if(e.shell==!1){try{xe.accessSync(e.dir,xe.constants.R_OK|xe.constants.X_OK);const n=xe.statSync(e.command);(n.mode&xe.constants.S_IFREG)==0?t="EACCES":t="EIO"}catch(n){t=n.code||"ENOENT"}r=rs(t)||r}if(!t){try{xe.accessSync(e.dir,xe.constants.R_OK|xe.constants.X_OK),t="EIO"}catch(n){t=n.code||"ENOENT"}r=rs(t)||r,t&&(r=r+"; cmd.dir="+te(e.dir))}t||(t="UNKNOWN");const s=new Error(`failed to spawn process ${te(e.command)} (${t} ${r})`);return s.code=t,s}const ns=j(require("fs")),Zi=j(require("os")),eo=new Map;function ft(e,t){const r=n=>ns.writeSync(process.stderr.fd,n+`
`);let s=eo.get(e);if(s)s.listeners.add(t);else{const n=new Set([t]),o=i=>{i=="SIGINT"&&ns.writeSync(1,`
`);try{for(let a of n)a(i)}catch(a){r(`error in signal listener: ${a.stack||a}`)}process.exit(-(Zi.constants.signals[i]||1))};process.on(e,o),eo.set(e,{rootListener:o,listeners:n})}}const to=j(require("path")),ro=j(require("fs"));let so=!1,no=!1,Gt=new Set;function iu(){if(so)return;so=!0,process.on("beforeExit",t=>is(!1)),process.on("exit",t=>is(!1));const e=t=>is(!1);ft("SIGINT",e),ft("SIGHUP",e),ft("SIGTERM",e),ft("SIGPIPE",e)}function is(e){if(no)return;no=!0;const t=r=>ro.writeSync(process.stderr.fd,r+`
`);try{if(!1)for(let s of Gt);for(let r of Gt)if(r.cmd.running)try{r.cmd.signal("SIGTERM")}catch(s){}Gt.clear()}catch(r){t(`ignoring error in run.atexit: ${r.stack||r}`)}}function io(e){if(!e.run)return;w.debug(()=>`run.configure run=${te(e.run)}`);const t=new ou(e);Gt.add(t);const r=e.onEnd;e.onEnd=async(s,n,o)=>{if(await t.onEndBuild(n),typeof r=="function")return r(s,n,o)},iu()}function oo(){return Promise.all(Array.from(Gt).map(e=>e.cmd.promise)).then(e=>e.reduce((t,r)=>Math.max(t,r),0))}class ou{constructor(e){this._logOnExit=!0;if(this.config=e,this.cmd=new ss(""),this.cmd.stdout="inherit",this.cmd.stderr="inherit",this.cmd.env.ESTRELLA_PATH=__filename,this.cmd.env.ESTRELLA_VERSION="1.2.1",typeof e.run=="string")this.cmd.command=e.run,this.cmd.shell=!0,this.cmdname=e.run;else if(typeof e.run=="boolean"){if(!e.outfile)throw new je("please set config.outfile=<file> or config.run=<file>");this.cmd.command=process.execPath,this.cmd.args=[to.resolve(e.outfile)],this.cmdname=e.outfile}else{if(!e.run||e.run.length==0)throw new je("config.run is an empty list");this.cmd.command=e.run[0],this.cmd.args=e.run.slice(1),this.cmdname=e.run.join(" "),this.cmdname.length>60&&(this.cmdname=this.cmdname.substr(0,57)+"...")}}async onEndBuild(e){if(e.errors.length>0)return;const t=this.cmd,r=Z.pink,s=t.running;t.running&&(this._logOnExit=!1,w.debug(()=>`Stopping ${this.cmdname} [${t.pid}] ...`),await t.kill());let{stdout:n}=t.start();this.config.watch&&(w.info(()=>r(`${s?"Restarted":"Running"} ${this.cmdname} [${t.pid}]`)),this._logOnExit=!0,t.promise.then(o=>{this._logOnExit&&w.info(()=>r(`${this.cmdname} exited (${o})`))}))}}function ao(e){let t=e;if(!t){w.debug("typescript API requested; attempting to load typescript module");try{const _=require;if(t=_("typescript"),parseFloat(t.versionMajorMinor)<3.5)return w.warn(`typescript ${t.version} is too old; disabling "ts" API.
  You are seeing this message because you are importing the ts API.
  Either install a more recent version of typescript or remove the ts import.`),null;w.debug(()=>`loaded typescript ${t.version} from ${Fe(_.resolve("typescript"))}`)}catch(_){return w.debug(()=>"failed to load typescript; module unavailable"),null}}const r=new Map;function s(_){const R=ee(Object.keys(_).sort().map($=>[$,_[$]])),k=r.get(R);if(k)return w.debug("ts.getCompilerHost cache hit"),k;_={newLine:t.NewLineKind.LineFeed,..._};const N=t.createCompilerHost(_,!0),F=[N,_];return r.set(R,F),w.debug("ts.getCompilerHost cache miss"),F}async function n(_,R){const k=typeof _=="string"?{"/<source>/a.ts":_}:_,N=Object.keys(k),[F,$]=s(R||{}),m=F.readFile;F.readFile=S=>S in k?k[S]:m(S);const d=t.createProgram(N,$,F);if(typeof _=="string")return d.getSourceFile(N[0]);const y={};for(let S of N)y[S]=d.getSourceFile(S);return y}async function o(_,R){return i(_,R)}function i(_,R){const[k,N]=s(R||{}),F=t.createProgram([_],N,k),$=F.getSourceFile(_);if(!$)throw new Error(`${_}: file not found`);return $}function a(_,R,k){return l(_,[R],k).then(N=>N[0])}async function l(_,R,k){const N=i(_,k);return c(N,R)}function c(_,R){const k=T(_),N=new Map,F=[];for(let $ of R||k.keys()){const m=k.get($);if(!m){F.push(null);continue}F.push(u(_,m,k,N))}return F}function u(_,R,k,N){const F=N.get(R);if(F)return F;const $={heritage:[],name:R.name.escapedText,props:{},computedProps(){const m={};for(let d of $.heritage)Object.assign(m,d.props);return Object.assign(m,$.props),m},lookupProp(m){let d=$.props[m];if(!d){for(let y of $.heritage)if(d=y.lookupProp(m))break}return d}};if(N.set(R,$),R.heritageClauses)for(let m of R.heritageClauses)for(let d of m.types){const y=d.expression;if(t.isIdentifier(y)){const S=k.get(y.escapedText);S&&$.heritage.push(u(_,S,k,N))}}return R.forEachChild(m=>{if(t.isPropertySignature(m)){const d=p(m,_,$);$.props[d.name]=d}}),$}function p(_,R,k){const N=t.getLineAndCharacterOfPosition(R,_.pos);let F=null;const $=_.type,m=f(_.name),d={name:m,type:$,get typestr(){return F===null&&(F=$?E($,R):"any"),Object.defineProperty(d,"typestr",{enumerable:!0,value:F}),F},srcfile:R.fileName,srcline:N.line,srccol:N.character,parent:k};return d}function f(_){switch(_.kind){case t.SyntaxKind.Identifier:case t.SyntaxKind.PrivateIdentifier:return _.escapedText;case t.SyntaxKind.StringLiteral:case t.SyntaxKind.NumericLiteral:return _.text;case t.SyntaxKind.ComputedPropertyName:return"[computed]";default:return"?"}}function T(_){const R=new Map;return t.forEachChild(_,k=>{k.kind==t.SyntaxKind.InterfaceDeclaration&&R.set(k.name.escapedText,k)}),R}const C=t.createPrinter({removeComments:!0,newLine:t.NewLineKind.LineFeed,omitTrailingSemicolon:!0,noEmitHelpers:!0});function E(_,R){if(!R){let k=_;for(;k.kind!=t.SyntaxKind.SourceFile;)if(k=k.parent,!k)throw new Error("node without SourceFile parent (provide file to ts.fmt)");R=k}return C.printNode(t.EmitHint.Unspecified,_,R)}return{ts:t,getCompilerHost:s,parse:n,parseFile:o,interfaceInfo:a,interfacesInfo:l,interfacesInfoAST:c,fmt:E}}const lo={version:"0.7.7",BuildOptions:new Set(["sourcemap","format","globalName","target","strict","minify","minifyWhitespace","minifyIdentifiers","minifySyntax","jsxFactory","jsxFragment","define","pure","color","logLevel","errorLimit","bundle","splitting","outfile","metafile","outdir","platform","external","loader","resolveExtensions","mainFields","write","tsconfig","outExtension","entryPoints","stdin"])},co={BuildConfig:new Set(["entry","debug","watch","cwd","quiet","clear","tslint","onStart","onEnd","outfileMode","run","tsc","tsrules","title"])};const pt=j(require("path")),uo=j(Hr());class fo{constructor(e){this.basedir="";this._resolve=(e,t)=>{};this._cancelled=!1;this._watcher=null;this._fileset=new Set;this.options=e,this.promise=new Promise(t=>{this._resolve=t}),this.promise.cancel=()=>{this._cancelled=!0}}setFiles(e){const t=new Set(e);if(!this._watcher){this._fileset=t,this._start();return}let r=[];for(let n of this._fileset)t.has(n)||r.push(n);let s=[];for(let n of t)this._fileset.has(n)||s.push(n);this._fileset=t,r.length>0&&(w.debug(()=>`fswatch stop watching files ${this._relnames(r)}`),this._watcher.unwatch(r)),s.length>0&&(w.debug(()=>`fswatch start watching files ${this._relnames(s)}`),this._watcher.add(s))}close(){return this._watcher?(w.debug(()=>"fswatch closing"),this._watcher.close().then(()=>this._resolve()).catch(e=>this._resolve(void 0,e)),this._watcher=null,this.promise):Promise.resolve()}_relnames(e){return e.length==1?this._relname(e[0]):e.map(t=>`
  `+this._relname(t)).join("")}_relname(e){return this.basedir?pt.relative(this.basedir,e):pt.relative(process.cwd(),e)}_start(){if(this._cancelled)return;const e=Array.from(this._fileset);if(e.length==0)return;this.basedir&&(this.basedir=pt.resolve(this.basedir));let t=50,r=null;const s={...this.options};typeof s.latency=="number"&&(t=s.latency,delete s.latency),s.filter&&(r=s.filter,delete s.filter);const n={disableGlobbing:!0,followSymlinks:!1,awaitWriteFinish:{stabilityThreshold:20,pollInterval:100},...s,persistent:!0,ignoreInitial:!0},o=new Set;let i=null;const a=()=>{i=null;const u=this.onChange?this.onChange(Array.from(o)):null;o.clear(),u instanceof Promise&&(u.then(()=>{i=null,o.size>0&&a()}).catch(p=>{this.promise.cancel(p)}),i=1)},l=(u,p)=>{if(Ht(p)){w.debug(()=>`fswatch ignoring self-originating event ${u} ${p}`);return}if(r&&!r.test(p)){w.debug(()=>`fswatch ignoring ${u} ${p} (filter)`);return}w.debug(()=>`fsevent ${u} ${te(p)}`),o.add(p),i===null&&(i=setTimeout(a,t))};this.promise.cancel=u=>{w.debug("fswatcher is being cancelled"),clearTimeout(i),this._cancelled||(this._cancelled=!0,this.close()),u&&this._resolve(void 0,u)};const c=_e();this._watcher=uo.watch(e,n).on("all",l).on("error",u=>w.warn(`fswatch ${u}`)).on("ready",()=>{w.debug(()=>`fswatch initial scan complete (${ct(_e()-c)})`),this.onStart&&this.onStart()})}}const po=j(require("crypto"));function qt(e,t){const r=po.createHash("sha1").update(e);return t?r.digest(t):r.digest()}const ho=j(require("path"));function mo(e){let t="",r=!1,s=!1;const n=Object.create({get projectID(){if(!t){const o=[n.cwd,n.outfile||"",...Array.isArray(n.entryPoints)?n.entryPoints:n.entryPoints?[n.entryPoints]:[]].join(ho.delimiter);t=au(qt(Buffer.from(o,"utf8")))}return t},get buildIsCancelled(){return r},set buildIsCancelled(o){r=o},get outfileIsTemporary(){return s},set outfileIsTemporary(o){s=o}});return Object.assign(n,e),n}function au(e){let t="";for(let r=0;r<e.length;r+=4)t+=e.readUInt32LE(r).toString(36);return t}const go=j(require("esbuild")),Ne=j(require("fs")),Ut=j(require("os")),X=j(require("path")),He=j(ds()),{dirname:os,basename:bo}=X,Je={usage:"usage: $0 [options]",flags:[["-w, watch","Watch source files for changes and rebuild."],["-g, debug","Do not optimize and define DEBUG=true."],["-r, run","Run the output file after a successful build."],["-sourcemap","Generate sourcemap."],["-inline-sourcemap","Generate inline sourcemap."],["-no-color","Disable use of colors."],["-no-clear","Disable clearing of the screen, regardless of TTY status."],["-no-diag","Disable TypeScript diagnostics."],["-color","Color terminal output, regardless of TTY status."],["-diag","Only run TypeScript diagnostics (no esbuild.)"],["-quiet","Only log warnings and errors but nothing else."],["-estrella-version","Print version of estrella and exit 0."],["-estrella-debug","Enable debug logging of estrella itself."]]},lu={usage:"usage: $0 [options] <srcfile> ...",flags:Je.flags.concat([["-o, outfile","Write output to <file> instead of stdout.","<file>"],["-bundle","Include all dependencies."],["-minify","Simplify and compress generated code."],["-outdir","Write output to <dir> instead of stdout.","<dir>"],["-esbuild","Pass arbitrary JSON to esbuild's build function.","<json>"]]),trailer:`
Example of using estrella without a build script:
  $0 -o out/app.js main.ts
    This compile main.ts and writes the output to out/app.js

Example of using estrella with a build script:
  1. Create a file called build.js with the following contents:
       #!/usr/bin/env node
       const { build } = require("estrella")
       build({
         entry: "main.ts",
         outfile: "out/main.js",
       })
  2. Make that file executable and run it:
       chmod +x build.js
       ./build.js
  You can now customize your build behavior by changing build.js.
  Try ./build.js -help

See https://github.com/rsms/estrella#readme for documentation.
  `};let as=Promise.resolve(),re={},be=[];const ls=Symbol("IS_MAIN_CALL");let yo=!1;function wo(e){if(!yo){yo=!0;let t=e||1;process.exitCode=t,process.on("exit",r=>{process.exit(r||t)})}}function cu(e){if(w.debug(()=>`input config ${te(e)}`),e.entryPoints||(e.entryPoints=[]),e.entry&&(Array.isArray(e.entry)?e.entryPoints=e.entryPoints.concat(e.entry):e.entryPoints.push(e.entry)),delete e.entry,e.entryPoints.length==0&&(w.debug(()=>"missing entryPoints; attempting inference"),e.entryPoints=_o(e),e.entryPoints.length==0)){let t=ut(e)?" (could not guess from tsconfig.json)":"";throw new je(`config.entryPoints is empty or not set${t}`)}e.sourcemap?e.sourcemap!="inline"&&e.sourcemap!="external"&&(e.sourcemap=!0):e.sourcemap=!1,w.debug(()=>`effective config for project#${e.projectID}: ${te(e)}`)}function uu(e,t){const r=JSON.parse(Ne.readFileSync(e));for(let s in t){const n=t[s];n===void 0?delete r[s]:r[s]=n}Ne.writeFileSync(e,JSON.stringify(r))}function _o(e){const t=ut(e);if(t){if(w.debug(()=>`tsconfig file found at ${Qe(e)}`),t.files)return t.files;if(t.include){let r=[];for(let s of t.include)w.debug(`guessing entry points: glob.glob(${s}) =>`,He.glob(s)),r=r.concat(He.glob(s));if(t.exclude)for(let s of t.exclude)r=r.filter(n=>!He.match(s,n));return r.slice(0,1)}}return[]}function du(e){let t={},r={};const s={name:"globalName"};for(let n of Object.keys(e)){if(co.BuildConfig.has(n))continue;lo.BuildOptions.has(n)||(r[n]=e[n]),n=s[n]||n,t[n]=e[n]}return Object.keys(r).length>0&&w.info(`Notice: Potentially invalid esbuild.BuildOption(s): ${te(r)}
`+xi("guess",ee(Object.keys(r)))),t}let So=new Set;function fu(...e){if(w.level>=w.INFO){const t=e.join(" ");So.has(t)||(So.add(t),w.info(...e))}}function xo(e){e=mo(e||{});const t={resolve(){},reject(){}},r=[];function s(a){e.isCancelled?a():r.push(a)}function n(a){if(!e.isCancelled){w.debug("build cancelled",{reason:a}),e.isCancelled=!0;for(let l of r)l&&l();r.length=0,a?t.reject(a):t.resolve()}}let o={addCancelCallback:s,buildCounter:0,rebuild(){return w.warn("rebuild() called before initial build completed. Ignoring"),Promise.resolve(!0)}};const i=as.then(()=>new Promise((a,l)=>{if(e.isCancelled)return w.debug("build cancelled immediately"),!1;t.resolve=a,t.reject=l,pu(e,o).then(a).catch(l)}));return i.rebuild=()=>o.rebuild(),Object.defineProperty(i,"buildCounter",{get(){return o.buildCounter}}),i.cancel=n,i}async function pu(e,t){const r=ls in e;delete e[ls];let s=re,n=be;if(e.run===void 0&&(e.run=s.run),!r)e={...e},cu(e);else{if(e.cwd=process.cwd(),n.length==0){const d=_o(e);w.debug(()=>`no input files provided; best guess: ${te(d)}`),d.length==0&&(w.error(`missing <srcfile> argument (see ${ge} -help)`),process.exit(1)),n.splice(n.length-1,0,...d);const y=ut(e);!s.outfile&&!s.outdir&&y&&(s.outfile=y.outFile,s.outfile||(s.outdir=y.outDir)),n.length==0&&(w.error(`missing <srcfile> argument (see ${ge} -help)`),process.exit(1))}if(s.outfile=="-"||!s.outfile&&!s.outdir){s.outfile="-";const d=e.projectID;s.outfile=X.join(Ut.tmpdir(),`esbuild.${d}.out.js`),e.outfileIsTemporary=!0}if(e.entryPoints=n,e.outfile=s.outfile||void 0,e.outdir=s.outdir||void 0,e.bundle=s.bundle||void 0,e.minify=s.minify||void 0,s.esbuild){const d=Wr(s.esbuild,"-esbuild");if(!d||typeof d!="object")return w.error(`-esbuild needs a JS object, for example '{key:"value"}'. Got ${typeof d}.`),!1;w.debug(()=>`applying custom esbuild config ${te(d)}`);for(let y in d)e[y]=d[y]}}const o=e.debug=s.debug=!!(s.debug||e.debug),i=e.quiet=s.quiet=!!(s.quiet||e.quiet);s.watch=!!(s.watch||e.watch),(!e.watch||typeof e.watch!="object")&&(e.watch=s.watch),e.color!==void 0&&(w.colorMode=e.color,Z.reconfigure(process.stdout,e.color),we.reconfigure(process.stderr,e.color)),i&&(w.level=w.WARN),e.sourcemap=s["inline-sourcemap"]?"inline":s.sourcemap?!0:e.sourcemap,e.clear=s["no-clear"]?!1:e.clear===void 0?!!process.stdout.isTTY:e.clear,e.cwd=e.cwd?X.resolve(e.cwd):process.mainModule&&os(process.mainModule.filename)||__dirname,w.debug(()=>`project directory ${te(e.cwd)} (config.cwd)`),e.title||(e.title=e.name||Fe(e.cwd));let a=s.diag===!0?"on":s.diag===!1?"off":"auto";if(a!=="off"){e.tsc!==void 0&&(w.info("the 'tsc' property is deprecated. Please rename to 'tslint'."),e.tslint===void 0&&(e.tslint=e.tsc)),e.tslint&&e.tslint!=="auto"&&(a=e.tslint);const d=a==="auto"||typeof a=="object"&&(e.tslint.mode==="auto"||!e.tslint.mode);d?Qe(e)||(w.debug(()=>{const y=Xr(e),S=Array.from(Yr(y,e.cwd));return`skipping tslint in auto mode since no tsconfig.json file was found in project.
Tried the following filenames:${S.map(x=>`
  ${Fe(x)}`)}`}),a="off"):e.tslint!==void 0&&e.tslint!=="auto"&&(a=e.tslint)}e.run&&io(e);let l=0;function c(){Re.clear(),l=_e()}let u=!1;const p=e.onEnd;let f=p?async(d,y)=>{u=!0;let S;try{const x=p(e,d,t);S=x instanceof Promise?await x:x}catch(x){throw w.debug(()=>`error in onEnd handler: ${x.stack||x}`),x}finally{u=!1}return vo(d&&d.errors?d.errors:[]),S===void 0?y:!!S}:(d,y)=>(vo(d&&d.errors?d.errors:[]),y);function T(d){let y=f;f=async(S,x)=>{const h=await d(S,x);return h!==void 0&&(x=h),y(S,x)}}e.outfileMode&&e.outfile&&T(async(d,y)=>{try{Ti(e.outfile,e.outfileMode)}catch(S){w.error("configuration error: outfileMode: "+S.message),wo(1)}}),e.outfileIsTemporary&&!e.run&&T(async(d,y)=>new Promise((S,x)=>{const h=Ne.createReadStream(e.outfile);h.on("end",()=>S(y)),h.on("error",x),h.pipe(process.stdout)})),e.watch&&T(async(d,y)=>{fu("Watching files for changes...")});let C={DEBUG:o,...e.define||{}};for(let d in C)C[d]=ee(C[d]);const E={minify:!o,sourcemap:e.sourcemap,color:we.ncolors>0,...du(e),define:C};if(e.watch){const d=e.projectID;(!E.outfile&&!E.outdir||E.write===!1)&&(E.outfile=X.join(Ut.tmpdir(),`esbuild.${d}.out.js`),delete E.write),E.metafile||(E.metafile=X.join(Ut.tmpdir(),`esbuild.${d}.meta.json`))}E.metafile&&w.debug(()=>`writing esbuild meta to ${E.metafile}`),t.rebuild=()=>k([]).then(d=>(u&&w.warn("waiting for rebuild() inside onEnd handler may cause a deadlock"),d));function _(d,{warnings:y}){Eo(y||[]);const S=e.outfile,x=ct(_e()-d);if(!S)w.info(Z.green(e.outdir?`Wrote to dir ${e.outdir} (${x})`:`Finished (write=false, ${x})`));else{let h=S;if(e.sourcemap&&e.sourcemap!="inline"){const L=X.extname(S),W=X.join(X.dirname(S),X.basename(S,L));h=`${W}.{${L.substr(1)},${L.substr(1)}.map}`,uu(X.resolve(e.cwd,e.outfile+".map"),{sourcesContent:void 0,sourceRoot:X.relative(X.dirname(e.outfile),e.cwd)})}let O=0;try{O=Ne.statSync(S).size}catch(L){}e.outfileIsTemporary||w.info(Z.green(`Wrote ${h}`)+` (${bi(O)}, ${x})`)}return f({warnings:y,errors:[]},!0)}function R(d,y,S){let x=y.warnings||[],h=y.errors||[],O=S&&S.showStackTrace;return h.length==0&&h.push({text:String(O&&y.stack?y.stack:y),location:null}),Eo(x),f({warnings:x,errors:h},!1)}async function k(d){if(e.watch&&e.clear&&c(),e.onStart)try{const x=e.onStart(e,d,t);x instanceof Promise&&await x}catch(x){throw w.debug(()=>`error in onStart handler: ${x.stack||x}`),x}if(e.isCancelled)return;w.debug(()=>`invoking esbuild.build() in ${process.cwd()} with options: ${te(E)}`);const y=process.cwd();process.chdir(e.cwd);const S=go.build(E);return process.chdir(y),S.then(_.bind(null,_e()),R.bind(null,_e()))}const N=s.diag?null:k([]),[F,$]=a!=="off"?mu(a,s,e):[null,!1];F&&!$&&(F.catch(d=>(w.error(d.stack||String(d)),!1)),t.addCancelCallback(()=>{F.cancel()}),re.diag&&e.watch&&e.clear&&Re.clear());let m=!0;if(N&&(w.debug("awaiting esbuild"),m=await N,e.isCancelled))return!1;if(e.watch)return await hu(e,E.metafile,t,d=>{const y=d.map(x=>X.relative(e.cwd,x)),S=d.length;return w.info(`${S} ${S>1?"files":"file"} changed: ${y.join(", ")}`),k(d)}),w.debug("fswatch ended"),!0;if(F){let d=null;m?(w.debug("awaiting eslint"),!$&&!s.diag&&(d=setTimeout(()=>w.info("Waiting for TypeScript... (^C to skip)"),1e3)),m=await F.catch(()=>!1)):(w.debug("cancelling eslint since esbuild reported an error"),F.cancel()),clearTimeout(d)}if(!e.isCancelled&&!m&&wo(),m){const d=await oo();process.exitCode=d}return m}let Co=new Map;async function hu(e,t,r,s){const n=e.projectID;let o=Co.get(n);if(!o){const a=e.watch&&typeof e.watch=="object"?e.watch:{};o=new fo(a),Co.set(n,o),o.basedir=e.cwd,o.onChange=l=>s(l).then(i),r.addCancelCallback(()=>{o.promise.cancel()}),w.debug(`fswatch started for project#${n}`)}async function i(){let a={};try{a=JSON.parse(await ie.read(t,"utf8"))}catch(f){w.error(`internal error when reading esbuild metafile ${te(t)}: ${f.stack||f}`);return}const l=Object.keys(a.inputs),c=a.outputs;w.debug(()=>`esbuild reported ${l.length} source files and ${Object.keys(c).length} output files`);const u=X.sep+"node_modules"+X.sep;for(let f of Object.keys(c))Ve(f);const p=[];for(let f of l){if(f in c)continue;if(l.length>100&&f.contains(u))continue;p.push(f)}o.setFiles(p)}return await i(),o.promise}const Ro=new Map;function mu(e,t,r){let s=e,n={};if(e&&typeof e=="object"&&(s=void 0,n=e,n.mode=="off"))return w.debug(()=>'tslint disabled by tslint config {mode:"off"}'),[null,!1];r.tsrules&&r.tsrules.length&&(w.info("The 'tsrules' property is deprecated. Please use 'tslint.rules' instead"),n.rules={...r.tsrules,...n.rules});const o=t.diag&&r.watch&&r.clear,i=Qe(r),a=`${i||r.cwd}`,l=Ro.get(a);if(l)return w.debug(()=>"tslint sharing process (no new process created)"),[l,!0];const c={colors:Z.ncolors>0,quiet:r.quiet,mode:s,...n,watch:r.watch,cwd:r.cwd,clearScreen:o,srcdir:os(r.entryPoints[0]),tsconfigFile:i,onRestart(){w.debug("tsc restarting")}};w.debug(()=>`starting tslint with options ${te(c)}`);const u=Jr(c);return Ro.set(a,u),[u,!1]}function Eo(e){e.length>0&&w.warn("[warn] "+e.map(t=>t.text).join(`
`))}function vo(e){e.length>0&&w.error(e.map(t=>t.text).join(`
`))}function gu(){return xo({[ls]:1}).catch(e=>{console.error(we.red(ge+": "+(e?e.stack||e:"error")));const t=process.exitCode||0;process.exit(t>0?t:1)}).then(e=>{const t=process.exitCode||0;process.exit(e||t>0?t:1)})}function To(){re["no-color"]&&(re.color=!1),re["no-diag"]&&(re.diag=!1),w.colorMode=re.color,Z.reconfigure(process.stdout,re.color),we.reconfigure(process.stderr,re.color),re.color!==void 0,re["estrella-version"]&&(console.log("estrella 1.2.1"),process.exit(0)),re["estrella-debug"]&&(w.level=w.DEBUG),re.diag&&re.run&&(w.info("Disabling -run since -diag is set"),re.run=void 0),w.debug(()=>`Parsed initial CLI arguments: ${te({options:re,args:be},2)}`)}if(module.id=="."||process.mainModule&&bo(process.mainModule.filename||"")=="estrella.js"){[re,be]=$t(process.argv.slice(2),lu),To(),gu();return}[re,be]=$t(process.argv.slice(2),{...Je,unknownFlagAsArg:!0,help(e,t,r){as=new Promise(s=>{process.nextTick(()=>{console.log(qr(e,Je.usage,Je.trailer)),process.exit(0),s()})})}});To();be.length>0&&as.then(()=>{be.length>0&&Gr(be)});re.parse=(...e)=>{w.debug(()=>`Parsing custom CLI arguments ${ee(be.join)} via cliopts.parse(`+te(e)+")");const t=$t(be,{...Je,flags:Je.flags.concat(e)});return w.debug(()=>"Parsed extra CLI arguments: "+ee({options:t[0],args:t[1]},2)),be.splice(0,be.length),t};function bu(e,t,r,s){return s===void 0&&(r===void 0?(s=t,r={}):(s=r,r={...r,filter:t},r.recursive!==void 0&&(r.recursive||(r.depth=0),delete r.recursive))),Kr(e,r,s)}let cs;module.exports={version:"1.2.1",prog:ge,cliopts:re,cliargs:be,dirname:os,basename:bo,watch:Kr,watchdir:bu,scandir:Ii,tslint:Jr,defaultTSRules:Qr,termStyle:Nt,stdoutStyle:Z,stderrStyle:we,chmod:ie.chmod,editFileMode:ie.editMode,fmtDuration:ct,tildePath:Fe,findInPATH:Lt,tsconfig:ut,tsconfigFile:Qe,glob:He.glob,globmatch:He.match,file:ie,sha1:qt,log:w,get ts(){return cs===void 0&&(cs=ao()),cs},build:xo};
//# sourceMappingURL=estrella.js.map
